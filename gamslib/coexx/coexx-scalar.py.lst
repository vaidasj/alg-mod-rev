GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:28 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
   2  option MIP=convert;
   3  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:28 Page 2
Peacefully Coexisting Armies of Queens - tight (COEXX,SEQ=218)
C o m p i l a t i o n


       This is a tighter formulation than the original COEX problem.
       We have set the size of the board to 5 in order to find
       solutions quickly. In addition we fix the position of one queen.
       
       Two armies of queens (black and white) peacefully coexist on a
       chessboard when they are placed on the board in such a way that
       no two queens from opposing armies can attack each other. The
       problem is to find the maximum two equal-sized armies.
       
       
      Bosch, R, Mind Sharpener. OPTIMA MPS Newsletter (2000).
       
  19   
  21  Sets i  size of chess board     / 1* 5 /    ! use 8 for chess (13)
  22       s  diagonal offsets        / 1* 7 /    ! 2i-3 diagonals
  23   
  24  scalar idiags correct size of s; idiags = 2*card(i) - 3;
  25  abort$(card(s) <> idiags) 's has incorrect size',idiags;
  26   
  27  Alias (i,j)
  28   
  29  Parameter sh(s)    shift values for diagonals
  30            rev(s,i) reverse shift order;
  31   
  32  sh(s)  = ord(s) - card(i) + 1 ;
  33  rev(s,i) = card(i) + 1 - 2*ord(i) + sh(s);
  34   
  35  Binary Variable xw(i,j) has a white queen
  36                  xb(i,j) has a black queen
  37                  wa(i)   white in row i
  38                  wb(i)   white in column j
  39                  wc(s)   white in diagonal s
  40                  wd(s)   white in backward diagonal s;
  41         Variable tot;
  42   
  43  Equations aw(i,j) white in row i
  44            bw(j,i) white in column j
  45            cw(s,i) white in diagonal s
  46            dw(s,i) white in backward diagonal s
  47            ew      total white
  48            ab(i,j) black in row i
  49            bb(j,i) black in column j
  50            cb(s,i) black in diagonal s
  51            db(s,i) black in backward diagonal s
  52            eb      total black;
  53   
  54  aw(i,j).. wa(i) =g=  xw(i,j);
  55   
  56  bw(j,i).. wb(j) =g=  xw(i,j);
  57   
  58  cw(s,i).. wc(s) =g=  xw(i,i+sh(s));
  59   
  60  dw(s,i).. wd(s) =g= xw(i,i+rev(s,i));
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:28 Page 3
Peacefully Coexisting Armies of Queens - tight (COEXX,SEQ=218)
C o m p i l a t i o n


  61   
  62  ab(i,j).. 1-wa(i) =g= xb(i,j);
  63   
  64  bb(j,i).. 1-wb(j) =g= xb(i,j);
  65   
  66  cb(s,i).. 1-wc(s) =g= xb(i,i+sh(s));
  67   
  68  db(s,i).. 1-wd(s) =g= xb(i,i+rev(s,i));
  69   
  70  eb..  tot =e= sum((i,j), xb(i,j));
  71   
  72  ew..  tot =e= sum((i,j), xw(i,j));
  73   
  74   
  75  Model army / all /;
  76   
  77  option limcol=0,limrow=0;
  78   
  79  xb.fx('1','1') = 1; ! fix one position in the NW corner
  80   
  81  Solve army maximizing tot using mip;


COMPILATION TIME     =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:28 Page 4
Peacefully Coexisting Armies of Queens - tight (COEXX,SEQ=218)
Model Statistics    SOLVE army Using MIP From line 81


MODEL STATISTICS

BLOCKS OF EQUATIONS          10     SINGLE EQUATIONS          242
BLOCKS OF VARIABLES           7     SINGLE VARIABLES           75
NON ZERO ELEMENTS           484     DISCRETE VARIABLES         73


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:28 Page 5
Peacefully Coexisting Armies of Queens - tight (COEXX,SEQ=218)
Solution Report     SOLVE army Using MIP From line 81


               S O L V E      S U M M A R Y

     MODEL   army                OBJECTIVE  tot
     TYPE    MIP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  81

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/coexx/convert.opt"
>>  pyomo coexx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/coexx/convert.opt"
Pyomo     : coexx-scalar.py


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/coexx/coexx.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/coexx/coexx-scalar.py.lst
