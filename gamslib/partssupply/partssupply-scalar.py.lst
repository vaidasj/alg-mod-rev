GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
   2  option NLP=convert;
   3  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 2
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
C o m p i l a t i o n


   5   
       This model is based on the ps2_f_s.358 .. ps10_s_mn.396 models by
       Hideo Hashimoto, Kojun Hamada, and Nobuhiro Hosoe.
       
       Using the following options, these models can be run:
       
       ps2_f              : default
       ps2_f_eff          : --nsupplier=1
       ps2_f_inf          : --nsupplier=1 --alttheta=1
       ps2_f_s            : --useic=1
       ps2_s              : --useic=1
       ps3_f              : --nsupplier=3
       ps3_s              : --nsupplier=3  --uselicd=1
       ps3_s_gic          : --nsupplier=3  --useic=1
       ps3_s_mn  1st solve: --nsupplier=3  --uselicd=1
                 2nd solve: --nsupplier=3  --uselicd=1 --altpi=1
                 3rd solve: --nsupplier=3  --uselicd=1 --alttheta=1
       ps3_s_scp 1st solve: --nsupplier=3  --alttheta=2 --modweight=1 --useic=1
                 2nd solve: --nsupplier=3  --alttheta=2 --modweight=1 --uselicd=1 --uselicu=1
       ps5_s_mn           : --nsupplier=5  --uselicd=1 --nsamples=1000
       ps10_s             : --nsupplier=10 --uselicd=1
       ps10_s_mn          : --nsupplier=10 --uselicd=1 --nsamples=1000
       
       Alternatively, the corresponding original model files can be found in
       the GAMS model library.
  32   
  33   
  43   
  44  * Definition of Sets
  45  Set     i       type of supplier        /1 * 2 /
  46          t       Monte-Carlo draws       /1 * 1  /
  47  ;
  48  Alias (i,j);
  49   
  50  * Definition of Parameters
  51  Parameter  theta(i)        efficiency
  52             pt(i,t)         probability of type
  53             p(i)            probability of type for currently evaluated scenario
  54             icweight(i)     weight in ic constraints
  55  ;
  56  Scalar     ru              reservation utility  / 0 /;
  57   
  58  * Data
  60  Parameter theta(i) / 1 0.2,  2 0.3 /;
  61  Parameter p(i)     / 1 0.2,  2 0.8 /;
  62   
  64   
  65  loop(t, pt(i,t) = uniform(0,1));
  66  pt(i,t) = pt(i,t)/sum(j,pt(j,t));
  67  pt(i,t) = p(i);
  68   
  69  * Definition of Variables and Equations
  70  Positive Variable
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 3
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
C o m p i l a t i o n


  71          x(i)            quality
  72          b(i)            maker's revenue
  73          w(i)            price
  74  ;
  75  Variable Util           maker's utility;
  76   
  77  Equation obj            maker's utility function
  78           rev(i)         maker's revenue function
  79           pc(i)          participation constraint
  80           ic(i,j)        incentive compatibility constraint
  81           licd(i)        incentive compatibility constraint
  82           licu(i)        incentive compatibility constraint
  83           mn(i)          monotonicity constraint
  84  ;
  85   
  86  * Specification of Equations
  87  obj..     Util =e= sum(i, p(i)*(b(i)-w(i)));
  88   
  89  rev(i)..  b(i) =e= sqrt(x(i));
  90   
  91  pc(i)..
  92  w(i) - theta(i)   *x(i) =g= ru;
  94   
  95  ic(i,j).. w(i) - icweight(i)*x(i) =g= w(j)   - icweight(i) * x(j);
  96   
  97  licd(i)$(ord(i)<card(i))..
  98            w(i) - icweight(i)*x(i) =g= w(i+1) - icweight(i) * x(i+1);
  99   
 100  licu(i)$(ord(i)>1)..
 101            w(i) - icweight(i)*x(i) =g= w(i-1) - icweight(i) * x(i-1);
 102   
 103  mn(i)$(ord(i)<card(i))..
 104            x(i) =g= x(i+1);
 105   
 106   
 107  * Setting Lower Bounds on Variables to Avoid Division by Zero
 108  x.lo(i)=0.0001;
 109   
 110  * Defining the Models
 111  Model m 'parts supply model w/o monotonicity'
 112  / all - mn
 113  -ic
 114  -licd
 115  -licu
 116  /;
 117   
 118  Model m_mn 'parts supply model w/ monotonicity' / m + mn /;
 119   
 120  * Parameters to store some solution values
 121  Parameter  Util_lic(t)  "Util solved w/o MN"
 122             Util_lic2(t) "Util solved w/  MN"
 123             x_lic(i,t)   "x solved    w/o MN"
 124             x_lic2(i,t)  "x solved    w/  MN"
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 4
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
C o m p i l a t i o n


 125  ;
 126   
 127  * Solving the Model
 128  option limrow = 0;
 129  option limcol = 0;
 130   
 131  loop(t,
 132    p(i) = pt(i,t);
 133    icweight(i) = theta(i)$(not 0) + (1-theta(i)+sqr(theta(i)))$(0);
 134   
 135    Solve m maximizing Util using NLP;
 136   
 137    Util_lic(t) = util.l;
 138    x_lic(i,t)  = x.l(i);
 139   
 140    Solve m_mn maximizing Util using NLP;
 141   
 142    Util_lic2(t) = util.l;
 143    x_lic2(i,t)  = x.l(i);
 144   
 145    option solprint = off;
 146  );
 147   
 148   
EXIT /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 5
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms
     2      149 EXIT           1     164  /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 6
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Model Statistics    SOLVE m Using NLP From line 135


LOOPS                                    t   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            5
BLOCKS OF VARIABLES           4     SINGLE VARIABLES            7  2 projected
NON ZERO ELEMENTS            13     NON LINEAR N-Z              2
DERIVATIVE POOL              20     CONSTANT POOL              16
CODE LENGTH                  10


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
               L O O P S                  t 1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 7
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Solution Report     SOLVE m Using NLP From line 135


               S O L V E      S U M M A R Y

     MODEL   m                   OBJECTIVE  Util
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  135

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
>>  pyomo partssupply-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
Pyomo     : partssupply-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 8
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Model Statistics    SOLVE m_mn Using NLP From line 140


LOOPS                                    t   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           4     SINGLE EQUATIONS            6
BLOCKS OF VARIABLES           4     SINGLE VARIABLES            7  2 projected
NON ZERO ELEMENTS            15     NON LINEAR N-Z              2
DERIVATIVE POOL              20     CONSTANT POOL              16
CODE LENGTH                  10


GENERATION TIME      =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
               L O O P S                  t 1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 9
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Solution Report     SOLVE m_mn Using NLP From line 140


               S O L V E      S U M M A R Y

     MODEL   m_mn                OBJECTIVE  Util
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  140

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
>>  pyomo partssupply-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
Pyomo     : partssupply-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:43:40 Page 10
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
E x e c u t i o n


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply-scalar.py.lst
