GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 2
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
C o m p i l a t i o n


   3   
       This model is based on the ps2_f_s.358 .. ps10_s_mn.396 models by
       Hideo Hashimoto, Kojun Hamada, and Nobuhiro Hosoe.
       
       Using the following options, these models can be run:
       
       ps2_f              : default
       ps2_f_eff          : --nsupplier=1
       ps2_f_inf          : --nsupplier=1 --alttheta=1
       ps2_f_s            : --useic=1
       ps2_s              : --useic=1
       ps3_f              : --nsupplier=3
       ps3_s              : --nsupplier=3  --uselicd=1
       ps3_s_gic          : --nsupplier=3  --useic=1
       ps3_s_mn  1st solve: --nsupplier=3  --uselicd=1
                 2nd solve: --nsupplier=3  --uselicd=1 --altpi=1
                 3rd solve: --nsupplier=3  --uselicd=1 --alttheta=1
       ps3_s_scp 1st solve: --nsupplier=3  --alttheta=2 --modweight=1 --useic=1
                 2nd solve: --nsupplier=3  --alttheta=2 --modweight=1 --uselicd=1 --uselicu=1
       ps5_s_mn           : --nsupplier=5  --uselicd=1 --nsamples=1000
       ps10_s             : --nsupplier=10 --uselicd=1
       ps10_s_mn          : --nsupplier=10 --uselicd=1 --nsamples=1000
       
       Alternatively, the corresponding original model files can be found in
       the GAMS model library.
  30   
  31   
  41   
  42  * Definition of Sets
  43  Set     i       type of supplier        /1 * 2 /
  44          t       Monte-Carlo draws       /1 * 1  /
  45  ;
  46  Alias (i,j);
  47   
  48  * Definition of Parameters
  49  Parameter  theta(i)        efficiency
  50             pt(i,t)         probability of type
  51             p(i)            probability of type for currently evaluated scenario
  52             icweight(i)     weight in ic constraints
  53  ;
  54  Scalar     ru              reservation utility  / 0 /;
  55   
  56  * Data
  58  Parameter theta(i) / 1 0.2,  2 0.3 /;
  59  Parameter p(i)     / 1 0.2,  2 0.8 /;
  60   
  62   
  63  loop(t, pt(i,t) = uniform(0,1));
  64  pt(i,t) = pt(i,t)/sum(j,pt(j,t));
  65  pt(i,t) = p(i);
  66   
  67  * Definition of Variables and Equations
  68  Positive Variable
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 3
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
C o m p i l a t i o n


  69          x(i)            quality
  70          b(i)            maker's revenue
  71          w(i)            price
  72  ;
  73  Variable Util           maker's utility;
  74   
  75  Equation obj            maker's utility function
  76           rev(i)         maker's revenue function
  77           pc(i)          participation constraint
  78           ic(i,j)        incentive compatibility constraint
  79           licd(i)        incentive compatibility constraint
  80           licu(i)        incentive compatibility constraint
  81           mn(i)          monotonicity constraint
  82  ;
  83   
  84  * Specification of Equations
  85  obj..     Util =e= sum(i, p(i)*(b(i)-w(i)));
  86   
  87  rev(i)..  b(i) =e= sqrt(x(i));
  88   
  89  pc(i)..
  90  w(i) - theta(i)   *x(i) =g= ru;
  92   
  93  ic(i,j).. w(i) - icweight(i)*x(i) =g= w(j)   - icweight(i) * x(j);
  94   
  95  licd(i)$(ord(i)<card(i))..
  96            w(i) - icweight(i)*x(i) =g= w(i+1) - icweight(i) * x(i+1);
  97   
  98  licu(i)$(ord(i)>1)..
  99            w(i) - icweight(i)*x(i) =g= w(i-1) - icweight(i) * x(i-1);
 100   
 101  mn(i)$(ord(i)<card(i))..
 102            x(i) =g= x(i+1);
 103   
 104   
 105  * Setting Lower Bounds on Variables to Avoid Division by Zero
 106  x.lo(i)=0.0001;
 107   
 108  * Defining the Models
 109  Model m 'parts supply model w/o monotonicity'
 110  / all - mn
 111  -ic
 112  -licd
 113  -licu
 114  /;
 115   
 116  Model m_mn 'parts supply model w/ monotonicity' / m + mn /;
 117   
 118  * Parameters to store some solution values
 119  Parameter  Util_lic(t)  "Util solved w/o MN"
 120             Util_lic2(t) "Util solved w/  MN"
 121             x_lic(i,t)   "x solved    w/o MN"
 122             x_lic2(i,t)  "x solved    w/  MN"
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 4
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
C o m p i l a t i o n


 123  ;
 124   
 125  * Solving the Model
 126  option limrow = 0;
 127  option limcol = 0;
 128   
 129  loop(t,
 130    p(i) = pt(i,t);
 131    icweight(i) = theta(i)$(not 0) + (1-theta(i)+sqr(theta(i)))$(0);
 132   
 133    Solve m maximizing Util using NLP;
 134   
 135    Util_lic(t) = util.l;
 136    x_lic(i,t)  = x.l(i);
 137   
 138    Solve m_mn maximizing Util using NLP;
 139   
 140    Util_lic2(t) = util.l;
 141    x_lic2(i,t)  = x.l(i);
 142   
 143    option solprint = off;
 144  );
 145   
 146   
EXIT /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 5
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms
     2      147 EXIT           1     162  /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 6
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Model Statistics    SOLVE m Using NLP From line 133


LOOPS                                    t   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            5
BLOCKS OF VARIABLES           4     SINGLE VARIABLES            7  2 projected
NON ZERO ELEMENTS            13     NON LINEAR N-Z              2
DERIVATIVE POOL              20     CONSTANT POOL              16
CODE LENGTH                  10


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
               L O O P S                  t 1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 7
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Solution Report     SOLVE m Using NLP From line 133


               S O L V E      S U M M A R Y

     MODEL   m                   OBJECTIVE  Util
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  133

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
>>  ampl partssupply-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
Ampl      : partssupply-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 8
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Model Statistics    SOLVE m_mn Using NLP From line 138


LOOPS                                    t   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           4     SINGLE EQUATIONS            6
BLOCKS OF VARIABLES           4     SINGLE VARIABLES            7  2 projected
NON ZERO ELEMENTS            15     NON LINEAR N-Z              2
DERIVATIVE POOL              20     CONSTANT POOL              16
CODE LENGTH                  10


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
               L O O P S                  t 1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:43:40 Page 9
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
Solution Report     SOLVE m_mn Using NLP From line 138


               S O L V E      S U M M A R Y

     MODEL   m_mn                OBJECTIVE  Util
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  138

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
>>  ampl partssupply-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/partssupply/convert.opt"
Ampl      : partssupply-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:43:40 Page 10
Parts Supply Problem (PARTSSUPPLY,SEQ=404)
E x e c u t i o n


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/partssupply/partssupply-scalar.mod.lst
