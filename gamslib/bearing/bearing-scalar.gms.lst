GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
   2  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 2
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
C o m p i l a t i o n


         The objective of this problem is to minimize the power loss
         during the operation of a hydrostatic thrust bearing subject
         to a number of constraints.
       
       
      Siddall, J N, Optimal Engineering Design. Marcel Dekker,
      New York, 1982.
       
      Deb, K, and Goyal, M, Optimizing Engineering Designs Using
      a Combined Genetic Search. In Back, T, Ed, Proceedings of
      the Seventh International Conference on Genetic Algorithms.
      1997, pp. 521-528.
       
      Coello Coello, C A, Treating Constraints as Objectives for
      Single-Objective Evolutionary Optimization. Engineering
      Optimization 32 (2000), 275-308.
       
  23   
  24  variables
  25     R        'bearing step radius (in.)'
  26     R0       'recess radius (in.)'
  27     mu       'oil viscosity in reynolds, (lb sec/in.)'
  28     Q        'flow rate of oil (in.^3/sec)'
  29     PL       'power loss (in. lb/sec)'
  30     P0       'inlet pressure (psi gauge)'
  31     Ef       'power loss due to friction (in. lb/sec)'
  32     Ep       'pumping energy (in. lb/sec)'
  33     h        'film thickness (in.)'
  34     delta_t  'temperature rise (degr F)'
  35     t        'temperature (degr F)'
  36     W        'weight (lb)'
  37     tmp1     'temp variable: log(R/R0)'
  38     tmp2     'temp variable: R^2-R0^2'
  39  ;
  40   
  41   
  42  equations
  43     power_loss        'objective function'
  44     pumping_energy    'included pump efficiency'
  45     friction          'friction loss'
  46     temp_rise         'temperature rise of the oil passing through the bearing'
  47     inlet_pressure    'relation between inlet pressure and flow rate'
  48     load_capacity     'load-carrying capacity'
  49     oil_viscosity     'oil viscosity is a function of temperature'
  50     temperature       'T is mean of ambient and oil outlet temperatures'
  51     radius            'inner radius should be the smallest'
  52     limit1            'limit exit loss to 0.1% of the pressure drop'
  53     limit2            'avoid surface damage in case of pressure loss'
  54     temp1             'calculation of tmp1'
  55     temp2             'calculation of tmp2'
  56  ;
  57   
  58  scalars
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 3
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
C o m p i l a t i o n


  59     gamma 'weight density of oil (lb/in^3)'          / 0.0307 /
  60     C     'specific heat of oil (Btu/lb degr F)'     / 0.5 /
  61     N     'angular speed of shaft (rpm)'             / 750 /
  62     Ws    'thrust load (lb)'                         / 101000 /
  63     Pmax  'maximum inlet pressure (psi)'             / 1000 /
  64     delta_t_max 'maximum temp change (degr F)'       / 50 /
  65     hmin  'minimum film thickness (in)'              / 0.001 /
  66     g     'gravitational constant (in/s^2)'          / 386.4 /
  67     taf   'ambient temperature (degr F)'             / 100.0 /
  68     P1    'outlet pressure, atmospheric (psi gauge)' / 0 /
  69     pump_efficiency '70% efficiency'                 / 0.7 /
  70     pi                                               / 3.1415927 /
  71   
  72  ;
  73   
  74  table oil_constants(*,*) various oil grades
  75                    C1      n
  76         'SAE 5'   10.85  -3.91
  77         'SAE 10'  10.45  -3.72
  78         'SAE 20'  10.04  -3.55
  79         'SAE 30'   9.88  -3.48
  80         'SAE 40'   9.83  -3.46
  81         'SAE 50'   9.82  -3.44
  82  ;
  83   
  84  parameters
  85      C1       'c factor for given oil grade'
  86      cn       'n factor for given oil grade'
  87      gr       'specific gravity of oil'
  88      tar      'ambient temperature (degr R)'
  89  ;
  90   
  91  * calculate or extract parameters
  92  C1 = oil_constants('SAE 20','C1');
  93  cn = oil_constants('SAE 20','n');
  94  gr = gamma/0.0361111;
  95  tar = 459.7 + taf;
  96   
  97  * model restrictions
  98  *    P0 <= pmax
  99  *    h  >= hmin
 100  *    delta_t <= delta_t_max
 101  *    w  >= Ws
 102  P0.up = pmax;
 103  h.lo = hmin;
 104  delta_t.up = delta_t_max;
 105  w.lo = Ws;
 106   
 107   
 108  * bounds to keep variables in reasonable ranges
 109  Ep.lo = 1;
 110  Ef.lo = 1;
 111  P0.lo = 1;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 4
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
C o m p i l a t i o n


 112   
 113  R.lo = 1;
 114  R.up= 16;
 115   
 116  R0.lo=1;
 117  R0.up=16;
 118   
 119  Q.lo=1;
 120  Q.up=16;
 121   
 122  mu.lo=1.0e-6;
 123  mu.up=16.0e-6;
 124   
 125  t.lo = 100;
 126   
 127  * variable scaling
 128  mu.scale = 1.0e-6;
 129  h.scale = hmin;
 130  W.scale = Ws;
 131  PL.scale = 1.0e4;
 132  Ep.scale = 1.0e4;
 133  Ef.scale = 1.0e4;
 134   
 135  * bounds to prevent multiplication by zero
 136  tmp1.lo = 0.0001;
 137  tmp2.lo = 0.01;
 138   
 139  * initial point
 140  * some NLP solvers need a good starting point
 141  * for this problem.
 142  R.L=6;
 143  R0.L=5;
 144  mu.L=0.000006;
 145  Q.L=3;
 146  P0.L=1000.0000;
 147  Ef.L=16000;
 148  Ep.L=3000;
 149  h.L=0.001;
 150  delta_t.L=50;
 151  t.L=600;
 152  W.L=101000;
 153   
 154   
 155   
 156  power_loss..     PL =e= Ep + Ef;
 157   
 158  pumping_energy.. Ep =e= Q*(P0-P1)/pump_efficiency;
 159   
 160  * friction..       Ef =e= sqr(2*pi*N/60) * [(2*pi*mu)/h] * (r**4 - r0**4)/4;
 161  * is reformulated into:
 162  friction..       Ef*h =e= sqr(2*pi*N/60) * [(2*pi*mu)] * (r**4 - r0**4)/4;
 163   
 164  * temp_rise..      delta_t =e= Ef / (12 * 778 * Q * gamma * C);
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 5
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
C o m p i l a t i o n


 165  * is reformulated into:
 166  temp_rise..      delta_t * (12 * 778 * Q * gamma * C) =e= Ef;
 167   
 168  * load_capacity..  W =e= [ (pi*P0)/2 ] * tmp2/tmp1;
 169  * is reformulated into:
 170  load_capacity..  W * tmp1 =e= [ (pi*P0)/2 ] * tmp2;
 171   
 172  * inlet_pressure.. P0 =e= (6*mu*Q)/(pi*h**3) * tmp1;
 173  * is reformulated into:
 174  inlet_pressure.. P0 * (pi*h**3) =e= (6*mu*Q) * tmp1;
 175   
 176  oil_viscosity..  log10(8.112e6 * mu + 0.8) =e= (T**cn) * (10**C1);
 177   
 178  temperature..    T =e= 560 + delta_t / 2;
 179   
 180  radius..         R =g= R0;
 181   
 182  limit1..         gamma * sqr(Q) =l= 0.001 * g * sqr(2*pi*R*h) * P0;
 183   
 184  limit2..         W  =l= 5000 * pi * tmp2;
 185   
 186   
 187  temp1..          tmp1 =e= log(R) - log(R0);
 188   
 189  temp2..          tmp2 =e= sqr(R) - sqr(R0);
 190   
 191  model m /all/;
 192  m.scaleopt = 1;
 193  solve m minimizing pl using nlp;


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 6
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Equation Listing    SOLVE m Using NLP From line 193


---- power_loss  =E=  objective function

power_loss..  10000*PL - 10000*Ef - 10000*Ep =E= 0 ; (LHS = -19000, INFES = 19000 ****)
     

---- pumping_energy  =E=  included pump efficiency

pumping_energy..  - (1428.57142857143)*Q - (4.28571428571429)*P0 + 10000*Ep =E= 0 ; (LHS = -1285.71428571429, INFES = 1285.71428571429 ****)
     

---- friction  =E=  friction loss

friction..  - (50.2301704482106)*R + (29.0683856760478)*R0 - (6.50162892954269)*mu + (10)*Ef + (16)*h =E= 0 ; (LHS = -23.0097735772561, INFES = 23.0097735772561 ****)
     

---- temp_rise  =E=  temperature rise of the oil passing through the bearing

temp_rise..  (7165.38)*Q - 10000*Ef + (429.9228)*delta_t =E= 0 ; (LHS = 5496.14, INFES = 5496.14 ****)
     

---- inlet_pressure  =E=  relation between inlet pressure and flow rate

inlet_pressure..  - (1.8E-9)*mu - (3.6E-9)*Q + (3.1415927E-9)*P0 + (9.42477810000001E-6)*h - (0.000108)*tmp1 =E= 0 ; (LHS = 3.1307927E-6, INFES = 3.1307927E-6 ****)
     

---- load_capacity  =E=  load-carrying capacity

load_capacity..  - (0.0157079635)*P0 + (10.1)*W + (101000)*tmp1 - (1570.79635)*tmp2 =E= 0 ; (LHS = -5.6079635, INFES = 5.6079635 ****)
     

---- oil_viscosity  =E=  oil viscosity is a function of temperature

oil_viscosity..  (0.0712119347752098)*mu + (0.00890512794933584)*t =E= 0 ; (LHS = 0.189267420127141, INFES = 0.189267420127141 ****)
     

---- temperature  =E=  T is mean of ambient and oil outlet temperatures

temperature..  - 0.5*delta_t + t =E= 560 ; (LHS = 575, INFES = 15 ****)
     

---- radius  =G=  inner radius should be the smallest

radius..  R - R0 =G= 0 ; (LHS = 1)
     

---- limit1  =L=  limit exit loss to 0.1% of the pressure drop

limit1..  - (0.183053532156321)*R + (0.1842)*Q - (0.000549160596468963)*P0 - (1.09832119293793)*h =L= 0 ; (LHS = -0.272860596468963)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 7
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Equation Listing    SOLVE m Using NLP From line 193


---- limit2  =L=  avoid surface damage in case of pressure loss

limit2..  101000*W - 15707.9635*tmp2 =L= 0 ; (LHS = 100842.920365, INFES = 100842.920365 ****)
     

---- temp1  =E=  calculation of tmp1

temp1..  - (0.166666666666667)*R + (0.2)*R0 + tmp1 =E= 0 ; (LHS = -0.182221556793955, INFES = 0.182221556793955 ****)
     

---- temp2  =E=  calculation of tmp2

temp2..  - (12)*R + (10)*R0 + tmp2 =E= 0 ; (LHS = -10.99, INFES = 10.99 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 8
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Column Listing      SOLVE m Using NLP From line 193


---- R  bearing step radius (in.)

R
                (.LO, .L, .UP, .M = 1, 6, 16, 0)
     (-50.2302) friction
        1       radius
      (-0.1831) limit1
      (-0.1667) temp1
     (-12)      temp2


---- R0  recess radius (in.)

R0
                (.LO, .L, .UP, .M = 1, 5, 16, 0)
      (29.0684) friction
       -1       radius
       (0.2)    temp1
      (10)      temp2


---- mu  oil viscosity in reynolds, (lb sec/in.)

mu
                (.LO, .L, .UP, .M = 1, 6, 16, 0)
      (-6.5016) friction
 (-1.800000E-9) inlet_pressure
       (0.0712) oil_viscosity


---- Q  flow rate of oil (in.^3/sec)

Q
                (.LO, .L, .UP, .M = 1, 3, 16, 0)
   (-1428.5714) pumping_energy
    (7165.38)   temp_rise
 (-3.600000E-9) inlet_pressure
       (0.1842) limit1


---- PL  power loss (in. lb/sec)

PL
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
    10000       power_loss


---- P0  inlet pressure (psi gauge)

P0
                (.LO, .L, .UP, .M = 1, 1000, 1000, 0)
      (-4.2857) pumping_energy
 (3.1415927E-9) inlet_pressure
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:23 Page 9
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Column Listing      SOLVE m Using NLP From line 193


     P0  inlet pressure (psi gauge)

      (-0.0157) load_capacity
      (-0.0005) limit1


---- Ef  power loss due to friction (in. lb/sec)

Ef
                (.LO, .L, .UP, .M = 0.0001, 1.6, +INF, 0)
   -10000       power_loss
      (10)      friction
   -10000       temp_rise


---- Ep  pumping energy (in. lb/sec)

Ep
                (.LO, .L, .UP, .M = 0.0001, 0.3, +INF, 0)
   -10000       power_loss
    10000       pumping_energy


---- h  film thickness (in.)

h
                (.LO, .L, .UP, .M = 1, 1, +INF, 0)
      (16)      friction
 (9.4247781E-6) inlet_pressure
      (-1.0983) limit1


---- delta_t  temperature rise (degr F)

delta_t
                (.LO, .L, .UP, .M = -INF, 50, 50, 0)
     (429.9228) temp_rise
       -0.5     temperature


---- t  temperature (degr F)

t
                (.LO, .L, .UP, .M = 100, 600, +INF, 0)
       (0.0089) oil_viscosity
        1       temperature


---- W  weight (lb)

W
                (.LO, .L, .UP, .M = 1, 1, +INF, 0)
      (10.1)    load_capacity
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:23 Page 10
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Column Listing      SOLVE m Using NLP From line 193


     W  weight (lb)

   101000       limit2


---- tmp1  temp variable: log(R/R0)

tmp1
                (.LO, .L, .UP, .M = 0.0001, 0.0001, +INF, 0)
      (-0.0001) inlet_pressure
  (101000)      load_capacity
        1       temp1
        0       (OLD LEVEL ****)


---- tmp2  temp variable: R^2-R0^2

tmp2
                (.LO, .L, .UP, .M = 0.01, 0.01, +INF, 0)
   (-1570.7963) load_capacity
   -15707.9635  limit2
        1       temp2
        0       (OLD LEVEL ****)

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:23 Page 11
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Model Statistics    SOLVE m Using NLP From line 193


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           13
BLOCKS OF VARIABLES          14     SINGLE VARIABLES           14  2 projected
NON ZERO ELEMENTS            41     NON LINEAR N-Z             28
DERIVATIVE POOL              20     CONSTANT POOL              32
CODE LENGTH                  95


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:23 Page 12
Hydrostatic Thrust Bearing Design for a Turbogenerator (BEARING,SEQ=202)
Solution Report     SOLVE m Using NLP From line 193


               S O L V E      S U M M A R Y

     MODEL   m                   OBJECTIVE  PL
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  193

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/bearing/convert.opt"
>>  gams bearing-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/bearing/convert.opt"
Gams      : bearing-scalar.gms


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/bearing/bearing.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/bearing/bearing-scalar.gms.lst
