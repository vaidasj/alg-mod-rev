GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
   2  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 2
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
C o m p i l a t i o n


   4   
       
      White and black balls are to be arranged in a cube one to a
      cell in such a way as to minimize the number of lines with balls
      of equal color. For this example the length of the cube is three.
      a total of 49 lines exist in a cube of 3x3x3. 27 lines by changing
      only one coordinate, 18 diagonals within a plane, and 4 diagonals
      going across planes.
       
       
      Williams, H P, Experiments in the formulation of Integer Programming
      Problems. Mathematical Programming Study 2 (1974).
       
  19   
  20   Sets  s       domain for line identification   / a, b, c, incr, decr /
  21         x(s)    coordinate labels                / a, b, c /
  22         d(s)    directions                       / incr, decr /
  23         b       bounds                           / low, high /
  24   
  25   Alias (x,y,z), (d,dp), (s,sp,spp)
  26   
  27   Set ld(s,sp,spp)  line definition ;
  28   
  29      ld("incr",y,z) = yes;  ld(x,"incr",z) = yes; ld(x,y,"incr") = yes;
  30      ld("incr",d,z) = yes;  ld(x,"incr",d) = yes; ld(d,y,"incr") = yes;
  31      ld("incr",d,dp) = yes; display ld;
  32   
  33   Parameters  ls(b)    sign for line definitions      / low  +1, high -1 /
  34               lr(b)    rhs for line definitions       / low   2, high -1 /
  35               df(x,s)  line definition function;
  36   
  37      df(x,y) = ord(y) - ord(x); df(x,"decr") = 1 + card(x) - 2*ord(x); display df;
  38   
  39   Variables  core(x,y,z)    placement of balls (white 0  black 1)
  40              line(s,sp,spp) line identification
  41              num            number of lines of equal color
  42   
  43   Binary Variables core;
  44   Positive Variable line;
  45   
  46   Equations  nbb              total number of balls definition
  47              ldef(s,sp,spp,b) line definitions
  48              ndef             number of lines definition ;
  49   
  50   nbb..  sum((x,y,z), core(x,y,z)) =e= floor(card(x)**3/2);
  51   
  52   ldef(s,sp,spp,b)$ld(s,sp,spp).. ls(b)*sum(x, core(x+df(x,s),x+df(x,sp),x+df(x,spp))) =l= line(s,sp,spp) + lr(b) ;
  53   
  54   ndef.. num =e= sum((s,sp,spp)$ld(s,sp,spp), line(s,sp,spp)) ;
  55   
  56   Model cube / all /
  57   
  59   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 3
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
C o m p i l a t i o n


  60  * this is a very difficult problem that takes a long time with
  61  * the default settings. we use an optca value that will
  62  * cause termination after finding the best solution, but before
  63  * proving that it is the best. the best solution is 4.
  64   
  65   Option optca = 3.9;
  66   Solve cube minimizing num using mip;
  67   


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 4
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
E x e c u t i o n


----     31 SET ld  line definition

                    a           b           c        incr        decr

a   .a                                                YES
a   .b                                                YES
a   .c                                                YES
a   .incr         YES         YES         YES         YES         YES
b   .a                                                YES
b   .b                                                YES
b   .c                                                YES
b   .incr         YES         YES         YES         YES         YES
c   .a                                                YES
c   .b                                                YES
c   .c                                                YES
c   .incr         YES         YES         YES         YES         YES
incr.a            YES         YES         YES         YES
incr.b            YES         YES         YES         YES
incr.c            YES         YES         YES         YES
incr.incr         YES         YES         YES         YES         YES
incr.decr         YES         YES         YES         YES         YES
decr.a                                                YES
decr.b                                                YES
decr.c                                                YES


----     37 PARAMETER df  line definition function

            a           b           c        decr

a                   1.000       2.000       2.000
b      -1.000                   1.000
c      -2.000      -1.000                  -2.000

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 5
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
Equation Listing    SOLVE cube Using MIP From line 66


---- nbb  =E=  total number of balls definition

nbb..  core(a,a,a) + core(a,a,b) + core(a,a,c) + core(a,b,a) + core(a,b,b) + core(a,b,c) + core(a,c,a) + core(a,c,b) + core(a,c,c) + core(b,a,a) + core(b,a,b) + core(b,a,c) + core(b,b,a) + core(b,b,b) + core(b,b,c) + core(b,c,a) + core(b,c,b)
     
      + core(b,c,c) + core(c,a,a) + core(c,a,b) + core(c,a,c) + core(c,b,a) + core(c,b,b) + core(c,b,c) + core(c,c,a) + core(c,c,b) + core(c,c,c) =E= 13 ; (LHS = 0, INFES = 13 ****)
     

---- ldef  =L=  line definitions

ldef(a,a,incr,low)..  core(a,a,a) + core(a,a,b) + core(a,a,c) - line(a,a,incr) =L= 2 ; (LHS = 0)
     
ldef(a,a,incr,high)..  - core(a,a,a) - core(a,a,b) - core(a,a,c) - line(a,a,incr) =L= -1 ; (LHS = 0, INFES = 1 ****)
     
ldef(a,b,incr,low)..  core(a,b,a) + core(a,b,b) + core(a,b,c) - line(a,b,incr) =L= 2 ; (LHS = 0)
     
REMAINING 95 ENTRIES SKIPPED


---- ndef  =E=  number of lines definition

ndef..  - line(a,a,incr) - line(a,b,incr) - line(a,c,incr) - line(a,incr,a) - line(a,incr,b) - line(a,incr,c) - line(a,incr,incr) - line(a,incr,decr) - line(b,a,incr) - line(b,b,incr) - line(b,c,incr) - line(b,incr,a) - line(b,incr,b) - line(b,incr,c)
     
      - line(b,incr,incr) - line(b,incr,decr) - line(c,a,incr) - line(c,b,incr) - line(c,c,incr) - line(c,incr,a) - line(c,incr,b) - line(c,incr,c) - line(c,incr,incr) - line(c,incr,decr) - line(incr,a,a) - line(incr,a,b) - line(incr,a,c)
     
      - line(incr,a,incr) - line(incr,b,a) - line(incr,b,b) - line(incr,b,c) - line(incr,b,incr) - line(incr,c,a) - line(incr,c,b) - line(incr,c,c) - line(incr,c,incr) - line(incr,incr,a) - line(incr,incr,b) - line(incr,incr,c) - line(incr,incr,incr)
     
      - line(incr,incr,decr) - line(incr,decr,a) - line(incr,decr,b) - line(incr,decr,c) - line(incr,decr,incr) - line(incr,decr,decr) - line(decr,a,incr) - line(decr,b,incr) - line(decr,c,incr) + num =E= 0 ; (LHS = 0)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 6
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
Column Listing      SOLVE cube Using MIP From line 66


---- core  placement of balls (white 0  black 1)

core(a,a,a)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       nbb
        1       ldef(a,a,incr,low)
       -1       ldef(a,a,incr,high)
        1       ldef(a,incr,a,low)
       -1       ldef(a,incr,a,high)
        1       ldef(a,incr,incr,low)
       -1       ldef(a,incr,incr,high)
        1       ldef(incr,a,a,low)
       -1       ldef(incr,a,a,high)
        1       ldef(incr,a,incr,low)
       -1       ldef(incr,a,incr,high)
        1       ldef(incr,incr,a,low)
       -1       ldef(incr,incr,a,high)
        1       ldef(incr,incr,incr,low)
       -1       ldef(incr,incr,incr,high)

core(a,a,b)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       nbb
        1       ldef(a,a,incr,low)
       -1       ldef(a,a,incr,high)
        1       ldef(a,incr,b,low)
       -1       ldef(a,incr,b,high)
        1       ldef(incr,a,b,low)
       -1       ldef(incr,a,b,high)
        1       ldef(incr,incr,b,low)
       -1       ldef(incr,incr,b,high)

core(a,a,c)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       nbb
        1       ldef(a,a,incr,low)
       -1       ldef(a,a,incr,high)
        1       ldef(a,incr,c,low)
       -1       ldef(a,incr,c,high)
        1       ldef(a,incr,decr,low)
       -1       ldef(a,incr,decr,high)
        1       ldef(incr,a,c,low)
       -1       ldef(incr,a,c,high)
        1       ldef(incr,incr,c,low)
       -1       ldef(incr,incr,c,high)
        1       ldef(incr,incr,decr,low)
       -1       ldef(incr,incr,decr,high)
        1       ldef(decr,a,incr,low)
       -1       ldef(decr,a,incr,high)

REMAINING 24 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 7
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
Column Listing      SOLVE cube Using MIP From line 66


---- line  line identification

line(a,a,incr)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ldef(a,a,incr,low)
       -1       ldef(a,a,incr,high)
       -1       ndef

line(a,b,incr)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ldef(a,b,incr,low)
       -1       ldef(a,b,incr,high)
       -1       ndef

line(a,c,incr)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ldef(a,c,incr,low)
       -1       ldef(a,c,incr,high)
       -1       ndef

REMAINING 46 ENTRIES SKIPPED

---- num  number of lines of equal color

num
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       ndef

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 8
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
Model Statistics    SOLVE cube Using MIP From line 66


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS          100
BLOCKS OF VARIABLES           3     SINGLE VARIABLES           77
NON ZERO ELEMENTS           469     DISCRETE VARIABLES         27


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 9
Three-dimensional Noughts and Crosses  (CUBE,SEQ=42)
Solution Report     SOLVE cube Using MIP From line 66


               S O L V E      S U M M A R Y

     MODEL   cube                OBJECTIVE  num
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  66

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/cube/convert.opt"
>>  gams cube-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/cube/convert.opt"
Gams      : cube-scalar.gms


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/cube/cube.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/cube/cube-scalar.gms.lst
