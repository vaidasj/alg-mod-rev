GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
   3  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 2
AMPL Sample Problem  (AMPL,SEQ=74)
C o m p i l a t i o n


   5   
       
         A sample problem to demonstrate the power of modeling systems
       
       
      Fourer, R, Gay, D M, and Kernighan, B W, AMPL: A Mathematical Programming
      Language. AT\&T Bell Laboratories, Murray Hill, New Jersey, 1987.
       
  15   
  16  Sets p  products        / nuts, bolts, washers /
  17       r  raw materials   / iron, nickel /
  18       tl extended t      / 1 * 5 /
  19       t(tl)  periods     / 1 * 4 /
  20       first(tl)          / 1     /
  21       last(tl)           /     5 /
  22   
  23  Parameters b(r) initial stock  /  iron  35.8 , nickel  7.32  /
  24             d(r) storage cost   /  iron    .03, nickel   .025 /
  25             f(r) residual value /  iron    .02, nickel  -.01  /
  26   
  27  Scalar     m  maximum production / 123 /
  28   
  29  Table a(r,p) raw material inputs to produce a unit of product
  30   
  31          nuts  bolts  washers
  32  iron    .79    .83    .92
  33  nickel  .21    .17    .08
  34   
  35  Table c(p,t) profit
  36   
  37             1     2    3    4
  38  nuts     1.73  1.8  1.6  2.2
  39  bolts    1.82  1.9  1.7   .95
  40  washers  1.05  1.1   .95 1.33
  41   
  42  Variables  x(p,tl) production level
  43             s(r,tl) storage at beginning of period
  44             profit  income minus cost
  45   
  46  Positive Variables x, s
  47   
  48  Equations limit(t)      capacity constraint
  49            balance(r,tl) raw material balance
  50            obj           profit definition;
  51   
  52  limit(t)..         sum(p, x(p,t)) =l= m ;
  53   
  54  balance(r,tl+1)..  s(r,tl+1) =e= s(r,tl) - sum(p, a(r,p)*x(p,tl)) ;
  55   
  56  obj..  profit =e= sum((p,t), c(p,t)*x(p,t))
  57                  + sum((r,tl), ( -d(r)$t(tl) + f(r)$last(tl) )*s(r,tl));
  58   
  59  s.up(r,first) = b(r);
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 3
AMPL Sample Problem  (AMPL,SEQ=74)
C o m p i l a t i o n


  60   
  61  Model ampl maximum revenue production problem / all /
  62   
  63  Solve ampl maximizing profit using lp;
  64   


COMPILATION TIME     =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 4
AMPL Sample Problem  (AMPL,SEQ=74)
Equation Listing    SOLVE ampl Using LP From line 63


---- limit  =L=  capacity constraint

limit(1)..  x(nuts,1) + x(bolts,1) + x(washers,1) =L= 123 ; (LHS = 0)
     
limit(2)..  x(nuts,2) + x(bolts,2) + x(washers,2) =L= 123 ; (LHS = 0)
     
limit(3)..  x(nuts,3) + x(bolts,3) + x(washers,3) =L= 123 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED


---- balance  =E=  raw material balance

balance(iron,2)..  0.79*x(nuts,1) + 0.83*x(bolts,1) + 0.92*x(washers,1) - s(iron,1) + s(iron,2) =E= 0 ; (LHS = 0)
     
balance(iron,3)..  0.79*x(nuts,2) + 0.83*x(bolts,2) + 0.92*x(washers,2) - s(iron,2) + s(iron,3) =E= 0 ; (LHS = 0)
     
balance(iron,4)..  0.79*x(nuts,3) + 0.83*x(bolts,3) + 0.92*x(washers,3) - s(iron,3) + s(iron,4) =E= 0 ; (LHS = 0)
     
REMAINING 5 ENTRIES SKIPPED


---- obj  =E=  profit definition

obj..  - 1.73*x(nuts,1) - 1.8*x(nuts,2) - 1.6*x(nuts,3) - 2.2*x(nuts,4) - 1.82*x(bolts,1) - 1.9*x(bolts,2) - 1.7*x(bolts,3) - 0.95*x(bolts,4) - 1.05*x(washers,1) - 1.1*x(washers,2) - 0.95*x(washers,3) - 1.33*x(washers,4) + 0.03*s(iron,1) + 0.03*s(iron,2)
     
      + 0.03*s(iron,3) + 0.03*s(iron,4) - 0.02*s(iron,5) + 0.025*s(nickel,1) + 0.025*s(nickel,2) + 0.025*s(nickel,3) + 0.025*s(nickel,4) + 0.01*s(nickel,5) + profit =E= 0 ; (LHS = 0)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 5
AMPL Sample Problem  (AMPL,SEQ=74)
Column Listing      SOLVE ampl Using LP From line 63


---- x  production level

x(nuts,1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       limit(1)
        0.79    balance(iron,2)
        0.21    balance(nickel,2)
       -1.73    obj

x(nuts,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       limit(2)
        0.79    balance(iron,3)
        0.21    balance(nickel,3)
       -1.8     obj

x(nuts,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       limit(3)
        0.79    balance(iron,4)
        0.21    balance(nickel,4)
       -1.6     obj

REMAINING 9 ENTRIES SKIPPED

---- s  storage at beginning of period

s(iron,1)
                (.LO, .L, .UP, .M = 0, 0, 35.8, 0)
       -1       balance(iron,2)
        0.03    obj

s(iron,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       balance(iron,2)
       -1       balance(iron,3)
        0.03    obj

s(iron,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       balance(iron,3)
       -1       balance(iron,4)
        0.03    obj

REMAINING 7 ENTRIES SKIPPED

---- profit  income minus cost

profit
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 6
AMPL Sample Problem  (AMPL,SEQ=74)
Model Statistics    SOLVE ampl Using LP From line 63


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS           13
BLOCKS OF VARIABLES           3     SINGLE VARIABLES           23
NON ZERO ELEMENTS            75


GENERATION TIME      =        0.001 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 7
AMPL Sample Problem  (AMPL,SEQ=74)
Solution Report     SOLVE ampl Using LP From line 63


               S O L V E      S U M M A R Y

     MODEL   ampl                OBJECTIVE  profit
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  63

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/ampl/convert.opt"
>>  pyomo ampl-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/ampl/convert.opt"
Pyomo     : ampl-scalar.py


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/ampl/ampl.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/ampl/ampl-scalar.py.lst
