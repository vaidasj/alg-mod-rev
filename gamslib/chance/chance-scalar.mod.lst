GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 2
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
C o m p i l a t i o n


       
      Cattle feed problem with chance constraints. Two problems are
      formulated, a deterministic model and the chance constraint
      version deterministic equivalent.
       
       
      Bracken, J, and McCormick, G P, Chapter 9. In Selected Applications of
      Nonlinear Programming. John Wiley and Sons, New York, 1968, pp. 94-100.
       
  14   
  15  sets f  feeds     / barley, oats, sesame, grnd-meal /
  16       n  nutrients / protein, fats /
  17   
  18  parameters  price(f)  feed prices (fgld per ton) / barley    24.55
  19                                                     oats      26.75
  20                                                     sesame    39.00
  21                                                     grnd-meal 40.50 /
  22              req(n)    requirements (pct) / protein = 21, fats = 5 /
  23   
  24        table char(*,n,f) feed characteristics (pct)
  25   
  26                   barley    oats     sesame    grnd-meal
  27  mean.protein     12.0      11.9      41.8       52.1
  28  mean.fats         2.3       5.6      11.1        1.3
  29  variance.protein   .28       .19     20.5         .62
  30   
  31  variables  cost   total cost per ton
  32              x(f)   feed mix (pct)
  33  positive variable x;
  34   
  35  equations   cdef   cost definition
  36              mc     mix constraint
  37              nbal(n) nutrient balance
  38              cc(n)   chance constraint ;
  39   
  40  cdef..  cost =e= sum(f, price(f)*x(f));
  41   
  42  mc..    sum(f, x(f)) =e= 1;
  43   
  44  nbal(n).. sum(f, char("mean",n,f)*x(f)) =g= req(n);
  45   
  46  cc(n)..   sum(f, char("mean",n,f)*x(f)) - 1.645*sqrt(sum(f, char("variance",n,f)*sqr(x(f)))) =g= req(n);
  47   
  48  models det    deterministic model / cdef, mc, nbal /
  49         chance chance model        / cdef, mc, cc /
  50   
  51  parameter mix Mixing report;
  52   
  53  solve det    minimizing cost using lp;  mix(f,'det   ') = x.l(f);
  54  solve chance minimizing cost using nlp; mix(f,'chance') = x.l(f);
  55   
  56  display mix;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 3
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
C o m p i l a t i o n




COMPILATION TIME     =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 4
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Equation Listing    SOLVE det Using LP From line 53


---- cdef  =E=  cost definition

cdef..  cost - 24.55*x(barley) - 26.75*x(oats) - 39*x(sesame) - 40.5*x(grnd-meal) =E= 0 ; (LHS = 0)
     

---- mc  =E=  mix constraint

mc..  x(barley) + x(oats) + x(sesame) + x(grnd-meal) =E= 1 ; (LHS = 0, INFES = 1 ****)
     

---- nbal  =G=  nutrient balance

nbal(protein)..  12*x(barley) + 11.9*x(oats) + 41.8*x(sesame) + 52.1*x(grnd-meal) =G= 21 ; (LHS = 0, INFES = 21 ****)
     
nbal(fats)..  2.3*x(barley) + 5.6*x(oats) + 11.1*x(sesame) + 1.3*x(grnd-meal) =G= 5 ; (LHS = 0, INFES = 5 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 5
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Column Listing      SOLVE det Using LP From line 53


---- cost  total cost per ton

cost
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       cdef


---- x  feed mix (pct)

x(barley)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -24.55    cdef
        1       mc
       12       nbal(protein)
        2.3     nbal(fats)

x(oats)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -26.75    cdef
        1       mc
       11.9     nbal(protein)
        5.6     nbal(fats)

x(sesame)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -39       cdef
        1       mc
       41.8     nbal(protein)
       11.1     nbal(fats)

REMAINING ENTRY SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 6
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Model Statistics    SOLVE det Using LP From line 53


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            4
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            5
NON ZERO ELEMENTS            17


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 7
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Solution Report     SOLVE det Using LP From line 53


               S O L V E      S U M M A R Y

     MODEL   det                 OBJECTIVE  cost
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  53

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE               28.9426

 RESOURCE USAGE, LIMIT          0.003      1000.000
 ITERATION COUNT, LIMIT         3    2000000000

IBM ILOG CPLEX   24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      
Cplex 12.6.3.0

*** Error Cannot open parameter file "/home/renigijus/gams/opt-mod-lib/gamslib/chance/cplex.opt"
*** Error Error code = 2; No such file or directory
Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.01 ticks)
Optimal solution found.
Objective :          28.942648


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU cdef                .              .              .             1.0000      
---- EQU mc                 1.0000         1.0000         1.0000        19.5710      

  cdef  cost definition
  mc  mix constraint

---- EQU nbal  nutrient balance

               LOWER          LEVEL          UPPER         MARGINAL

protein        21.0000        21.0000        +INF            0.2855      
fats            5.0000         5.0000        +INF            0.6753      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR cost              -INF           28.9426        +INF             .          

  cost  total cost per ton
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 8
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Solution Report     SOLVE det Using LP From line 53


---- VAR x  feed mix (pct)

                 LOWER          LEVEL          UPPER         MARGINAL

barley             .             0.6852        +INF             .          
oats               .             0.0127        +INF             .          
sesame             .             0.3021        +INF             .          
grnd-meal          .              .            +INF            5.1777      


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:33 Page 9
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Equation Listing    SOLVE chance Using NLP From line 54


---- cdef  =E=  cost definition

cdef..  cost - 24.55*x(barley) - 26.75*x(oats) - 39*x(sesame) - 40.5*x(grnd-meal) =E= 0 ; (LHS = 0)
     

---- mc  =E=  mix constraint

mc..  x(barley) + x(oats) + x(sesame) + x(grnd-meal) =E= 1 ; (LHS = 1)
     

---- cc  =G=  chance constraint

cc(protein)..  (11.7769252834293)*x(barley) + (11.8971947509536)*x(oats) + (34.6007396182057)*x(sesame) + (52.1)*x(grnd-meal) =G= 21 ; (LHS = 18.6725235009492, INFES = 2.32747649905077 ****)
     
cc(fats)..  2.3*x(barley) + 5.6*x(oats) + 11.1*x(sesame) + 1.3*x(grnd-meal) =G= 5 ; (LHS = 5)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:33 Page 10
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Column Listing      SOLVE chance Using NLP From line 54


---- cost  total cost per ton

cost
                (.LO, .L, .UP, .M = -INF, 28.9426476516831, +INF, 0)
        1       cdef


---- x  feed mix (pct)

x(barley)
                (.LO, .L, .UP, .M = 0, 0.685244910300343, +INF, 0)
      -24.55    cdef
        1       mc
      (11.7769) cc(protein)
        2.3     cc(fats)

x(oats)
                (.LO, .L, .UP, .M = 0, 0.0126990526103608, +INF, 0)
      -26.75    cdef
        1       mc
      (11.8972) cc(protein)
        5.6     cc(fats)

x(sesame)
                (.LO, .L, .UP, .M = 0, 0.302056037089297, +INF, 0)
      -39       cdef
        1       mc
      (34.6007) cc(protein)
       11.1     cc(fats)

REMAINING ENTRY SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:33 Page 11
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Model Statistics    SOLVE chance Using NLP From line 54


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            4
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            5
NON ZERO ELEMENTS            17     NON LINEAR N-Z              4
DERIVATIVE POOL              20     CONSTANT POOL              25
CODE LENGTH                  25


GENERATION TIME      =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:33 Page 12
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
Solution Report     SOLVE chance Using NLP From line 54


               S O L V E      S U M M A R Y

     MODEL   chance              OBJECTIVE  cost
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  54

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/chance/convert.opt"
>>  ampl chance-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/chance/convert.opt"
Ampl      : chance-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:33 Page 13
Chance Constraint Feed Mix Problem  (CHANCE,SEQ=26)
E x e c u t i o n


----     56 PARAMETER mix  Mixing report

               det      chance

barley       0.685       0.685
oats         0.013       0.013
sesame       0.302       0.302



EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/chance/chance.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/chance/chance-scalar.mod.lst
