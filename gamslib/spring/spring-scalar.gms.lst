GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MINLP=convert;
   2  option MINLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 2
Coil Compression String Design (SPRING,SEQ=206)
C o m p i l a t i o n


        Coil compression spring design problem, finds minimum volume
        of wire for the production of a coil compression spring
       
       
      Sangren, E, Nonlinear Integer and Discrete Programming in Mechanical
      Design Optimization. Journal of Mechanical Design, Trans.
      ASME 112 (1990), 223-229.
       
  14   
  15  Set i possible wire types / g-1 * g-11 /;
  16   
  17  Parameters
  18   
  19     b(i)  Allowable wire diameters (in) / g-1    0.207
  20                                           g-2    0.225
  21                                           g-3    0.244
  22                                           g-4    0.263
  23                                           g-5    0.283
  24                                           g-6    0.307
  25                                           g-7    0.331
  26                                           g-8    0.362
  27                                           g-9    0.394
  28                                           g-10   0.4375
  29                                           g-11   0.500 /
  30   
  31     Pload  preload (lb)                     /   300           /
  32     Pmax   max working load (lb)            /  1000           /
  33     delm   max deflection (in)              /     6           /
  34     delw   deflection from preload (in)     /     1.25        /
  35     lmax   max free length of spring (in)   /    14           /
  36     coilmax   max coil diameter (in)        /     3           /
  37     pi     pi                               /     3.141592654 /
  38     S      max shear stress                 / 189e3           /
  39     G      shear modulus of material        / 11.5e6          /
  40   
  41   
  42  variables coil   coil diameter
  43            wire   wire diameter
  44            del    deflection
  45            N      number of coils
  46            C      constant
  47            K      constant
  48            y(i)   wire choice
  49            volume
  50   
  51  binary variable y; integer variable n;
  52   
  53  Equations voldef   definition of total volume of coil spring
  54            defC, defK, shear, defdel, freel, CoilWidth, defWire, selectWire;
  55   
  56   
  57  voldef..  volume =e=  (N+2)/2*PI*coil*wire**2;
  58   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 3
Coil Compression String Design (SPRING,SEQ=206)
C o m p i l a t i o n


  59  DefC..    C =e= coil/wire;
  60   
  61  DefK..    K =e= (4*C - 1) / (4*C - 4) + 0.615 / C;
  62   
  63  shear..   8*Pmax/PI*K*C/wire**2 =l= S;
  64   
  65  Defdel..  del =e= 8*N/G*power(C,3)/wire;
  66   
  67  freel..   Pmax*del + 1.05*(N+2)*wire =l= lmax;
  68   
  69  CoilWidth..  coil + wire =l= coilmax;
  70   
  71  DefWire..    wire =e= SUM(i, b(i)*y(i));
  72   
  73  SelectWire.. SUM(i, y(i)) =e= 1;
  74   
  75  model spring / all /;
  76   
  77  * set some bounds
  78   
  79  del.up  = delm/Pload;
  80  del.lo  = delw/(Pmax - Pload);
  81  wire.lo = smin(i, b(i));
  82  c.lo    = 1.1;
  83  coil.lo = 2*wire.lo;
  84  n.lo    = 1;
  85   
  86  * Starting point
  87  y.l(i) = 1/card(i);
  88  wire.l = SUM(i, b(i)*y.l(i));
  89  coil.l = coilmax - wire.l;
  90  c.l    = coil.l/wire.l;
  91   
  92  solve spring using minlp minimizing volume;


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 4
Coil Compression String Design (SPRING,SEQ=206)
Equation Listing    SOLVE spring Using MINLP From line 92


---- voldef  =E=  definition of total volume of coil spring

voldef..  - (0.491777212611532)*coil - (8.15034061694976)*wire - (0.438821748217136)*N + volume =E= 0 ; (LHS = -1.31646524465141, INFES = 1.31646524465141 ****)
     

---- defC  =E=  

defC..  - (3.09553960883636)*coil + (25.6515568007879)*wire + C =E= 0 ; (LHS = 0)
     

---- defK  =E=  

defK..  (0.0230818034338525)*C + K =E= 0 ; (LHS = -1.17714443349807, INFES = 1.17714443349807 ****)
     

---- shear  =L=  

shear..  (0)*wire + (0)*C + (202204.216397189)*K =L= 189000 ; (LHS = 0)
     

---- defdel  =E=  

defdel..  (0.00379312333669749)*wire + del - (0.00122535125245041)*N - (0.000443613231682802)*C =E= 0 ; (LHS = 0.000560363033263872, INFES = 0.000560363033263872 ****)
     

---- freel  =L=  

freel..  (3.15)*wire + 1000*del + (0.339197727272727)*N =L= 14 ; (LHS = 2.80330746753247)
     

---- CoilWidth  =L=  

CoilWidth..  coil + wire =L= 3 ; (LHS = 3)
     

---- defWire  =E=  

defWire..  wire - 0.207*y(g-1) - 0.225*y(g-2) - 0.244*y(g-3) - 0.263*y(g-4) - 0.283*y(g-5) - 0.307*y(g-6) - 0.331*y(g-7) - 0.362*y(g-8) - 0.394*y(g-9) - 0.4375*y(g-10) - 0.5*y(g-11) =E= 0 ; (LHS = 0)
     

---- selectWire  =E=  

selectWire..  y(g-1) + y(g-2) + y(g-3) + y(g-4) + y(g-5) + y(g-6) + y(g-7) + y(g-8) + y(g-9) + y(g-10) + y(g-11) =E= 1 ; (LHS = 1)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 5
Coil Compression String Design (SPRING,SEQ=206)
Column Listing      SOLVE spring Using MINLP From line 92


---- coil  coil diameter

coil
                (.LO, .L, .UP, .M = 0.414, 2.67695454545455, +INF, 0)
      (-0.4918) voldef
      (-3.0955) defC
        1       CoilWidth


---- wire  wire diameter

wire
                (.LO, .L, .UP, .M = 0.207, 0.323045454545455, +INF, 0)
      (-8.1503) voldef
      (25.6516) defC
       (0)      shear
       (0.0038) defdel
       (3.15)   freel
        1       CoilWidth
        1       defWire


---- del  deflection

del
                (.LO, .L, .UP, .M = 0.00178571428571429, 0.00178571428571429, 0.02, 0)
        1       defdel
     1000       freel
        0       (OLD LEVEL ****)


---- N  number of coils

N
                (.LO, .L, .UP, .M = 1, 1, 100, 0)
      (-0.4388) voldef
      (-0.0012) defdel
       (0.3392) freel
        0       (OLD LEVEL ****)


---- C  constant

C
                (.LO, .L, .UP, .M = 1.1, 8.28661882650908, +INF, 0)
        1       defC
       (0.0231) defK
       (0)      shear
      (-0.0004) defdel

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 6
Coil Compression String Design (SPRING,SEQ=206)
Column Listing      SOLVE spring Using MINLP From line 92


---- K  constant

K
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       defK
  (202204.2164) shear


---- y  wire choice

y(g-1)
                (.LO, .L, .UP, .M = 0, 0.0909090909090909, 1, 0)
       -0.207   defWire
        1       selectWire

y(g-2)
                (.LO, .L, .UP, .M = 0, 0.0909090909090909, 1, 0)
       -0.225   defWire
        1       selectWire

y(g-3)
                (.LO, .L, .UP, .M = 0, 0.0909090909090909, 1, 0)
       -0.244   defWire
        1       selectWire

REMAINING 8 ENTRIES SKIPPED

---- volume  

volume
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       voldef


****
****  1 Integer +INF Bounds have been reset to 100 (see Option IntVarUp)
****
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 7
Coil Compression String Design (SPRING,SEQ=206)
Model Statistics    SOLVE spring Using MINLP From line 92


MODEL STATISTICS

BLOCKS OF EQUATIONS           9     SINGLE EQUATIONS            9
BLOCKS OF VARIABLES           8     SINGLE VARIABLES           18  2 projected
NON ZERO ELEMENTS            44     NON LINEAR N-Z             14
DERIVATIVE POOL              20     CONSTANT POOL              25
CODE LENGTH                  57     DISCRETE VARIABLES         12


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:24 Page 8
Coil Compression String Design (SPRING,SEQ=206)
Solution Report     SOLVE spring Using MINLP From line 92


               S O L V E      S U M M A R Y

     MODEL   spring              OBJECTIVE  volume
     TYPE    MINLP               DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  92

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/spring/convert.opt"
>>  gams spring-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/spring/convert.opt"
Gams      : spring-scalar.gms


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/spring/spring.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/spring/spring-scalar.gms.lst
