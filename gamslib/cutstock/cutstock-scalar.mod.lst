GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 2
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
C o m p i l a t i o n


   3   
       The task is to cut out some paper products of different sizes from a
       large raw paper roll, in order to meet a customer's order. The objective
       is to minimize the required number of paper rolls.
       
       
      P. C. Gilmore and R. E. Gomory, A linear programming approach to the
      cutting stock problem, Part I, Operations Research 9 (1961), 849-859.
       
      P. C. Gilmore and R. E. Gomory, A linear programming approach to the
      cutting stock problem, Part II, Operations Research 11 (1963), 863-888.
  16   
  17  Set  i    widths    /w1*w4/
  18  Parameter
  19       r    raw width /100/
  20       w(i) width     /w1  45
  21                       w2  36
  22                       w3  31
  23                       w4  14/
  24       d(i) demand    /w1  97
  25                       w2 610
  26                       w3 395
  27                       w4 211/
  28   
  29  * Gilmore-Gomory column generation algorithm
  30   
  31  Set  p        possible patterns  /p1*p1000/
  32       pp(p)    dynamic subset of p
  33  Parameter
  34       aip(i,p) number of width i in pattern growing in p;
  35   
  36   
  37  * Master model
  38  Variable xp(p)     patterns used
  39           z         objective variable
  40  Integer variable xp; xp.up(p) = sum(i, d(i));
  41   
  42  Equation numpat    number of patterns used
  43           demand(i) meet demand;
  44   
  45  numpat..     z =e= sum(pp, xp(pp));
  46  demand(i)..  sum(pp, aip(i,pp)*xp(pp)) =g= d(i);
  47   
  48  model master /numpat, demand/;
  49   
  50  * Pricing problem - Knapsack model
  51  Variable  y(i) new pattern;
  52  Integer variable y; y.up(i) = ceil(r/w(i));
  53   
  54  Equation defobj
  55           knapsack knapsack constraint;
  56   
  57  defobj..     z =e= 1 - sum(i, demand.m(i)*y(i));
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 3
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
C o m p i l a t i o n


  58  knapsack..   sum(i, w(i)*y(i)) =l= r;
  59   
  60  model pricing /defobj, knapsack/;
  61   
  62  * Initialization - the initial patterns have a single width
  63  pp(p) = ord(p)<=card(i);
  64  aip(i,pp(p))$(ord(i)=ord(p)) = floor(r/w(i));
  65  *display aip;
  66   
  67  Scalar done  loop indicator /0/
  68  Set    pi(p) set of the last pattern; pi(p) = ord(p)=card(pp)+1;
  69   
  70  option optcr=0,limrow=0,limcol=0,solprint=off;
  71   
  72  While(not done and card(pp)<card(p),
  73     solve master using rmip minimizing z;
  74     solve pricing using mip minimizing z;
  75   
  76  * pattern that might improve the master model found?
  77     if(z.l < -0.001,
  78        aip(i,pi) = round(y.l(i));
  79        pp(pi) = yes; pi(p) = pi(p-1);
  80     else
  81        done = 1;
  82     );
  83  );
  84  display 'lower bound for number of rolls', master.objval;
  85   
  86  option solprint=on;
  87  solve master using mip minimizing z;
  88   
  89  Parameter patrep Solution pattern report
  90            demrep Solution demand supply report;
  91   
  92  patrep('# produced',p) = round(xp.l(p));
  93  patrep(i,p)$patrep('# produced',p) = aip(i,p);
  94  patrep(i,'total') = sum(p, patrep(i,p));
  95  patrep('# produced','total') = sum(p, patrep('# produced',p));
  96   
  97  demrep(i,'produced') = sum(p,patrep(i,p)*patrep('# produced',p));
  98  demrep(i,'demand') = d(i);
  99  demrep(i,'over') = demrep(i,'produced') - demrep(i,'demand');
 100   
 101  display patrep, demrep;


COMPILATION TIME     =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 4
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
Model Statistics    SOLVE master Using RMIP From line 73


LOOPS                            FOR/WHILE   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS            5
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            5
NON ZERO ELEMENTS             9     DISCRETE VARIABLES          4


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
               L O O P S          FOR/WHILE 1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 5
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
Solution Report     SOLVE master Using RMIP From line 73


               S O L V E      S U M M A R Y

     MODEL   master              OBJECTIVE  z
     TYPE    RMIP                DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  73

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE              515.3095

 RESOURCE USAGE, LIMIT          0.002      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

IBM ILOG CPLEX   24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      
Cplex 12.6.3.0

*** Error Cannot open parameter file "/home/renigijus/gams/opt-mod-lib/gamslib/cutstock/cplex.opt"
*** Error Error code = 2; No such file or directory
Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.00 ticks)
Optimal solution found.
Objective :         515.309524



**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 6
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
Model Statistics    SOLVE pricing Using MIP From line 74


LOOPS                            FOR/WHILE   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS            2
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            5
NON ZERO ELEMENTS             9     DISCRETE VARIABLES          4


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
               L O O P S          FOR/WHILE 1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 7
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
Solution Report     SOLVE pricing Using MIP From line 74


               S O L V E      S U M M A R Y

     MODEL   pricing             OBJECTIVE  z
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  74

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/cutstock/convert.opt"
>>  ampl cutstock-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/cutstock/convert.opt"
Ampl      : cutstock-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 8
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
E x e c u t i o n


----     84 lower bound for number of rolls
            MODEL master.ObjVal            =      515.310  
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:27 Page 9
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
Model Statistics    SOLVE master Using MIP From line 87


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS            5
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            5
NON ZERO ELEMENTS             9     DISCRETE VARIABLES          4


GENERATION TIME      =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:23:27 Page 10
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
Solution Report     SOLVE master Using MIP From line 87


               S O L V E      S U M M A R Y

     MODEL   master              OBJECTIVE  z
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  87

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/cutstock/convert.opt"
>>  ampl cutstock-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/cutstock/convert.opt"
Ampl      : cutstock-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:23:27 Page 11
Cutting Stock - A Column Generation Approach (CUTSTOCK,SEQ=294)
E x e c u t i o n


----    101 PARAMETER patrep  Solution pattern report

                    p1          p2          p3          p4       total

w1               2.000                                           2.000
w2                           2.000                               2.000
w3                                       3.000                   3.000
w4                                                   7.000       7.000
# produced      49.000     305.000     132.000      30.000     516.000


----    101 PARAMETER demrep  Solution demand supply report

      produced      demand        over

w1      98.000      97.000       1.000
w2     610.000     610.000
w3     396.000     395.000       1.000
w4     210.000     211.000      -1.000



EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/cutstock/cutstock.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/cutstock/cutstock-scalar.mod.lst
