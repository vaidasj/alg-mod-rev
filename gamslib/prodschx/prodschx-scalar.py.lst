GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
   2  option MIP=convert;
   3  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 2
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
C o m p i l a t i o n


   5   
       
         A company specializing in the manufacture of outboard motors faces
         highly seasonal demands and wants to minimize production cost. The
         three main cost categories are:
           1. direct production cost (nonlinear production relations and shift
              operations are possible)
           2. inventory cost (rent or lease option)
           3. workforce fluctuation cost.
       
       
      CDC, APEX-III Reference Manual Version 1.2, Control Data Corporation,
      Minneapolis, 1980. MIP Sample Problem
       
         This is a revised version of the model PRODSCH (SEQ=9). The GAMS
         SOS definition required to change the index positions of the
         variables ss and SSB. There are three possible ways to use a MIP.
       
  25   
  26  *      Binary variables
  27  *      SOS1 sets
  28  *      SOS2 sets
  29  *
  30  *  Some equations are entered twice with a different name to comply
  31  *  with the strict typing of variables in GAMS.
  32   
  33  Sets  q    quarters                   / summer, fall, winter, spring /
  34        s    shifts                     / first, second /
  35        l    production levels          / 1*4 /
  36        i(l) production level intervals / 1*3 /
  37   
  38  Parameters  d(q)    demand (motors per season)        / spring = 24000 /
  39              delt(q) discount factor
  40              lc(q)   leasing cost (dollars per season) / summer = 15000 /
  41              ei(q)   initial employment                / summer =    84 /
  42   
  43  Scalars  mc     material cost (dollars per motor)  / 100 /
  44           sr     space rental  (dollars per motor)  /   2 /
  45           invmax upper bound on inventory (motors)
  46           hc     hiring cost (dollars per employee) / 900 /
  47           fc     firing cost (dollars per employee) / 150 / ;
  48   
  49  delt(q) = 1/1.03**(ord(q)-1);   invmax = sum(q, d(q));
  50   
  51   
  52  Table  pr(*,l) production relationship
  53   
  54             1      2      3      4
  55   
  56  labor     20     40     50     60
  57  motor   1000   3000   4500   5800
  58   
  59   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 3
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
C o m p i l a t i o n


  60  Table sc(*,s)  shift cost  ( dollars per shift )
  61   
  62          first    second
  63   
  64  fixed   10000     16000
  65  labor    3500      4100
  66   
  67   
  68  Variables  cost        total discounted cost per year           (1000 $)
  69             dpc(q)      direct production cost        (1000 $ per season)
  70             isc(q)      inventory storage cost        (1000 $ per season)
  71             wfc(q)      workforce fluctuation cost    (1000 $ per season)
  72             src(q)      space rental cost             (1000 $ per season)
  73   
  74             p(q)        production                    (motors per season)
  75             ss(q,s,l)   production segments                   (sos2 type)
  76             ssb(q,s,l)  0-1 needed for ss sos2 formulation
  77             ss1(q,s,l)  SOS1 needed for ss sos2
  78             ss2(q,s,l)  SOS2 formulation
  79             inv(q)      inventory                     (motors per season)
  80             lease       lease-rent option
  81   
  82             e(q)        total employment                      (employees)
  83             se(q,s)     shift employment            (employees per shift)
  84             shift(q,s)  shift use indicator                      (binary)
  85             h(q)        hirings per quarter                   (employees)
  86             f(q)        firings per quarter                   (employees)
  87   
  88  Positive Variables p, ss, inv, src, h, f ;
  89  Binary variables lease, shift, ssb; SOS1 variable ss1; SOS2 variable ss2;
  90   
  91  Equations  acost        total cost definition                  (1000 $)
  92             ddpc(q)      direct production cost definition      (1000 $)
  93             disc(q)      inventory storage cost definition      (1000 $)
  94             dwfc(q)      workforce fluctuation cost definition  (1000 $)
  95   
  96             sbp(q)       sos product balance                    (motors)
  97             sbps2(q)     SOS2 product balance                    (motors)
  98             sbse(q,s)    sos shift employment balance        (employees)
  99             sbses2(q,s)  SOS2 shift employment balance        (employees)
 100             scc(q,s)     sos shift link
 101             sccs2(q,s)   SOS2 shift link
 102             invb(q)      inventory balance                      (motors)
 103             dsrc(q)      definition: space rental
 104   
 105             ed(q)        total employment definition         (employees)
 106             eb1(q)       employment balance type 1           (employees)
 107             eb2(q)       employment balance type 2           (employees)
 108   
 109             messb(q,s)   mutual exclusivity for ssb
 110             mess1(q,s)   mutual exclusivity for ss1
 111             lssb(q,s,l)  ss - ssb linkage
 112             lss1(q,s,l)  ss - ss1 linkage ;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 4
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
C o m p i l a t i o n


 113   
 114   
 115  acost..      cost   =e= sum(q, delt(q)*( dpc(q) + isc(q) + wfc(q) ));
 116   
 117  ddpc(q)..    dpc(q) =e= (mc*p(q) + sum(s, sc("fixed",s)*shift(q,s) + sc("labor",s)*se(q,s)))/1000;
 118   
 119  sbp(q)..     p(q) =e= sum((s,l), pr("motor",l)*ss (q,s,l)) ;
 120  sbps2(q)..   p(q) =e= sum((s,l), pr("motor",l)*ss2(q,s,l)) ;
 121   
 122  sbse(q,s)..  se(q,s) =e= sum(l, pr("labor",l)*ss (q,s,l)) ;
 123  sbses2(q,s)..se(q,s) =e= sum(l, pr("labor",l)*ss2(q,s,l)) ;
 124   
 125  scc(q,s)..   sum(l, ss (q,s,l)) =e= shift(q,s) ;
 126  sccs2(q,s).. sum(l, ss2(q,s,l)) =e= shift(q,s) ;
 127   
 128  invb(q)..    inv(q) =e= inv(q-1) + p(q) - d(q) ;
 129   
 130  disc(q)..    isc(q) =e= (lc(q)*lease + src(q))/1000 ;
 131   
 132  dsrc(q)..    src(q) =g= sr*( inv(q) - invmax*lease ) ;
 133   
 134  dwfc(q)..    wfc(q) =e= (hc*h(q) + fc*f(q))/1000 ;
 135   
 136  ed(q)..      e(q)   =e= sum(s, se(q,s));
 137   
 138  eb1(q)..     e(q)   =e= e(q-1) + h(q) - f(q) + ei(q) ;
 139   
 140  eb2(q)..     e(q)   =e= e(q--1) + h(q) - f(q) ;
 141   
 142  messb(q,s).. sum(l, ssb(q,s,l)) =e= 1;
 143  mess1(q,s).. sum(l, ss1(q,s,l)) =e= 1;
 144   
 145  lssb(q,s,l).. ss(q,s,l-1) + ss(q,s,l) =l= ssb(q,s,l-2) + ssb(q,s,l-1) + ssb(q,s,l);
 146  lss1(q,s,l).. ss(q,s,l-1) + ss(q,s,l) =l= ss1(q,s,l-2) + ss1(q,s,l-1) + ss1(q,s,l);
 147   
 148  p.up("spring") = .8*card(s)*smax(l, pr("motor",l));
 149   
 150  Model prod1B  initial employment / acost, ddpc, sbp, sbse, scc, disc, invb, dsrc, dwfc, ed, eb1, messb, lssb /
 151        prod2B  steady state       / acost, ddpc, sbp, sbse, scc, disc, invb, dsrc, dwfc, ed, eb2, messb, lssb /
 152        prod1S1 initial employment / acost, ddpc, sbp, sbse, scc, disc, invb, dsrc, dwfc, ed, eb1, mess1, lss1 /
 153        prod2S1 steady state       / acost, ddpc, sbp, sbse, scc, disc, invb, dsrc, dwfc, ed, eb2, mess1, lss1 /
 154        prod1S2 initial employment / acost, ddpc, sbps2, sbses2, sccs2, disc, invb, dsrc, dwfc, ed, eb1 /
 155        prod2S2 steady state       / acost, ddpc, sbps2, sbses2, sccs2, disc, invb, dsrc, dwfc, ed, eb2 /;
 156   
 157  * get global optimum (OPTCR) and force each solve to start from scratch (BRATIO)
 158   
 159  Option optcr=0,limcol=0,limrow=0,bratio=1;
 160   
 161  Parameter report summary performance report;
 162   
 163  Solve prod1b  minimizing cost using mip;
 164  report('prod1b','objval')  = prod1b.objval;
 165  report('prod1b','iterusd') = prod1b.iterusd;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 5
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
C o m p i l a t i o n


 166  report('prod1b','nodusd')  = prod1b.nodusd;
 167   
 168  Solve prod1s1 minimizing cost using mip;
 169  report('prod1s1','objval')  = prod1s1.objval;
 170  report('prod1s1','iterusd') = prod1s1.iterusd;
 171  report('prod1s1','nodusd')  = prod1s1.nodusd;
 172   
 173  Solve prod1s2 minimizing cost using mip;
 174  report('prod1s2','objval')  = prod1s2.objval;
 175  report('prod1s2','iterusd') = prod1s2.iterusd;
 176  report('prod1s2','nodusd')  = prod1s2.nodusd;
 177   
 178  Solve prod2b  minimizing cost using mip;
 179  report('prod2b','objval')  = prod2b.objval;
 180  report('prod2b','iterusd') = prod2b.iterusd;
 181  report('prod2b','nodusd')  = prod2b.nodusd;
 182   
 183  Solve prod2s1 minimizing cost using mip;
 184  report('prod2s1','objval')  = prod2s1.objval;
 185  report('prod2s1','iterusd') = prod2s1.iterusd;
 186  report('prod2s1','nodusd')  = prod2s1.nodusd;
 187   
 188  Solve prod2s2 minimizing cost using mip;
 189  report('prod2s2','objval')  = prod2s2.objval;
 190  report('prod2s2','iterusd') = prod2s2.iterusd;
 191  report('prod2s2','nodusd')  = prod2s2.nodusd;
 192   
 193  Display report;
 194   


COMPILATION TIME     =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 6
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Model Statistics    SOLVE prod1B Using MIP From line 163


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           89
BLOCKS OF VARIABLES          15     SINGLE VARIABLES          118
NON ZERO ELEMENTS           384     DISCRETE VARIABLES         41


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 7
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Solution Report     SOLVE prod1B Using MIP From line 163


               S O L V E      S U M M A R Y

     MODEL   prod1B              OBJECTIVE  cost
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  163

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
>>  pyomo prodschx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
Pyomo     : prodschx-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 8
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Model Statistics    SOLVE prod1S1 Using MIP From line 168


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           89
BLOCKS OF VARIABLES          15     SINGLE VARIABLES          118
NON ZERO ELEMENTS           384     DISCRETE VARIABLES          9


GENERATION TIME      =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:49 Page 9
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Solution Report     SOLVE prod1S1 Using MIP From line 168


               S O L V E      S U M M A R Y

     MODEL   prod1S1             OBJECTIVE  cost
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  168

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
>>  pyomo prodschx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
Pyomo     : prodschx-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 10
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Model Statistics    SOLVE prod1S2 Using MIP From line 173


MODEL STATISTICS

BLOCKS OF EQUATIONS          11     SINGLE EQUATIONS           49
BLOCKS OF VARIABLES          14     SINGLE VARIABLES           86
NON ZERO ELEMENTS           224     DISCRETE VARIABLES          9


GENERATION TIME      =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 11
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Solution Report     SOLVE prod1S2 Using MIP From line 173


               S O L V E      S U M M A R Y

     MODEL   prod1S2             OBJECTIVE  cost
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  173

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
>>  pyomo prodschx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
Pyomo     : prodschx-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 12
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Model Statistics    SOLVE prod2B Using MIP From line 178


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           89
BLOCKS OF VARIABLES          15     SINGLE VARIABLES          118
NON ZERO ELEMENTS           385     DISCRETE VARIABLES         41


GENERATION TIME      =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.004 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 13
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Solution Report     SOLVE prod2B Using MIP From line 178


               S O L V E      S U M M A R Y

     MODEL   prod2B              OBJECTIVE  cost
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  178

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
>>  pyomo prodschx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
Pyomo     : prodschx-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 14
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Model Statistics    SOLVE prod2S1 Using MIP From line 183


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           89
BLOCKS OF VARIABLES          15     SINGLE VARIABLES          118
NON ZERO ELEMENTS           385     DISCRETE VARIABLES          9


GENERATION TIME      =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.004 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 15
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Solution Report     SOLVE prod2S1 Using MIP From line 183


               S O L V E      S U M M A R Y

     MODEL   prod2S1             OBJECTIVE  cost
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  183

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
>>  pyomo prodschx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
Pyomo     : prodschx-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 16
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Model Statistics    SOLVE prod2S2 Using MIP From line 188


MODEL STATISTICS

BLOCKS OF EQUATIONS          11     SINGLE EQUATIONS           49
BLOCKS OF VARIABLES          14     SINGLE VARIABLES           86
NON ZERO ELEMENTS           225     DISCRETE VARIABLES          9


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 17
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
Solution Report     SOLVE prod2S2 Using MIP From line 188


               S O L V E      S U M M A R Y

     MODEL   prod2S2             OBJECTIVE  cost
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  188

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
>>  pyomo prodschx-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/prodschx/convert.opt"
Pyomo     : prodschx-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:49 Page 18
Production Scheduling Model using SOS1 and SOS2 (PRODSCHX,SEQ=109)
E x e c u t i o n


----    193 PARAMETER report  summary performance report

             nodusd

prod1b           NA
prod1s1          NA
prod1s2          NA
prod2b           NA
prod2s1          NA
prod2s2          NA



EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/prodschx/prodschx.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/prodschx/prodschx-scalar.py.lst
