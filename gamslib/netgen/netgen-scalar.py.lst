GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
   3  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 2
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
C o m p i l a t i o n


       
      This problem finds a minimum cost flow in a network generated by
      NETGEN and GNETGEN. An awk script converts the NETGEN format into GAMS
      readable statements.
       
      NETGEN and GNETGEN are available from NETLIB: http://www.netlib.org/lp/generators
       
       
      Klingman, D, Napier, A, and Stutz, J, NETGEN: A program for generating
      large scale capacitated assignment, transportation, and minimum cost
      flow networks. Management Science 20 (1974), 814-820.
       
      Clark, R H, Kennington, L, Meyer, R R, and Ramamurti, M, Generalized
      Networks: Parallel Algorithms and an Empirical Analysis. ORSA Journal
      on Computing 4, 2 (1992), 132-145.
       
  23   
  24   
  25  * The AWK scripts are modified versions of the ones for AMPL taken
  26  * from the generator distributions
  27   
  37   
  48   
  50  set n nodes /1*50/, nn(n), a(n,n) arcs, hdr /cost,capacity,multiplier/;
  51   
  52  Parameter adata(n,n,hdr), supply(n), demand(n);
  53   
  58   
  63   
  64  Variables x(n,n)  flow
  65            z       objective;
  66  Positive variable x;
  67   
  68  Equations obj     objective
  69            net     flow conservation;
  70   
  71  obj..     z =e= sum(a, adata(a,'cost')*x(a));
  72   
  73  net(nn).. supply(nn) + sum(a(n,nn), adata(a,'multiplier')*x(a)) =e= sum(a(nn,n), x(a)) + demand(nn);
  74   
  75  model mincostflow /all/;
  76   
  77  * Solve the NETGEN problem
  78  execute_load 'ngfile', nn=n, supply, adata, demand;
  79  a(n,nn)               = adata(n,nn,'capacity');
  80  adata(a,'multiplier') = 1;
  81  x.up(a)               = adata(a,'capacity');
  82   
  83  solve mincostflow using lp minimizing z;
  84   
  85  * Solve the GNETGEN problem
  86  execute_load 'gngfile', nn=n, supply, adata, demand;
  87  a(n,nn) = adata(n,nn,'capacity');
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 3
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
C o m p i l a t i o n


  88  x.up(a) = adata(a,'capacity');
  89   
  90  solve mincostflow using lp minimizing z;
  91   
  92  * Clean up temporary files
  93  execute 'rm -f gngfile.* ngfile.*';
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 4
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/renigijus/gams/opt-mod-lib/gamslib/netgen/netgen.gms
     2       55 CALL           1      55  awk -f "/home/renigijus/gams/opt-mod-lib/gamslib/netgen/225a/netgen2gms.dat" netgn099.inc  > ngfile.gms
     3       56 CALL           1      56  gams ngfile lo=2 gdx=ngfile
     4       60 CALL           1      60  awk -f "/home/renigijus/gams/opt-mod-lib/gamslib/netgen/225a/gnetgen2gms.dat" gnetgn99.inc  > gngfile.gms
     5       61 CALL           1      61  gams gngfile lo=2 gdx=gngfile


COMPILATION TIME     =        0.034 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 5
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Equation Listing    SOLVE mincostflow Using LP From line 83


---- obj  =E=  objective

obj..  - 11*x(1,26) - 53*x(1,27) - 42*x(1,28) - 60*x(1,30) - 80*x(1,31) - 10*x(1,39) - 76*x(1,41) - 61*x(1,43) - 29*x(1,45) - 96*x(1,46) - 61*x(1,47) - 79*x(2,26) - 89*x(2,27) - 67*x(2,28) - 39*x(2,30) - 22*x(2,33) - 66*x(2,35) - 2*x(2,37) - 28*x(2,38)
     
      - 50*x(2,40) - 30*x(2,41) - 91*x(2,42) - 26*x(2,43) - 83*x(2,45) - 89*x(2,46) - 50*x(2,47) - 50*x(2,48) - 99*x(2,49) - 41*x(3,28) - 73*x(3,39) - 94*x(3,40) - 80*x(4,30) - 78*x(4,36) - 15*x(4,38) - 18*x(4,46) - 11*x(5,28) - 85*x(5,29) - 97*x(5,33)
     
      - 36*x(5,35) - 29*x(5,37) - 61*x(5,38) - 4*x(5,41) - 90*x(5,42) - 41*x(5,45) - 99*x(5,47) - 99*x(5,48) - 27*x(6,27) - 12*x(6,36) - 75*x(6,37) - 68*x(6,38) - 23*x(6,42) - 66*x(6,46) - 80*x(6,47) - 19*x(6,48) - 51*x(6,49) - 92*x(7,26) - 76*x(7,28)
     
      - 48*x(7,29) - 71*x(7,32) - 26*x(7,33) - 3*x(7,35) - 9*x(7,36) - 80*x(7,37) - 26*x(7,40) - 19*x(7,41) - 32*x(7,43) - 76*x(7,45) - 69*x(7,46) - 96*x(7,48) - 89*x(7,49) - 31*x(8,26) - 17*x(8,28) - 14*x(8,29) - 91*x(8,30) - 43*x(8,32) - 4*x(8,34)
     
      - 35*x(8,36) - 96*x(8,40) - 37*x(8,41) - 54*x(8,43) - 6*x(8,48) - 45*x(8,50) - 33*x(9,28) - 5*x(9,33) - 24*x(9,34) - 72*x(9,49) - 86*x(10,28) - 76*x(10,29) - 74*x(10,49) - 91*x(11,27) - 16*x(11,28) - 29*x(11,31) - 59*x(11,32) - 10*x(11,34)
     
      - 59*x(11,35) - 49*x(11,38) - 44*x(11,39) - 67*x(11,40) - 14*x(11,42) - 77*x(11,45) - 71*x(11,46) - 39*x(11,47) - 14*x(11,49) - 13*x(12,26) - 65*x(12,28) - 84*x(12,29) - 50*x(12,31) - 47*x(12,32) - 26*x(12,35) - 5*x(12,46) - 21*x(12,48)
     
      - 37*x(12,49) - 50*x(13,27) - 74*x(13,32) - 68*x(13,35) - 51*x(13,37) - 48*x(13,39) - 3*x(13,42) - 58*x(13,45) - 82*x(13,47) - 18*x(14,27) - 24*x(14,31) - 95*x(14,32) - 16*x(14,35) - 56*x(14,36) - 34*x(14,37) - 92*x(14,39) - 18*x(14,43)
     
      - 87*x(14,44) - 12*x(14,47) - 91*x(14,48) - 38*x(14,49) - 96*x(15,31) - 49*x(15,32) - 98*x(15,36) - 25*x(15,42) - 37*x(16,26) - 58*x(16,27) - 80*x(16,28) - 2*x(16,29) - 34*x(16,30) - 27*x(16,31) - 58*x(16,32) - 27*x(16,33) - 19*x(16,34)
     
      - 78*x(16,35) - 62*x(16,39) - 56*x(16,41) - 27*x(16,46) - 73*x(16,47) - 79*x(16,48) - 31*x(17,30) - 48*x(17,32) - 5*x(17,42) - 88*x(17,48) - 18*x(18,29) - x(18,33) - 54*x(18,34) - 2*x(18,37) - 4*x(18,38) - 18*x(18,43) - 54*x(18,46) - 66*x(19,27)
     
      - 6*x(19,28) - 20*x(19,29) - 89*x(19,30) - 79*x(19,31) - 17*x(19,33) - 4*x(19,34) - 26*x(19,35) - 45*x(19,36) - 50*x(19,37) - 52*x(19,38) - 48*x(19,39) - 98*x(19,40) - 54*x(19,42) - 16*x(19,44) - 24*x(19,45) - 35*x(19,46) - 48*x(19,47) - 81*x(19,48)
     
      - 80*x(19,49) - 73*x(20,27) - 95*x(20,33) - 91*x(20,34) - 66*x(20,36) - 33*x(20,44) - 89*x(20,48) - 90*x(21,26) - 46*x(21,28) - 91*x(21,29) - 20*x(21,31) - 25*x(21,32) - 73*x(21,33) - 20*x(21,37) - 71*x(21,38) - 15*x(21,39) - 93*x(21,40)
     
      - 95*x(21,41) - 92*x(21,42) - 68*x(21,43) - 64*x(21,44) - 56*x(21,46) - 39*x(21,47) - 46*x(21,48) - 16*x(21,49) - 31*x(22,26) - 35*x(22,29) - 33*x(22,32) - 25*x(22,44) - 64*x(22,46) - 62*x(22,48) - 43*x(23,26) - 91*x(23,27) - 35*x(23,32)
     
      - 85*x(23,34) - 65*x(23,37) - 63*x(23,40) - 81*x(23,42) - 14*x(23,44) - 5*x(23,45) - 83*x(23,46) - 54*x(23,48) - 74*x(24,26) - 10*x(24,28) - 49*x(24,29) - 94*x(24,33) - 91*x(24,38) - 5*x(24,40) - 99*x(24,41) - 85*x(25,27) - 80*x(25,28) - 67*x(25,29)
     
      - 4*x(25,30) - 16*x(25,31) - 55*x(25,32) - 99*x(25,33) - 65*x(25,34) - 50*x(25,35) - 45*x(25,37) - 3*x(25,38) - 95*x(25,39) - 64*x(25,40) - 94*x(25,42) - 63*x(25,44) - 36*x(25,45) - 54*x(25,46) - 45*x(25,47) - 40*x(25,49) - 56*x(25,50) + z =E= 0 ;
     
      (LHS = 0)
     

---- net  =E=  flow conservation

net(1)..  - x(1,26) - x(1,27) - x(1,28) - x(1,30) - x(1,31) - x(1,39) - x(1,41) - x(1,43) - x(1,45) - x(1,46) - x(1,47) =E= -2286 ; (LHS = 0, INFES = 2286 ****)
     
net(2)..  - x(2,26) - x(2,27) - x(2,28) - x(2,30) - x(2,33) - x(2,35) - x(2,37) - x(2,38) - x(2,40) - x(2,41) - x(2,42) - x(2,43) - x(2,45) - x(2,46) - x(2,47) - x(2,48) - x(2,49) =E= -12968 ; (LHS = 0, INFES = 12968 ****)
     
net(3)..  - x(3,28) - x(3,39) - x(3,40) =E= -605 ; (LHS = 0, INFES = 605 ****)
     
REMAINING 47 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 6
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Column Listing      SOLVE mincostflow Using LP From line 83


---- x  flow

x(1,26)
                (.LO, .L, .UP, .M = 0, 0, 881, 0)
      -11       obj
       -1       net(1)
        1       net(26)

x(1,27)
                (.LO, .L, .UP, .M = 0, 0, 437, 0)
      -53       obj
       -1       net(1)
        1       net(27)

x(1,28)
                (.LO, .L, .UP, .M = 0, 0, 158, 0)
      -42       obj
       -1       net(1)
        1       net(28)

REMAINING 247 ENTRIES SKIPPED

---- z  objective

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 7
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Model Statistics    SOLVE mincostflow Using LP From line 83


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS           51
BLOCKS OF VARIABLES           2     SINGLE VARIABLES          251
NON ZERO ELEMENTS           751


GENERATION TIME      =        0.004 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.006 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 8
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Solution Report     SOLVE mincostflow Using LP From line 83


               S O L V E      S U M M A R Y

     MODEL   mincostflow         OBJECTIVE  z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  83

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/netgen/convert.opt"
>>  pyomo netgen-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/netgen/convert.opt"
Pyomo     : netgen-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:26 Page 9
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Equation Listing    SOLVE mincostflow Using LP From line 90


---- obj  =E=  objective

obj..  - 91.75*x(1,6) - 77.34*x(1,7) - 30.19*x(1,8) - 77.92*x(1,9) - 97.19*x(1,10) - 19.42*x(1,11) - 67.15*x(1,12) - 75.73*x(1,13) - 53.54*x(1,14) - 3.46*x(1,15) - 50.01*x(1,17) - 5.51*x(1,19) - 29.72*x(2,6) - 28.05*x(2,7) - 94.09*x(2,8) - 58.19*x(2,9)
     
      - 92.53*x(2,10) - 3.57*x(2,11) - 55.49*x(2,12) - 71.42*x(2,14) - 77.52*x(2,15) - 44.88*x(2,16) - 80.58*x(2,17) - 96.14*x(2,18) - 77.72*x(2,19) - 32.41*x(3,6) - 28.94*x(3,7) - 100*x(3,8) - 45.82*x(3,9) - 65.21*x(3,10) - 94.55*x(3,11) - 22.82*x(3,12)
     
      - 79.67*x(3,13) - 7.39*x(3,14) - 43.1*x(3,15) - 72.52*x(3,16) - 88.73*x(3,17) - 79.01*x(3,18) - 55.78*x(3,19) - 1.77*x(4,6) - 40.3*x(4,7) - 44.57*x(4,8) - 39.42*x(4,9) - 16.21*x(4,10) - 80.34*x(4,11) - 70.37*x(4,12) - 1.36*x(4,13) - 40.31*x(4,14)
     
      - 93.02*x(4,15) - 66.73*x(4,16) - 65.06*x(4,17) - 15.93*x(4,18) - 100*x(4,19) - 43.95*x(5,6) - 50.85*x(5,7) - 84.53*x(5,8) - 49.91*x(5,9) - 87.94*x(5,10) - 21.65*x(5,11) - 100*x(5,12) - 17.09*x(5,13) - 16.9*x(5,14) - 78.05*x(5,16) - 56.37*x(5,17)
     
      - 52.21*x(5,18) - 67.06*x(5,19) - 5.85*x(6,6) - 24.53*x(6,7) - 32.42*x(6,8) - 98.39*x(6,9) - 86.03*x(6,10) - 77.42*x(6,11) - 62.91*x(6,12) - 10.64*x(6,13) - 78.08*x(6,14) - 39.01*x(6,15) - 25.46*x(6,16) - 47.83*x(6,17) - 97.5*x(6,18) - 77.35*x(6,19)
     
      - 8.07*x(7,6) - 41.43*x(7,7) - 60.79*x(7,8) - 20.04*x(7,9) - 75.57*x(7,10) - 98.21*x(7,11) - 51.31*x(7,12) - 35.9*x(7,13) - 89.25*x(7,14) - 57.66*x(7,15) - 87.33*x(7,16) - 11.61*x(7,17) - 100*x(7,18) - 75.96*x(7,20) - 7.16*x(8,6) - 84.06*x(8,7)
     
      - 15.31*x(8,8) - 94.48*x(8,9) - 79.21*x(8,10) - 72.34*x(8,11) - 37.99*x(8,12) - 99.87*x(8,13) - 27.02*x(8,14) - 58.95*x(8,15) - 98.37*x(8,16) - 100*x(8,17) - 36.02*x(8,18) - 9.33*x(8,19) - 35.66*x(9,6) - 64.64*x(9,7) - 99.26*x(9,8) - 33.79*x(9,9)
     
      - 17.53*x(9,10) - 3.87*x(9,11) - 10.74*x(9,12) - 100*x(9,13) - 26.72*x(9,14) - 77.67*x(9,15) - 100*x(9,17) - 48.97*x(9,18) - 63.25*x(9,19) - 28.31*x(9,20) - 26.36*x(10,6) - 100*x(10,9) - 47.65*x(10,11) - 58.1*x(10,12) - 45.69*x(10,15)
     
      - 51.33*x(10,16) - 64.08*x(10,17) - 6.34*x(10,19) + z =E= 0 ; (LHS = 0)
     

---- net  =E=  flow conservation

net(1)..  - x(1,6) - x(1,7) - x(1,8) - x(1,9) - x(1,10) - x(1,11) - x(1,12) - x(1,13) - x(1,14) - x(1,15) - x(1,17) - x(1,19) - x(1,26) - x(1,27) - x(1,28) - x(1,30) - x(1,31) - x(1,39) - x(1,41) - x(1,43) - x(1,45) - x(1,46) - x(1,47) =E= -4096.15 ;
     
      (LHS = 0, INFES = 4096.15 ****)
     
net(2)..  - x(2,6) - x(2,7) - x(2,8) - x(2,9) - x(2,10) - x(2,11) - x(2,12) - x(2,14) - x(2,15) - x(2,16) - x(2,17) - x(2,18) - x(2,19) - x(2,26) - x(2,27) - x(2,28) - x(2,30) - x(2,33) - x(2,35) - x(2,37) - x(2,38) - x(2,40) - x(2,41) - x(2,42) - x(2,43)
     
      - x(2,45) - x(2,46) - x(2,47) - x(2,48) - x(2,49) =E= -26320.66 ; (LHS = 0, INFES = 26320.66 ****)
     
net(3)..  - x(3,6) - x(3,7) - x(3,8) - x(3,9) - x(3,10) - x(3,11) - x(3,12) - x(3,13) - x(3,14) - x(3,15) - x(3,16) - x(3,17) - x(3,18) - x(3,19) - x(3,28) - x(3,39) - x(3,40) =E= -10206.05 ; (LHS = 0, INFES = 10206.05 ****)
     
REMAINING 17 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:24:26 Page 10
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Column Listing      SOLVE mincostflow Using LP From line 90


---- x  flow

x(1,6)
                (.LO, .L, .UP, .M = 0, 0, 1000000, 0)
      -91.75    obj
       -1       net(1)
        1.49    net(6)

x(1,7)
                (.LO, .L, .UP, .M = 0, 0, 1000000, 0)
      -77.34    obj
       -1       net(1)
        1.46    net(7)

x(1,8)
                (.LO, .L, .UP, .M = 0, 0, 1000000, 0)
      -30.19    obj
       -1       net(1)
        0.73    net(8)

REMAINING 315 ENTRIES SKIPPED

---- z  objective

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:24:26 Page 11
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Model Statistics    SOLVE mincostflow Using LP From line 90


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS           21
BLOCKS OF VARIABLES           2     SINGLE VARIABLES          319
NON ZERO ELEMENTS           575


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:24:26 Page 12
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
Solution Report     SOLVE mincostflow Using LP From line 90


               S O L V E      S U M M A R Y

     MODEL   mincostflow         OBJECTIVE  z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  90

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/netgen/convert.opt"
>>  pyomo netgen-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/netgen/convert.opt"
Pyomo     : netgen-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:24:26 Page 13
Min Cost Flow with an Instance generated by NETGEN and GNETGEN (NETGEN,SEQ=323)
E x e c u t i o n


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/netgen/netgen.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/netgen/netgen-scalar.py.lst
