GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option QCP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 2
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


       
         This is a QCP version of the gamslib model DEMO7. The original NLP
         formulation was concerned with good starting points. QCPs do not
         need starting a point.
       
         This is the last in a series of agricultural farm level and sector
         models, this model simulates the market behavior of the sector
         using a partial equilibrium framework. The technique is
         the maximization of consumers and producers surplus.
       
       
      Kutcher, G P, Meeraus, A, and O'Mara, G T, Agriculture Sector and
      Policy Models. The World Bank, 1988.
       
  19   
  20  Sets
  21   
  22    c  crop   / wheat, clover, beans, onions, cotton, maize, tomato/
  23    cl livestock  feed  / clover, straw /
  24    t  month  / jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec  /
  25    r  feeding recipes / rec-1, rec-2 /
  26    s  seasons / summer, winter /
  27    sc(s,c) season crop mapping / summer.(cotton,maize,tomato)
  28                                  winter.(wheat,clover,beans,onions) /
  29    cn(c)  crops sold in national market
  30    ce(c)  export commodities
  31    cm(c)  import commodities
  32   
  33  Table a(t,c)  months of land occupation by crop (hectares)
  34   
  35      wheat  clover  beans  onions cotton maize  tomato
  36  jan   1.     1.      1.     1.
  37  feb   1.     1.      1.     1.
  38  mar   1.      .5     1.     1.     .5
  39  apr   1.             1.     1.     1.
  40  may   1.                    .25    1.     .25
  41  jun                                1.     1.
  42  jul                                1.     1.     .75
  43  aug                                1.     1.     1.
  44  sep                                1.     1.     1.
  45  oct                                1.     .5     1.
  46  nov   .5     .25     .25    .5     .75           .75
  47  dec   1.     1.      1.     1.
  48   
  49   
  50  Table lc(t,c)  crop labor requirements (man-days per hectare)
  51   
  52       wheat  clover beans  onions cotton maize  tomato
  53  jan   1.72   4.5    .75    5.16
  54  feb   .5     1.     .75    5.
  55  mar   1.     8.     .75    5.     5.
  56  apr   1.            16.    19.58  5.
  57  may   17.16                2.42   9.     4.3
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 3
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


  58  jun   2.34                        2.     5.04
  59  jul                               1.5    7.16   17.
  60  aug                               2.     7.97   15.
  61  sep                               1.     4.41   12.
  62  oct                              26.    1.12   7.
  63  nov   2.43   2.5    7.5    11.16 12.           6.
  64  dec   1.35   7.5    .75    4.68
  65   
  66  Table lio(cl,r)  livestock input output matrix
  67   
  68             rec-1   rec-2
  69  clover     1.3     2.0
  70  straw      1.6      .8
  71   
  72  Table demdat(c,*)  demand data
  73   
  74              ref-p  ref-q  elas   exp-p  imp-p
  75  *            ($)  (1000t)        ($)     ($)
  76   wheat       100    2700   -.8           140
  77   beans       200     900   -.4           270
  78   onions       125   700    -1.   40     inf
  79   cotton      350    2100    -1.  300    inf
  80   maize        70    3800   -.5           85
  81   tomato       120    500   -1.2   60     inf
  82   
  83   
  84  Scalars  fnum    number  of  farms in sector                /1000/
  85           land    farmsize (hectares)                        / 4.   /
  86           famlab  family labor available (days per month)   / 25   /
  87           dpm     work days per month                      /  25  /
  88           rwage   reservation wage rate (dollars per day)     /  3 /
  89           twage   temporary labor wage  (dollars per day)   /  4   /
  90           llab    livestock labor requirements (days per month)  /   2 /
  91           trent   tractor rental cost (dollar per hectare)       / 40 /
  92           hpa     land plowed by animals (hectares per animal)     / 2 /
  93           straw   straw yield from wheat                         /1.75 /
  94   
  95  Parameters yield(c) crop yield (tons per hectare) /
  96                      wheat  = 1.5, clover = 6 , beans  = 1, onions = 3
  97                      cotton = 1.5, maize  = 2, tomato = 3  /
  98   
  99             miscost(c) misc cash costs (dollars per hectare) /
 100                      wheat  = 10, beans  = 5, onions = 50
 101                      cotton = 80, maize  =  5, tomato = 50 /
 102             price(c)     reference (observed) price (dollars)
 103             pe(c)        commodity export prices (dollars)
 104             pm(c)        commodity import prices (dollars)
 105             alpha(c)     demand curve intercept
 106             beta(c)      demand curve gradient;
 107   
 108   cn(c) = yes$demdat(c,"ref-p");
 109   ce(c) = yes$demdat(c,"exp-p");
 110   cm(c) = yes$(demdat(c,"imp-p") lt inf );
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 4
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


 111   cm("clover") = no;
 112   price(c) = demdat(c,"ref-p");
 113   pe(ce)   = demdat(ce,"exp-p");    pm(cm) = demdat(cm,"imp-p");
 114   
 115   beta(cn)$demdat(cn,"ref-q") = demdat(cn,"ref-p")/demdat(cn,"ref-q")/
 116                                 demdat(cn,"elas");
 117   alpha(cn) = demdat(cn,"ref-p") - beta(cn)*demdat(cn,"ref-q");
 118   
 119   demdat(cn,"dem-a") = alpha(cn); demdat(cn,"dem-b") = beta(cn);
 120   
 121   Display cn,cm,ce,price,pe,beta,alpha,demdat;
 122   
 123  Variables   xcrop(c)     cropping activity  (hectares)
 124              yfarm        farm income         (dollars)
 125              revenue      value of production (dollars)
 126              mcost        misc cash cost      (dollars)
 127              pcost        tractor plowing cost
 128              labcost      labor cost          (dollars)
 129              rescost      family labor reservation wage cost (dollars)
 130              tcost        total farm cost including rescost
 131              flab(t)      family labor use       (days)
 132              tlab(t)      temporary labor        (days)
 133              xlive(r)     livestock activity    (units)
 134              natprod(c)   net production             (tons)
 135              thire(s)     tractor rental     (hectares plowes)
 136              natcon(c)    domestic consumption (1000 tons)
 137              exports(c)   national exports     (1000 tons)
 138              imports(c)   national imports     (1000 tons)
 139              cps          consumers and producers surplus
 140              valpro       value of net production at ref prices
 141              employ       employment generated (man-years)
 142              tradebal     net exports          (1000 $)
 143   
 144   Positive Variable xcrop,xlive,thire,flab,tlab,natcon,natprod,
 145                         exports,imports
 146  Equations   landbal(t)   land balance            (hectares)
 147              laborbal(t)  labor balance           (days)
 148              flabor(t)    family labor balance    (days)
 149              plow(s)      land plowed             (hectares per season)
 150              arev         revenue accounting      (dollars)
 151              ares         reservation labor cost    (dollars)
 152              acost        total cost accounting    (dollars)
 153              amisc        misc cost accounting
 154              aplow
 155              alab         labor cost accounting   (dollars)
 156              lclover      clover balance
 157              lstraw       straw balance
 158              income      income definition       (dollars)
 159              proc(c)       net production definition             (tons)
 160              dem(c)        national demand balance    (1000 tons)
 161              objn          objective function;
 162   
 163   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 5
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


 164  landbal(t)..   sum(c, xcrop(c)*a(t,c))  =l= land*fnum;
 165   
 166  laborbal(t)..  sum(c, xcrop(c)*lc(t,c)) + sum(r, xlive(r))*llab  =l= flab(t) +                     tlab(t);
 167   
 168  amisc.. mcost =e= sum(c, xcrop(c)*miscost(c));
 169   
 170  alab..  labcost =e= sum(t, tlab(t)*twage);
 171   
 172  ares..  rescost =e= sum(t, flab(t)*rwage);
 173   
 174  aplow.. pcost =e= sum(s, thire(s)*trent);
 175   
 176  acost.. tcost =e= mcost + labcost + rescost + pcost;
 177   
 178  lclover..  xcrop("clover")*yield("clover") =g= sum(r, xlive(r)*lio("clover",r));
 179   
 180  lstraw..   xcrop("wheat")*straw =g= sum(r, xlive(r)*lio("straw",r));
 181   
 182  plow(s)..  sum(c$sc(s,c), xcrop(c)) =l= sum(r, xlive(r))*hpa + thire(s);
 183   
 184  proc(c)..   natprod(c) =e= xcrop(c)*yield(c);
 185   
 186  dem(cn)..   natcon(cn) =e= natprod(cn) + imports(cn)$cm(cn) - exports(cn)$ce(cn);
 187   
 188  objn.. cps =e= sum(cn, alpha(cn)*natcon(cn) + .5*beta(cn)*sqr(natcon(cn)))
 189               + sum(ce, exports(ce)*pe(ce))
 190               - sum(cm, imports(cm)*pm(cm))
 191               - tcost;
 192   
 193  flab.up(t) = famlab*fnum;
 194   
 195   
 196  Model demo7n QCP version/ landbal, laborbal, plow, ares,
 197                            alab, acost, dem, proc,
 198                            amisc, aplow, lclover, lstraw, objn /;
 199   
 200  option limcol=0,limrow=0;
 201   
 202  Solve demo7n maximizing cps using QCP;


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 6
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
E x e c u t i o n


----    121 SET cn  crops sold in national market

wheat ,    beans ,    onions,    cotton,    maize ,    tomato


----    121 SET cm  import commodities

wheat,    beans,    maize


----    121 SET ce  export commodities

onions,    cotton,    tomato


----    121 PARAMETER price  reference (observed) price (dollars)

wheat  100.000,    beans  200.000,    onions 125.000,    cotton 350.000,    maize   70.000,    tomato 120.000


----    121 PARAMETER pe  commodity export prices (dollars)

onions  40.000,    cotton 300.000,    tomato  60.000


----    121 PARAMETER beta  demand curve gradient

wheat  -0.046,    beans  -0.556,    onions -0.179,    cotton -0.167,    maize  -0.037,    tomato -0.200


----    121 PARAMETER alpha  demand curve intercept

wheat  225.000,    beans  700.000,    onions 250.000,    cotton 700.000,    maize  210.000,    tomato 220.000


----    121 PARAMETER demdat  demand data

             ref-p       ref-q        elas       exp-p       imp-p       dem-a       dem-b

wheat      100.000    2700.000      -0.800                 140.000     225.000      -0.046
beans      200.000     900.000      -0.400                 270.000     700.000      -0.556
onions     125.000     700.000      -1.000      40.000        +INF     250.000      -0.179
cotton     350.000    2100.000      -1.000     300.000        +INF     700.000      -0.167
maize       70.000    3800.000      -0.500                  85.000     210.000      -0.037
tomato     120.000     500.000      -1.200      60.000        +INF     220.000      -0.200

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 7
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
Model Statistics    SOLVE demo7n Using QCP From line 202


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           47
BLOCKS OF VARIABLES          15     SINGLE VARIABLES           60
NON ZERO ELEMENTS           245     NON LINEAR N-Z              6
DERIVATIVE POOL              20     CONSTANT POOL              27
CODE LENGTH                  39


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 8
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
Solution Report     SOLVE demo7n Using QCP From line 202


               S O L V E      S U M M A R Y

     MODEL   demo7n              OBJECTIVE  cps
     TYPE    QCP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  202

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/convert.opt"
>>  ampl qdemo7-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/convert.opt"
Ampl      : qdemo7-scalar.mod


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/qdemo7.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/qdemo7-scalar.mod.lst
