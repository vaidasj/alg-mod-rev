GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option QCP=convert;
   2  option QCP=convert;
   3  option QCP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 2
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


       
         This is a QCP version of the gamslib model DEMO7. The original NLP
         formulation was concerned with good starting points. QCPs do not
         need starting a point.
       
         This is the last in a series of agricultural farm level and sector
         models, this model simulates the market behavior of the sector
         using a partial equilibrium framework. The technique is
         the maximization of consumers and producers surplus.
       
       
      Kutcher, G P, Meeraus, A, and O'Mara, G T, Agriculture Sector and
      Policy Models. The World Bank, 1988.
       
  21   
  22  Sets
  23   
  24    c  crop   / wheat, clover, beans, onions, cotton, maize, tomato/
  25    cl livestock  feed  / clover, straw /
  26    t  month  / jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec  /
  27    r  feeding recipes / rec-1, rec-2 /
  28    s  seasons / summer, winter /
  29    sc(s,c) season crop mapping / summer.(cotton,maize,tomato)
  30                                  winter.(wheat,clover,beans,onions) /
  31    cn(c)  crops sold in national market
  32    ce(c)  export commodities
  33    cm(c)  import commodities
  34   
  35  Table a(t,c)  months of land occupation by crop (hectares)
  36   
  37      wheat  clover  beans  onions cotton maize  tomato
  38  jan   1.     1.      1.     1.
  39  feb   1.     1.      1.     1.
  40  mar   1.      .5     1.     1.     .5
  41  apr   1.             1.     1.     1.
  42  may   1.                    .25    1.     .25
  43  jun                                1.     1.
  44  jul                                1.     1.     .75
  45  aug                                1.     1.     1.
  46  sep                                1.     1.     1.
  47  oct                                1.     .5     1.
  48  nov   .5     .25     .25    .5     .75           .75
  49  dec   1.     1.      1.     1.
  50   
  51   
  52  Table lc(t,c)  crop labor requirements (man-days per hectare)
  53   
  54       wheat  clover beans  onions cotton maize  tomato
  55  jan   1.72   4.5    .75    5.16
  56  feb   .5     1.     .75    5.
  57  mar   1.     8.     .75    5.     5.
  58  apr   1.            16.    19.58  5.
  59  may   17.16                2.42   9.     4.3
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 3
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


  60  jun   2.34                        2.     5.04
  61  jul                               1.5    7.16   17.
  62  aug                               2.     7.97   15.
  63  sep                               1.     4.41   12.
  64  oct                              26.    1.12   7.
  65  nov   2.43   2.5    7.5    11.16 12.           6.
  66  dec   1.35   7.5    .75    4.68
  67   
  68  Table lio(cl,r)  livestock input output matrix
  69   
  70             rec-1   rec-2
  71  clover     1.3     2.0
  72  straw      1.6      .8
  73   
  74  Table demdat(c,*)  demand data
  75   
  76              ref-p  ref-q  elas   exp-p  imp-p
  77  *            ($)  (1000t)        ($)     ($)
  78   wheat       100    2700   -.8           140
  79   beans       200     900   -.4           270
  80   onions       125   700    -1.   40     inf
  81   cotton      350    2100    -1.  300    inf
  82   maize        70    3800   -.5           85
  83   tomato       120    500   -1.2   60     inf
  84   
  85   
  86  Scalars  fnum    number  of  farms in sector                /1000/
  87           land    farmsize (hectares)                        / 4.   /
  88           famlab  family labor available (days per month)   / 25   /
  89           dpm     work days per month                      /  25  /
  90           rwage   reservation wage rate (dollars per day)     /  3 /
  91           twage   temporary labor wage  (dollars per day)   /  4   /
  92           llab    livestock labor requirements (days per month)  /   2 /
  93           trent   tractor rental cost (dollar per hectare)       / 40 /
  94           hpa     land plowed by animals (hectares per animal)     / 2 /
  95           straw   straw yield from wheat                         /1.75 /
  96   
  97  Parameters yield(c) crop yield (tons per hectare) /
  98                      wheat  = 1.5, clover = 6 , beans  = 1, onions = 3
  99                      cotton = 1.5, maize  = 2, tomato = 3  /
 100   
 101             miscost(c) misc cash costs (dollars per hectare) /
 102                      wheat  = 10, beans  = 5, onions = 50
 103                      cotton = 80, maize  =  5, tomato = 50 /
 104             price(c)     reference (observed) price (dollars)
 105             pe(c)        commodity export prices (dollars)
 106             pm(c)        commodity import prices (dollars)
 107             alpha(c)     demand curve intercept
 108             beta(c)      demand curve gradient;
 109   
 110   cn(c) = yes$demdat(c,"ref-p");
 111   ce(c) = yes$demdat(c,"exp-p");
 112   cm(c) = yes$(demdat(c,"imp-p") lt inf );
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 4
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


 113   cm("clover") = no;
 114   price(c) = demdat(c,"ref-p");
 115   pe(ce)   = demdat(ce,"exp-p");    pm(cm) = demdat(cm,"imp-p");
 116   
 117   beta(cn)$demdat(cn,"ref-q") = demdat(cn,"ref-p")/demdat(cn,"ref-q")/
 118                                 demdat(cn,"elas");
 119   alpha(cn) = demdat(cn,"ref-p") - beta(cn)*demdat(cn,"ref-q");
 120   
 121   demdat(cn,"dem-a") = alpha(cn); demdat(cn,"dem-b") = beta(cn);
 122   
 123   Display cn,cm,ce,price,pe,beta,alpha,demdat;
 124   
 125  Variables   xcrop(c)     cropping activity  (hectares)
 126              yfarm        farm income         (dollars)
 127              revenue      value of production (dollars)
 128              mcost        misc cash cost      (dollars)
 129              pcost        tractor plowing cost
 130              labcost      labor cost          (dollars)
 131              rescost      family labor reservation wage cost (dollars)
 132              tcost        total farm cost including rescost
 133              flab(t)      family labor use       (days)
 134              tlab(t)      temporary labor        (days)
 135              xlive(r)     livestock activity    (units)
 136              natprod(c)   net production             (tons)
 137              thire(s)     tractor rental     (hectares plowes)
 138              natcon(c)    domestic consumption (1000 tons)
 139              exports(c)   national exports     (1000 tons)
 140              imports(c)   national imports     (1000 tons)
 141              cps          consumers and producers surplus
 142              valpro       value of net production at ref prices
 143              employ       employment generated (man-years)
 144              tradebal     net exports          (1000 $)
 145   
 146   Positive Variable xcrop,xlive,thire,flab,tlab,natcon,natprod,
 147                         exports,imports
 148  Equations   landbal(t)   land balance            (hectares)
 149              laborbal(t)  labor balance           (days)
 150              flabor(t)    family labor balance    (days)
 151              plow(s)      land plowed             (hectares per season)
 152              arev         revenue accounting      (dollars)
 153              ares         reservation labor cost    (dollars)
 154              acost        total cost accounting    (dollars)
 155              amisc        misc cost accounting
 156              aplow
 157              alab         labor cost accounting   (dollars)
 158              lclover      clover balance
 159              lstraw       straw balance
 160              income      income definition       (dollars)
 161              proc(c)       net production definition             (tons)
 162              dem(c)        national demand balance    (1000 tons)
 163              objn          objective function;
 164   
 165   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 5
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


 166  landbal(t)..   sum(c, xcrop(c)*a(t,c))  =l= land*fnum;
 167   
 168  laborbal(t)..  sum(c, xcrop(c)*lc(t,c)) + sum(r, xlive(r))*llab  =l= flab(t) +                     tlab(t);
 169   
 170  amisc.. mcost =e= sum(c, xcrop(c)*miscost(c));
 171   
 172  alab..  labcost =e= sum(t, tlab(t)*twage);
 173   
 174  ares..  rescost =e= sum(t, flab(t)*rwage);
 175   
 176  aplow.. pcost =e= sum(s, thire(s)*trent);
 177   
 178  acost.. tcost =e= mcost + labcost + rescost + pcost;
 179   
 180  lclover..  xcrop("clover")*yield("clover") =g= sum(r, xlive(r)*lio("clover",r));
 181   
 182  lstraw..   xcrop("wheat")*straw =g= sum(r, xlive(r)*lio("straw",r));
 183   
 184  plow(s)..  sum(c$sc(s,c), xcrop(c)) =l= sum(r, xlive(r))*hpa + thire(s);
 185   
 186  proc(c)..   natprod(c) =e= xcrop(c)*yield(c);
 187   
 188  dem(cn)..   natcon(cn) =e= natprod(cn) + imports(cn)$cm(cn) - exports(cn)$ce(cn);
 189   
 190  objn.. cps =e= sum(cn, alpha(cn)*natcon(cn) + .5*beta(cn)*sqr(natcon(cn)))
 191               + sum(ce, exports(ce)*pe(ce))
 192               - sum(cm, imports(cm)*pm(cm))
 193               - tcost;
 194   
 195  flab.up(t) = famlab*fnum;
 196   
 197   
 198  Model demo7n QCP version/ landbal, laborbal, plow, ares,
 199                            alab, acost, dem, proc,
 200                            amisc, aplow, lclover, lstraw, objn /;
 201   
 202  option limcol=0,limrow=0;
 203   
 204  Solve demo7n maximizing cps using QCP;


COMPILATION TIME     =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 6
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
E x e c u t i o n


----    123 SET cn  crops sold in national market

wheat ,    beans ,    onions,    cotton,    maize ,    tomato


----    123 SET cm  import commodities

wheat,    beans,    maize


----    123 SET ce  export commodities

onions,    cotton,    tomato


----    123 PARAMETER price  reference (observed) price (dollars)

wheat  100.000,    beans  200.000,    onions 125.000,    cotton 350.000,    maize   70.000,    tomato 120.000


----    123 PARAMETER pe  commodity export prices (dollars)

onions  40.000,    cotton 300.000,    tomato  60.000


----    123 PARAMETER beta  demand curve gradient

wheat  -0.046,    beans  -0.556,    onions -0.179,    cotton -0.167,    maize  -0.037,    tomato -0.200


----    123 PARAMETER alpha  demand curve intercept

wheat  225.000,    beans  700.000,    onions 250.000,    cotton 700.000,    maize  210.000,    tomato 220.000


----    123 PARAMETER demdat  demand data

             ref-p       ref-q        elas       exp-p       imp-p       dem-a       dem-b

wheat      100.000    2700.000      -0.800                 140.000     225.000      -0.046
beans      200.000     900.000      -0.400                 270.000     700.000      -0.556
onions     125.000     700.000      -1.000      40.000        +INF     250.000      -0.179
cotton     350.000    2100.000      -1.000     300.000        +INF     700.000      -0.167
maize       70.000    3800.000      -0.500                  85.000     210.000      -0.037
tomato     120.000     500.000      -1.200      60.000        +INF     220.000      -0.200

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 7
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
Model Statistics    SOLVE demo7n Using QCP From line 204


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           47
BLOCKS OF VARIABLES          15     SINGLE VARIABLES           60
NON ZERO ELEMENTS           245     NON LINEAR N-Z              6
DERIVATIVE POOL              20     CONSTANT POOL              27
CODE LENGTH                  39


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 8
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
Solution Report     SOLVE demo7n Using QCP From line 204


               S O L V E      S U M M A R Y

     MODEL   demo7n              OBJECTIVE  cps
     TYPE    QCP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  204

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/convert.opt"
>>  pyomo qdemo7-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/convert.opt"
Pyomo     : qdemo7-scalar.py


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/qdemo7.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/qdemo7-scalar.py.lst
