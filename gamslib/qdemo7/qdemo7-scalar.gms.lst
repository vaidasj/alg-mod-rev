GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option QCP=convert;
   2  option QCP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 2
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


       
         This is a QCP version of the gamslib model DEMO7. The original NLP
         formulation was concerned with good starting points. QCPs do not
         need starting a point.
       
         This is the last in a series of agricultural farm level and sector
         models, this model simulates the market behavior of the sector
         using a partial equilibrium framework. The technique is
         the maximization of consumers and producers surplus.
       
       
      Kutcher, G P, Meeraus, A, and O'Mara, G T, Agriculture Sector and
      Policy Models. The World Bank, 1988.
       
  20   
  21  Sets
  22   
  23    c  crop   / wheat, clover, beans, onions, cotton, maize, tomato/
  24    cl livestock  feed  / clover, straw /
  25    t  month  / jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec  /
  26    r  feeding recipes / rec-1, rec-2 /
  27    s  seasons / summer, winter /
  28    sc(s,c) season crop mapping / summer.(cotton,maize,tomato)
  29                                  winter.(wheat,clover,beans,onions) /
  30    cn(c)  crops sold in national market
  31    ce(c)  export commodities
  32    cm(c)  import commodities
  33   
  34  Table a(t,c)  months of land occupation by crop (hectares)
  35   
  36      wheat  clover  beans  onions cotton maize  tomato
  37  jan   1.     1.      1.     1.
  38  feb   1.     1.      1.     1.
  39  mar   1.      .5     1.     1.     .5
  40  apr   1.             1.     1.     1.
  41  may   1.                    .25    1.     .25
  42  jun                                1.     1.
  43  jul                                1.     1.     .75
  44  aug                                1.     1.     1.
  45  sep                                1.     1.     1.
  46  oct                                1.     .5     1.
  47  nov   .5     .25     .25    .5     .75           .75
  48  dec   1.     1.      1.     1.
  49   
  50   
  51  Table lc(t,c)  crop labor requirements (man-days per hectare)
  52   
  53       wheat  clover beans  onions cotton maize  tomato
  54  jan   1.72   4.5    .75    5.16
  55  feb   .5     1.     .75    5.
  56  mar   1.     8.     .75    5.     5.
  57  apr   1.            16.    19.58  5.
  58  may   17.16                2.42   9.     4.3
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 3
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


  59  jun   2.34                        2.     5.04
  60  jul                               1.5    7.16   17.
  61  aug                               2.     7.97   15.
  62  sep                               1.     4.41   12.
  63  oct                              26.    1.12   7.
  64  nov   2.43   2.5    7.5    11.16 12.           6.
  65  dec   1.35   7.5    .75    4.68
  66   
  67  Table lio(cl,r)  livestock input output matrix
  68   
  69             rec-1   rec-2
  70  clover     1.3     2.0
  71  straw      1.6      .8
  72   
  73  Table demdat(c,*)  demand data
  74   
  75              ref-p  ref-q  elas   exp-p  imp-p
  76  *            ($)  (1000t)        ($)     ($)
  77   wheat       100    2700   -.8           140
  78   beans       200     900   -.4           270
  79   onions       125   700    -1.   40     inf
  80   cotton      350    2100    -1.  300    inf
  81   maize        70    3800   -.5           85
  82   tomato       120    500   -1.2   60     inf
  83   
  84   
  85  Scalars  fnum    number  of  farms in sector                /1000/
  86           land    farmsize (hectares)                        / 4.   /
  87           famlab  family labor available (days per month)   / 25   /
  88           dpm     work days per month                      /  25  /
  89           rwage   reservation wage rate (dollars per day)     /  3 /
  90           twage   temporary labor wage  (dollars per day)   /  4   /
  91           llab    livestock labor requirements (days per month)  /   2 /
  92           trent   tractor rental cost (dollar per hectare)       / 40 /
  93           hpa     land plowed by animals (hectares per animal)     / 2 /
  94           straw   straw yield from wheat                         /1.75 /
  95   
  96  Parameters yield(c) crop yield (tons per hectare) /
  97                      wheat  = 1.5, clover = 6 , beans  = 1, onions = 3
  98                      cotton = 1.5, maize  = 2, tomato = 3  /
  99   
 100             miscost(c) misc cash costs (dollars per hectare) /
 101                      wheat  = 10, beans  = 5, onions = 50
 102                      cotton = 80, maize  =  5, tomato = 50 /
 103             price(c)     reference (observed) price (dollars)
 104             pe(c)        commodity export prices (dollars)
 105             pm(c)        commodity import prices (dollars)
 106             alpha(c)     demand curve intercept
 107             beta(c)      demand curve gradient;
 108   
 109   cn(c) = yes$demdat(c,"ref-p");
 110   ce(c) = yes$demdat(c,"exp-p");
 111   cm(c) = yes$(demdat(c,"imp-p") lt inf );
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 4
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


 112   cm("clover") = no;
 113   price(c) = demdat(c,"ref-p");
 114   pe(ce)   = demdat(ce,"exp-p");    pm(cm) = demdat(cm,"imp-p");
 115   
 116   beta(cn)$demdat(cn,"ref-q") = demdat(cn,"ref-p")/demdat(cn,"ref-q")/
 117                                 demdat(cn,"elas");
 118   alpha(cn) = demdat(cn,"ref-p") - beta(cn)*demdat(cn,"ref-q");
 119   
 120   demdat(cn,"dem-a") = alpha(cn); demdat(cn,"dem-b") = beta(cn);
 121   
 122   Display cn,cm,ce,price,pe,beta,alpha,demdat;
 123   
 124  Variables   xcrop(c)     cropping activity  (hectares)
 125              yfarm        farm income         (dollars)
 126              revenue      value of production (dollars)
 127              mcost        misc cash cost      (dollars)
 128              pcost        tractor plowing cost
 129              labcost      labor cost          (dollars)
 130              rescost      family labor reservation wage cost (dollars)
 131              tcost        total farm cost including rescost
 132              flab(t)      family labor use       (days)
 133              tlab(t)      temporary labor        (days)
 134              xlive(r)     livestock activity    (units)
 135              natprod(c)   net production             (tons)
 136              thire(s)     tractor rental     (hectares plowes)
 137              natcon(c)    domestic consumption (1000 tons)
 138              exports(c)   national exports     (1000 tons)
 139              imports(c)   national imports     (1000 tons)
 140              cps          consumers and producers surplus
 141              valpro       value of net production at ref prices
 142              employ       employment generated (man-years)
 143              tradebal     net exports          (1000 $)
 144   
 145   Positive Variable xcrop,xlive,thire,flab,tlab,natcon,natprod,
 146                         exports,imports
 147  Equations   landbal(t)   land balance            (hectares)
 148              laborbal(t)  labor balance           (days)
 149              flabor(t)    family labor balance    (days)
 150              plow(s)      land plowed             (hectares per season)
 151              arev         revenue accounting      (dollars)
 152              ares         reservation labor cost    (dollars)
 153              acost        total cost accounting    (dollars)
 154              amisc        misc cost accounting
 155              aplow
 156              alab         labor cost accounting   (dollars)
 157              lclover      clover balance
 158              lstraw       straw balance
 159              income      income definition       (dollars)
 160              proc(c)       net production definition             (tons)
 161              dem(c)        national demand balance    (1000 tons)
 162              objn          objective function;
 163   
 164   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 5
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
C o m p i l a t i o n


 165  landbal(t)..   sum(c, xcrop(c)*a(t,c))  =l= land*fnum;
 166   
 167  laborbal(t)..  sum(c, xcrop(c)*lc(t,c)) + sum(r, xlive(r))*llab  =l= flab(t) +                     tlab(t);
 168   
 169  amisc.. mcost =e= sum(c, xcrop(c)*miscost(c));
 170   
 171  alab..  labcost =e= sum(t, tlab(t)*twage);
 172   
 173  ares..  rescost =e= sum(t, flab(t)*rwage);
 174   
 175  aplow.. pcost =e= sum(s, thire(s)*trent);
 176   
 177  acost.. tcost =e= mcost + labcost + rescost + pcost;
 178   
 179  lclover..  xcrop("clover")*yield("clover") =g= sum(r, xlive(r)*lio("clover",r));
 180   
 181  lstraw..   xcrop("wheat")*straw =g= sum(r, xlive(r)*lio("straw",r));
 182   
 183  plow(s)..  sum(c$sc(s,c), xcrop(c)) =l= sum(r, xlive(r))*hpa + thire(s);
 184   
 185  proc(c)..   natprod(c) =e= xcrop(c)*yield(c);
 186   
 187  dem(cn)..   natcon(cn) =e= natprod(cn) + imports(cn)$cm(cn) - exports(cn)$ce(cn);
 188   
 189  objn.. cps =e= sum(cn, alpha(cn)*natcon(cn) + .5*beta(cn)*sqr(natcon(cn)))
 190               + sum(ce, exports(ce)*pe(ce))
 191               - sum(cm, imports(cm)*pm(cm))
 192               - tcost;
 193   
 194  flab.up(t) = famlab*fnum;
 195   
 196   
 197  Model demo7n QCP version/ landbal, laborbal, plow, ares,
 198                            alab, acost, dem, proc,
 199                            amisc, aplow, lclover, lstraw, objn /;
 200   
 201  option limcol=0,limrow=0;
 202   
 203  Solve demo7n maximizing cps using QCP;


COMPILATION TIME     =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 6
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
E x e c u t i o n


----    122 SET cn  crops sold in national market

wheat ,    beans ,    onions,    cotton,    maize ,    tomato


----    122 SET cm  import commodities

wheat,    beans,    maize


----    122 SET ce  export commodities

onions,    cotton,    tomato


----    122 PARAMETER price  reference (observed) price (dollars)

wheat  100.000,    beans  200.000,    onions 125.000,    cotton 350.000,    maize   70.000,    tomato 120.000


----    122 PARAMETER pe  commodity export prices (dollars)

onions  40.000,    cotton 300.000,    tomato  60.000


----    122 PARAMETER beta  demand curve gradient

wheat  -0.046,    beans  -0.556,    onions -0.179,    cotton -0.167,    maize  -0.037,    tomato -0.200


----    122 PARAMETER alpha  demand curve intercept

wheat  225.000,    beans  700.000,    onions 250.000,    cotton 700.000,    maize  210.000,    tomato 220.000


----    122 PARAMETER demdat  demand data

             ref-p       ref-q        elas       exp-p       imp-p       dem-a       dem-b

wheat      100.000    2700.000      -0.800                 140.000     225.000      -0.046
beans      200.000     900.000      -0.400                 270.000     700.000      -0.556
onions     125.000     700.000      -1.000      40.000        +INF     250.000      -0.179
cotton     350.000    2100.000      -1.000     300.000        +INF     700.000      -0.167
maize       70.000    3800.000      -0.500                  85.000     210.000      -0.037
tomato     120.000     500.000      -1.200      60.000        +INF     220.000      -0.200

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 7
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
Model Statistics    SOLVE demo7n Using QCP From line 203


MODEL STATISTICS

BLOCKS OF EQUATIONS          13     SINGLE EQUATIONS           47
BLOCKS OF VARIABLES          15     SINGLE VARIABLES           60
NON ZERO ELEMENTS           245     NON LINEAR N-Z              6
DERIVATIVE POOL              20     CONSTANT POOL              27
CODE LENGTH                  39


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:23:26 Page 8
Nonlinear Simple Agricultural Sector Model (QDEMO7,SEQ=284)
Solution Report     SOLVE demo7n Using QCP From line 203


               S O L V E      S U M M A R Y

     MODEL   demo7n              OBJECTIVE  cps
     TYPE    QCP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  203

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/convert.opt"
>>  gams qdemo7-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/convert.opt"
Gams      : qdemo7-scalar.gms


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/qdemo7.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/qdemo7/qdemo7-scalar.gms.lst
