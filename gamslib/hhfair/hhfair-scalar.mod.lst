GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 2
Household Optimization Model by Fair (HHFAIR,SEQ=69)
C o m p i l a t i o n


   3   
       
         This is a theoretical optimizing model of a typical household.
         a detailed description can be found in Chapter 3 of Ray Fair's book.
       
       
      Fair, R, Specification, Estimation, and Analysis of Macroeconomic
      Models. Harvard University Press, Cambridge, Mass, 1984.
       
  14   
  15  Sets  tl     long time horizon  / 0, 1, 2, 3 /
  16        t(tl)  optimizing horizon /    1, 2, 3 /
  17        tt(t)  terminal year      /          3 /
  18   
  19  Scalars
  20    p       price of goods                              /    1.0     /
  21    r       one period interest rate                    /     .07    /
  22    tr      transfer payment                            /    0       /
  23    th      total number of hours in the period         / 1004.72366 /
  24    w       wage rate                                   /    1.0     /
  25    d       income tax rate                             /     .2     /
  26    a1      distribution coefficient in ces function    /     .5     /
  27    a2      elasticity coefficient in ces function      /    -.5     /
  28    am      terminal assets target                      / 1100       /
  29    lambda  discount rate                               /     .944   /
  30    lstar   maximum labor available in each time period /  400       /
  31    gamma1  coefficient 1 in money holding function     /     .255905/
  32    gamma2  coefficient 2 in money holding function     /    1.0     /
  33   
  34  Parameter ufact(t) utility function factor ;
  35   
  36            ufact(t) = power(lambda,ord(t)-1) ; Display ufact;
  37   
  38  Variables
  39    a(tl)       assets
  40    c(t)        consumption
  41    l(t)        labor supplied
  42    m(tl)       money holdings
  43    n(t)        time spent on money holdings
  44    obj         objective function value
  45    s(tl)       savings
  46    tax(t)      net taxes paid
  47    u(t)        utility
  48    y(t)        income
  49   
  50  Equations
  51    objective     objective function
  52    utility(t)    utility in each period
  53    income(t)     before tax income
  54    taxes(t)      net taxes
  55    savings(t)    savings
  56    budget(tl)    budget constraint
  57    timemoney(t)  time spent taking care of money holdings
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 3
Household Optimization Model by Fair (HHFAIR,SEQ=69)
C o m p i l a t i o n


  58    terminal(t)   terminal condition for assets
  59    dom1(t)       domain constraint on timemoney equation
  60    dom2(t)       domain constraint on utility equation ;
  61   
  62  objective..   obj =e= prod(t, u(t)**ufact(t)) ;
  63   
  64  utility(t)..
  65   
  66  u(t) =e= (a1*c(t)**(-a2) + (1-a1)*(th-l(t)-n(t))**(-a2))**(-1/a2)/100 ;
  67   
  68  income(t)..    y(t) =e= w*l(t) + r*a(t) ;
  69   
  70  taxes(t)..     tax(t) =e= d*y(t) - tr;
  71   
  72  savings(t)..   s(t) =e= y(t) - tax(t) - p*c(t) ;
  73   
  74  budget(tl-1).. s(tl) =e= a(tl) - a(tl-1) + m(tl) - m(tl-1) ;
  75   
  76  timemoney(t).. n(t)*(m(t) - gamma1*p*c(t)) =e= gamma2 ;
  77   
  78  terminal(tt).. a(tt) + m(tt) =e=  am ;
  79   
  80  dom1(t).. m(t) =g= 1.01*gamma1*p*c(t) ;
  81   
  82  dom2(t).. l(t) + n(t) =l= .9*th ;
  83   
  84   
  85  Model hh household optimization model / all / ;
  86   
  87  l.up(t) = lstar;   a.fx("0") = 1000;   m.fx("0") = 100;
  88  c.lo(t) = 100;     l.lo(t) = 100;      u.lo(t)   = .01;
  89   
  90  a.l(t) = 1000; m.l(t) = 100; l.l(t) = 400;  u.l(t) = 1;
  91   
  92  Solve hh maximizing obj using nlp;
  93   


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 4
Household Optimization Model by Fair (HHFAIR,SEQ=69)
E x e c u t i o n


----     36 PARAMETER ufact  utility function factor

1 1.000,    2 0.944,    3 0.891

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 5
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Equation Listing    SOLVE hh Using NLP From line 92


---- objective  =E=  objective function

objective..  obj - (1)*u(1) - (0.944)*u(2) - (0.891136)*u(3) =E= 0 ; (LHS = -1, INFES = 1 ****)
     

---- utility  =E=  utility in each period

utility(1)..  - (0.00864778242539536)*c(1) + (0.00351662673912831)*l(1) + (0.00351662673912831)*n(1) + u(1) =E= 0 ; (LHS = -1.99136563507907, INFES = 1.99136563507907 ****)
     
utility(2)..  - (0.00864778242539536)*c(2) + (0.00351662673912831)*l(2) + (0.00351662673912831)*n(2) + u(2) =E= 0 ; (LHS = -1.99136563507907, INFES = 1.99136563507907 ****)
     
utility(3)..  - (0.00864778242539536)*c(3) + (0.00351662673912831)*l(3) + (0.00351662673912831)*n(3) + u(3) =E= 0 ; (LHS = -1.99136563507907, INFES = 1.99136563507907 ****)
     

---- income  =E=  before tax income

income(1)..  - 0.07*a(1) - l(1) + y(1) =E= 0 ; (LHS = -470, INFES = 470 ****)
     
income(2)..  - 0.07*a(2) - l(2) + y(2) =E= 0 ; (LHS = -470, INFES = 470 ****)
     
income(3)..  - 0.07*a(3) - l(3) + y(3) =E= 0 ; (LHS = -470, INFES = 470 ****)
     

---- taxes  =E=  net taxes

taxes(1)..  tax(1) - 0.2*y(1) =E= 0 ; (LHS = 0)
     
taxes(2)..  tax(2) - 0.2*y(2) =E= 0 ; (LHS = 0)
     
taxes(3)..  tax(3) - 0.2*y(3) =E= 0 ; (LHS = 0)
     

---- savings  =E=  savings

savings(1)..  c(1) + s(1) + tax(1) - y(1) =E= 0 ; (LHS = 100, INFES = 100 ****)
     
savings(2)..  c(2) + s(2) + tax(2) - y(2) =E= 0 ; (LHS = 100, INFES = 100 ****)
     
savings(3)..  c(3) + s(3) + tax(3) - y(3) =E= 0 ; (LHS = 100, INFES = 100 ****)
     

---- budget  =E=  budget constraint

budget(0)..  a(0) - a(1) + m(0) - m(1) + s(1) =E= 0 ; (LHS = 0)
     
budget(1)..  a(1) - a(2) + m(1) - m(2) + s(2) =E= 0 ; (LHS = 0)
     
budget(2)..  a(2) - a(3) + m(2) - m(3) + s(3) =E= 0 ; (LHS = 0)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 6
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Equation Listing    SOLVE hh Using NLP From line 92


---- timemoney  =E=  time spent taking care of money holdings

timemoney(1)..  (0)*c(1) + (0)*m(1) + (74.4095)*n(1) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
timemoney(2)..  (0)*c(2) + (0)*m(2) + (74.4095)*n(2) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
timemoney(3)..  (0)*c(3) + (0)*m(3) + (74.4095)*n(3) =E= 1 ; (LHS = 0, INFES = 1 ****)
     

---- terminal  =E=  terminal condition for assets

terminal(3)..  a(3) + m(3) =E= 1100 ; (LHS = 1100)
     

---- dom1  =G=  domain constraint on timemoney equation

dom1(1)..  - 0.25846405*c(1) + m(1) =G= 0 ; (LHS = 74.153595)
     
dom1(2)..  - 0.25846405*c(2) + m(2) =G= 0 ; (LHS = 74.153595)
     
dom1(3)..  - 0.25846405*c(3) + m(3) =G= 0 ; (LHS = 74.153595)
     

---- dom2  =L=  domain constraint on utility equation

dom2(1)..  l(1) + n(1) =L= 904.251294 ; (LHS = 400)
     
dom2(2)..  l(2) + n(2) =L= 904.251294 ; (LHS = 400)
     
dom2(3)..  l(3) + n(3) =L= 904.251294 ; (LHS = 400)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 7
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Column Listing      SOLVE hh Using NLP From line 92


---- a  assets

a(0)
                (.LO, .L, .UP, .M = 1000, 1000, 1000, 0)
        1       budget(0)

a(1)
                (.LO, .L, .UP, .M = -INF, 1000, +INF, 0)
       -0.07    income(1)
       -1       budget(0)
        1       budget(1)

a(2)
                (.LO, .L, .UP, .M = -INF, 1000, +INF, 0)
       -0.07    income(2)
       -1       budget(1)
        1       budget(2)

REMAINING ENTRY SKIPPED

---- c  consumption

c(1)
                (.LO, .L, .UP, .M = 100, 100, +INF, 0)
      (-0.0086) utility(1)
        1       savings(1)
       (0)      timemoney(1)
       -0.2585  dom1(1)
        0       (OLD LEVEL ****)

c(2)
                (.LO, .L, .UP, .M = 100, 100, +INF, 0)
      (-0.0086) utility(2)
        1       savings(2)
       (0)      timemoney(2)
       -0.2585  dom1(2)
        0       (OLD LEVEL ****)

c(3)
                (.LO, .L, .UP, .M = 100, 100, +INF, 0)
      (-0.0086) utility(3)
        1       savings(3)
       (0)      timemoney(3)
       -0.2585  dom1(3)
        0       (OLD LEVEL ****)


---- l  labor supplied

l(1)
                (.LO, .L, .UP, .M = 100, 400, 400, 0)
       (0.0035) utility(1)
       -1       income(1)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 8
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Column Listing      SOLVE hh Using NLP From line 92


     l  labor supplied

        1       dom2(1)

l(2)
                (.LO, .L, .UP, .M = 100, 400, 400, 0)
       (0.0035) utility(2)
       -1       income(2)
        1       dom2(2)

l(3)
                (.LO, .L, .UP, .M = 100, 400, 400, 0)
       (0.0035) utility(3)
       -1       income(3)
        1       dom2(3)


---- m  money holdings

m(0)
                (.LO, .L, .UP, .M = 100, 100, 100, 0)
        1       budget(0)

m(1)
                (.LO, .L, .UP, .M = -INF, 100, +INF, 0)
       -1       budget(0)
        1       budget(1)
       (0)      timemoney(1)
        1       dom1(1)

m(2)
                (.LO, .L, .UP, .M = -INF, 100, +INF, 0)
       -1       budget(1)
        1       budget(2)
       (0)      timemoney(2)
        1       dom1(2)

REMAINING ENTRY SKIPPED

---- n  time spent on money holdings

n(1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       (0.0035) utility(1)
      (74.4095) timemoney(1)
        1       dom2(1)

n(2)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       (0.0035) utility(2)
      (74.4095) timemoney(2)
        1       dom2(2)

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:42 Page 9
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Column Listing      SOLVE hh Using NLP From line 92


     n  time spent on money holdings

n(3)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       (0.0035) utility(3)
      (74.4095) timemoney(3)
        1       dom2(3)


---- obj  objective function value

obj
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       objective


---- s  savings

s(1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       savings(1)
        1       budget(0)

s(2)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       savings(2)
        1       budget(1)

s(3)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       savings(3)
        1       budget(2)


---- tax  net taxes paid

tax(1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       taxes(1)
        1       savings(1)

tax(2)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       taxes(2)
        1       savings(2)

tax(3)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       taxes(3)
        1       savings(3)

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:42 Page 10
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Column Listing      SOLVE hh Using NLP From line 92


---- u  utility

u(1)
                (.LO, .L, .UP, .M = 0.01, 1, +INF, 0)
      (-1)      objective
        1       utility(1)

u(2)
                (.LO, .L, .UP, .M = 0.01, 1, +INF, 0)
      (-0.944)  objective
        1       utility(2)

u(3)
                (.LO, .L, .UP, .M = 0.01, 1, +INF, 0)
      (-0.8911) objective
        1       utility(3)


---- y  income

y(1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       income(1)
       -0.2     taxes(1)
       -1       savings(1)

y(2)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       income(2)
       -0.2     taxes(2)
       -1       savings(2)

y(3)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       income(3)
       -0.2     taxes(3)
       -1       savings(3)

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:42 Page 11
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Model Statistics    SOLVE hh Using NLP From line 92


MODEL STATISTICS

BLOCKS OF EQUATIONS          10     SINGLE EQUATIONS           26
BLOCKS OF VARIABLES          10     SINGLE VARIABLES           30  3 projected
NON ZERO ELEMENTS            81     NON LINEAR N-Z             21
DERIVATIVE POOL              20     CONSTANT POOL              21
CODE LENGTH                  83


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:42 Page 12
Household Optimization Model by Fair (HHFAIR,SEQ=69)
Solution Report     SOLVE hh Using NLP From line 92


               S O L V E      S U M M A R Y

     MODEL   hh                  OBJECTIVE  obj
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  92

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/hhfair/convert.opt"
>>  ampl hhfair-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/hhfair/convert.opt"
Ampl      : hhfair-scalar.mod


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/hhfair/hhfair.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/hhfair/hhfair-scalar.mod.lst
