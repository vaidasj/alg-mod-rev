GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 2
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
C o m p i l a t i o n


       
      This problem finds a least cost shipping schedule that meets
      requirements at markets and supplies at factories. This instance
      applies economies of scale which results in a non-convex
      objective. This is an extension of the trnsport model in the GAMS
      Model Library.
       
      The original nonlinear term is "sum((i,j), c(i,j)*sqrt(x(i,j)))". We
      use the following discretization f(x) of sqrt(x)
       
        For x<=50:  f(x) = 1/sqrt(50)*x,
        for x>=400: f(x) = (sqrt(600)-sqrt(400))/200*(x-400) + sqrt(400) 
        in between we discretize with linear interpolation between points
       
      This discretization has some good properties:
        0) f(x) is a continuous function
        1) f(0)=0, otherwise we would pick up a fixed cost even for unused connections
        2) a fine representation in the reasonable range of shipments (between 50 and 400)
        3) f(x) underestimates sqrt in the area of x=0 to 600. Past that is overestimates sqrt.
       
      The model is organized as follows:
        1) We set a starting point for the NLP solver so it will get stuck
           in local optimum that is not the global optimum.
       
        2) We use three formulations for representing piecewise linear
           functions all based on the same discretization. 
       
           a) a formulation with SOS2 variables. This formulation mainly is
              based on the convex combination of neighboring
              points. Moreover, the domain of the discretization can be
              unbounded: we can assign a slope in the (potentially
              unbounded) first and last segment.
       
           b) a formulation with SOS2 variables based on convex combinations
              of neighboring points. This formulation requires a bounded
              region for the discretization. Here we discretize between 0 and
              600.
       
           c) a formuation with binary variables. This also requires the
              domain to be bounded, but it does not rely on the convex
              combination of neighboring points. There are examples, where
              this formulation solves much faster than the formulation b).
       
           In this example x is clearly bounded by 0 from below and
           min(smax(i,a(i),smax(j,b(j)) from above, so formulation b and c
           are sufficient and perform better on this particular model and
           instance. We added the formulation a to demonstrate how to model
           an unbounded discretization, in case there are no derived
           bounds. The formulation a can be easily adjusted to accommodate
           problems where only one end of the discretization is unbounded.
       
        3) We restart the non-convex NLP from the solution of the discretized
           model and hope that the NLP solver finds the global solution.
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 3
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
C o m p i l a t i o n


       
       
      Dantzig, G B, Chapter 3.3. In Linear Programming and Extensions.
      Princeton University Press, Princeton, New Jersey, 1963.
       
  63   
  64  Sets
  65       i   canning plants   / seattle, san-diego /
  66       j   markets          / new-york, chicago, topeka / ;
  67   
  68  Parameters
  69   
  70       a(i)  capacity of plant i in cases
  71         /    seattle     350
  72              san-diego   600  /
  73   
  74       b(j)  demand at market j in cases
  75         /    new-york    325
  76              chicago     300
  77              topeka      275  / ;
  78   
  79  Table d(i,j)  distance in thousands of miles
  80                    new-york       chicago      topeka
  81      seattle          2.5           1.7          1.8
  82      san-diego        2.5           1.8          1.4  ;
  83   
  84  Scalar f  freight in dollars per case per thousand miles  /90/ ;
  85   
  86  Parameter c(i,j)  transport cost in thousands of dollars per case ;
  87   
  88            c(i,j) = f * d(i,j) / 1000 ;
  89   
  90  Variables
  91       x(i,j)  shipment quantities in cases
  92       z       total transportation costs in thousands of dollars ;
  93   
  94  Positive Variable x ;
  95   
  96  Equations
  97       cost        define objective function with economies of scale
  98       supply(i)   observe supply limit at plant i
  99       demand(j)   satisfy demand at market j ;
 100   
 101  cost ..        z  =e=  sum((i,j), c(i,j)*sqrt(x(i,j))) ;
 102   
 103  supply(i) ..   sum(j, x(i,j))  =l=  a(i) ;
 104   
 105  demand(j) ..   sum(i, x(i,j))  =g=  b(j) ;
 106   
 107  Model transport /all/ ;
 108   
 109  * Start the local NLP solver in a local solution that is not globally optimal
 110  x.l('seattle  ','chicago ') =  25;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 4
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
C o m p i l a t i o n


 111  x.l('seattle  ','topeka  ') = 275;
 112  x.l('san-diego','new-york') = 325;
 113  x.l('san-diego','chicago ') = 275;
 114   
 115  Scalar localopt objective of local optimum that is not globally optimal;
 116   
 117  option nlp=conopt;
 118  Solve transport using nlp minimizing z ;
 119  localopt = z.l;
 120   
 121  * The first model (formulation a) implements a piecewise linear
 122  * approximation based on the convex combination of neighboring points
 123  * using SOS2 variables with unbounded segments at the beginning and
 124  * end of the discretization
 125   
 126  Set s SOS2 elements     / slope0,s1*s6,slopeN /
 127      ss(s) sample points /        s1*s6        /
 128  Parameter
 129      p(s)     x coordinate of sample point
 130      sqrtp(s) y coordinate of sample point
 131      xlow / 50 /, xhigh / 400 /, xmax;
 132   
 133  xmax = smax(i, a(i));
 134  abort$(xmax<xhigh) 'xhigh too big', xhigh, xmax;
 135  abort$(xlow<0)     'xlow less than 0', xlow;
 136   
 137  * Equidistant sampling of the sqrt function with slopes at the beginning and end
 138  p('slope0') = -1;
 139  p(ss)       = xlow + (xhigh-xlow)/(card(ss)-1)*ss.off;
 140  p('slopeN') = 1;
 141   
 142  sqrtp('slope0') = -1/sqrt(xlow);
 143  sqrtp(ss)       =  sqrt(p(ss));
 144  sqrtp('slopeN') =  (sqrt(xmax)-sqrt(xhigh))/(xmax-xhigh);
 145   
 146  SOS2 Variables xs(i,j,s);
 147  Positive Variable sqrtx(i,j);
 148   
 149  Equation defsos1(i,j), defsos2(i,j), defsos3(i,j), defobjdisc;
 150  defsos1(i,j).. x(i,j)     =e= sum(s, p(s)*xs(i,j,s));
 151  defsos2(i,j).. sqrtx(i,j) =e= sum(s, sqrtp(s)*xs(i,j,s));
 152  defsos3(i,j).. sum(ss, xs(i,j,ss)) =e= 1;
 153  defobjdisc..   z =e= sum((i,j), c(i,j)*sqrtx(i,j));
 154   
 155  model trnsdiscA / supply, demand, defsos1, defsos2, defsos3, defobjdisc /;
 156   
 157  option optcr=0;
 158  solve trnsdiscA min z using mip;
 159   
 160   
 161  * The next model (formulation b) uses the convex combinations of
 162  * neighboring points but requires the discretization to be bounded
 163  * (here we go from 0 to xmax).
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 5
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
C o m p i l a t i o n


 164   
 165  p('slope0') = 0;
 166  p(ss)       = xlow + (xhigh-xlow)/(card(ss)-1)*ss.off;
 167  p('slopeN') = xmax;
 168  sqrtp(s)    =  sqrt(p(s));
 169   
 170  * We can just use model trnsdiscA but need to include the first and
 171  * last segment into the set ss that builds the convex combinations
 172  ss(s) = yes;
 173  solve trnsdiscA min z using mip;
 174   
 175  * The next model (formulation c) implements another formulation for a
 176  * piecewise linear function. We need to assume that the domain region
 177  * is bounded.  We use the same discretization as in the previous
 178  * formulation
 179   
 180  Set g(s) Segments / slope0,s1*s6 /
 181  Parameters
 182      nseg(s) relative increase of x in segment
 183      ninc(s) relative increase of sqrtx in segment;
 184   
 185  nseg(g(s))  = p(s+1)-p(s);
 186  ninc(g(s)) = (sqrtp(s+1) - sqrtp(s));
 187   
 188  Variables
 189    seg(i,j,s)    shipment in segment
 190    gs(i,j,s)     indicator for shipment in segment
 191  Binary variable gs;
 192  Positive variable seg;
 193  Equation
 194    defx(i,j)     definition of x
 195    defsqrt(i,j)  definition of sqrt
 196    defseg(i,j,s) segment can only have shipment if indicator is on
 197    defgs(i,j)    select at most one segment;
 198   
 199  defx(i,j)..     x(i,j)     =e= sum(g,     p(g)*gs(i,j,g) + nseg(g)*seg(i,j,g));
 200  defsqrt(i,j)..  sqrtx(i,j) =e= sum(g, sqrtp(g)*gs(i,j,g) + ninc(g)*seg(i,j,g));
 201  defseg(i,j,g).. seg(i,j,g) =l= gs(i,j,g);
 202  defgs(i,j)..    sum(g, gs(i,j,g)) =l= 1;
 203   
 204  model trnsdiscB / supply, demand, defx, defsqrt, defseg, defgs, defobjdisc /;
 205   
 206  solve trnsdiscB min z using mip;
 207   
 208  * Now restart the local solver from this approximate point
 209  solve transport min z using nlp;
 210   
 211  * Ensure that we are better off than before
 212  abort$(z.l-localopt > 1e-6) 'we should get an improved solution'


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 6
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE transport Using NLP From line 118


---- cost  =E=  define objective function with economies of scale

cost..  - (2250000000)*x(seattle,new-york) - (0.0153)*x(seattle,chicago) - (0.00488448378215977)*x(seattle,topeka) - (0.00624037720753383)*x(san-diego,new-york) - (0.00488448378215977)*x(san-diego,chicago) - (1260000000)*x(san-diego,topeka) + z =E= 0 ;
     
      (LHS = -10.1941773452727, INFES = 10.1941773452727 ****)
     

---- supply  =L=  observe supply limit at plant i

supply(seattle)..  x(seattle,new-york) + x(seattle,chicago) + x(seattle,topeka) =L= 350 ; (LHS = 300)
     
supply(san-diego)..  x(san-diego,new-york) + x(san-diego,chicago) + x(san-diego,topeka) =L= 600 ; (LHS = 600)
     

---- demand  =G=  satisfy demand at market j

demand(new-york)..  x(seattle,new-york) + x(san-diego,new-york) =G= 325 ; (LHS = 325)
     
demand(chicago)..  x(seattle,chicago) + x(san-diego,chicago) =G= 300 ; (LHS = 300)
     
demand(topeka)..  x(seattle,topeka) + x(san-diego,topeka) =G= 275 ; (LHS = 275)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 7
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE transport Using NLP From line 118


---- x  shipment quantities in cases

x(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
 (-2.250000E+9) cost
        1       supply(seattle)
        1       demand(new-york)

x(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 25, +INF, 0)
      (-0.0153) cost
        1       supply(seattle)
        1       demand(chicago)

x(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 275, +INF, 0)
      (-0.0049) cost
        1       supply(seattle)
        1       demand(topeka)

REMAINING 3 ENTRIES SKIPPED

---- z  total transportation costs in thousands of dollars

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       cost

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 8
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Model Statistics    SOLVE transport Using NLP From line 118


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            6
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            7
NON ZERO ELEMENTS            19     NON LINEAR N-Z              6
DERIVATIVE POOL              20     CONSTANT POOL              20
CODE LENGTH                  21


GENERATION TIME      =        0.000 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.000 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:30:34 Page 9
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE transport Using NLP From line 118


               S O L V E      S U M M A R Y

     MODEL   transport           OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  118

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE               10.1942

 RESOURCE USAGE, LIMIT          0.001      1000.000
 ITERATION COUNT, LIMIT         4    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      
*** Error Cannot open parameter file "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/conopt.opt"
*** Error Error code = 2; No such file or directory
 
 
    C O N O P T 3   version 3.17A
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 7 variables and 6 constraints
    with 19 Jacobian elements, 6 of which are nonlinear.
    The Hessian of the Lagrangian has 6 elements on the diagonal,
    0 elements below the diagonal, and 6 nonlinear variables.
 
                   Pre-triangular equations:   0
                   Post-triangular equations:  1
 
 
 ** Optimal solution. There are no superbasic variables.
 
 
 CONOPT time Total                            0.001 seconds
   of which: Function evaluations             0.000 =  0.0%
             1st Derivative evaluations       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU cost                .              .              .             1.0000      

  cost  define objective function with economies of scale
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 10
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE transport Using NLP From line 118


---- EQU supply  observe supply limit at plant i

                 LOWER          LEVEL          UPPER         MARGINAL

seattle          -INF          300.0000       350.0000          .          
san-diego        -INF          600.0000       600.0000        -0.0104      

---- EQU demand  satisfy demand at market j

                LOWER          LEVEL          UPPER         MARGINAL

new-york       325.0000       325.0000        +INF            0.0167      
chicago        300.0000       300.0000        +INF            0.0153      
topeka         275.0000       275.0000        +INF            0.0049      

---- VAR x  shipment quantities in cases

                          LOWER          LEVEL          UPPER         MARGINAL

seattle  .new-york          .              .            +INF      2.2500000E+9      
seattle  .chicago           .            25.0000        +INF             .          
seattle  .topeka            .           275.0000        +INF             .          
san-diego.new-york          .           325.0000        +INF             .          
san-diego.chicago           .           275.0000        +INF             .          
san-diego.topeka            .              .            +INF      1.2600000E+9      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF           10.1942        +INF             .          

  z  total transportation costs in thousands of dollars


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 11
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE trnsdiscA Using MIP From line 158


---- supply  =L=  observe supply limit at plant i

supply(seattle)..  x(seattle,new-york) + x(seattle,chicago) + x(seattle,topeka) =L= 350 ; (LHS = 300)
     
supply(san-diego)..  x(san-diego,new-york) + x(san-diego,chicago) + x(san-diego,topeka) =L= 600 ; (LHS = 600)
     

---- demand  =G=  satisfy demand at market j

demand(new-york)..  x(seattle,new-york) + x(san-diego,new-york) =G= 325 ; (LHS = 325)
     
demand(chicago)..  x(seattle,chicago) + x(san-diego,chicago) =G= 300 ; (LHS = 300)
     
demand(topeka)..  x(seattle,topeka) + x(san-diego,topeka) =G= 275 ; (LHS = 275)
     

---- defsos1  =E=  

defsos1(seattle,new-york)..  x(seattle,new-york) + xs(seattle,new-york,slope0) - 50*xs(seattle,new-york,s1) - 120*xs(seattle,new-york,s2) - 190*xs(seattle,new-york,s3) - 260*xs(seattle,new-york,s4) - 330*xs(seattle,new-york,s5)
     
      - 400*xs(seattle,new-york,s6) - xs(seattle,new-york,slopeN) =E= 0 ; (LHS = 0)
     
defsos1(seattle,chicago)..  x(seattle,chicago) + xs(seattle,chicago,slope0) - 50*xs(seattle,chicago,s1) - 120*xs(seattle,chicago,s2) - 190*xs(seattle,chicago,s3) - 260*xs(seattle,chicago,s4) - 330*xs(seattle,chicago,s5) - 400*xs(seattle,chicago,s6)
     
      - xs(seattle,chicago,slopeN) =E= 0 ; (LHS = 25, INFES = 25 ****)
     
defsos1(seattle,topeka)..  x(seattle,topeka) + xs(seattle,topeka,slope0) - 50*xs(seattle,topeka,s1) - 120*xs(seattle,topeka,s2) - 190*xs(seattle,topeka,s3) - 260*xs(seattle,topeka,s4) - 330*xs(seattle,topeka,s5) - 400*xs(seattle,topeka,s6)
     
      - xs(seattle,topeka,slopeN) =E= 0 ; (LHS = 275, INFES = 275 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- defsos2  =E=  

defsos2(seattle,new-york)..  0.14142135623731*xs(seattle,new-york,slope0) - 7.07106781186548*xs(seattle,new-york,s1) - 10.9544511501033*xs(seattle,new-york,s2) - 13.7840487520902*xs(seattle,new-york,s3) - 16.1245154965971*xs(seattle,new-york,s4)
     
      - 18.1659021245849*xs(seattle,new-york,s5) - 20*xs(seattle,new-york,s6) - 0.0224744871391589*xs(seattle,new-york,slopeN) + sqrtx(seattle,new-york) =E= 0 ; (LHS = 0)
     
defsos2(seattle,chicago)..  0.14142135623731*xs(seattle,chicago,slope0) - 7.07106781186548*xs(seattle,chicago,s1) - 10.9544511501033*xs(seattle,chicago,s2) - 13.7840487520902*xs(seattle,chicago,s3) - 16.1245154965971*xs(seattle,chicago,s4)
     
      - 18.1659021245849*xs(seattle,chicago,s5) - 20*xs(seattle,chicago,s6) - 0.0224744871391589*xs(seattle,chicago,slopeN) + sqrtx(seattle,chicago) =E= 0 ; (LHS = 0)
     
defsos2(seattle,topeka)..  0.14142135623731*xs(seattle,topeka,slope0) - 7.07106781186548*xs(seattle,topeka,s1) - 10.9544511501033*xs(seattle,topeka,s2) - 13.7840487520902*xs(seattle,topeka,s3) - 16.1245154965971*xs(seattle,topeka,s4)
     
      - 18.1659021245849*xs(seattle,topeka,s5) - 20*xs(seattle,topeka,s6) - 0.0224744871391589*xs(seattle,topeka,slopeN) + sqrtx(seattle,topeka) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 12
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE trnsdiscA Using MIP From line 158


---- defsos3  =E=  

defsos3(seattle,new-york)..  xs(seattle,new-york,s1) + xs(seattle,new-york,s2) + xs(seattle,new-york,s3) + xs(seattle,new-york,s4) + xs(seattle,new-york,s5) + xs(seattle,new-york,s6) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
defsos3(seattle,chicago)..  xs(seattle,chicago,s1) + xs(seattle,chicago,s2) + xs(seattle,chicago,s3) + xs(seattle,chicago,s4) + xs(seattle,chicago,s5) + xs(seattle,chicago,s6) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
defsos3(seattle,topeka)..  xs(seattle,topeka,s1) + xs(seattle,topeka,s2) + xs(seattle,topeka,s3) + xs(seattle,topeka,s4) + xs(seattle,topeka,s5) + xs(seattle,topeka,s6) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- defobjdisc  =E=  

defobjdisc..  z - 0.225*sqrtx(seattle,new-york) - 0.153*sqrtx(seattle,chicago) - 0.162*sqrtx(seattle,topeka) - 0.225*sqrtx(san-diego,new-york) - 0.162*sqrtx(san-diego,chicago) - 0.126*sqrtx(san-diego,topeka) =E= 0 ;
     
      (LHS = 10.1941773452727, INFES = 10.1941773452727 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 13
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE trnsdiscA Using MIP From line 158


---- x  shipment quantities in cases

x(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 2249999999.98334)
        1       supply(seattle)
        1       demand(new-york)
        1       defsos1(seattle,new-york)

x(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 25, +INF, 0)
        1       supply(seattle)
        1       demand(chicago)
        1       defsos1(seattle,chicago)

x(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 275, +INF, 0)
        1       supply(seattle)
        1       demand(topeka)
        1       defsos1(seattle,topeka)

REMAINING 3 ENTRIES SKIPPED

---- z  total transportation costs in thousands of dollars

z
                (.LO, .L, .UP, .M = -INF, 10.1941773452727, +INF, 0)
        1       defobjdisc


---- xs  

xs(seattle,new-york,slope0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos1(seattle,new-york)
        0.1414  defsos2(seattle,new-york)

xs(seattle,new-york,s1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -50       defsos1(seattle,new-york)
       -7.0711  defsos2(seattle,new-york)
        1       defsos3(seattle,new-york)

xs(seattle,new-york,s2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -120       defsos1(seattle,new-york)
      -10.9545  defsos2(seattle,new-york)
        1       defsos3(seattle,new-york)

REMAINING 45 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 14
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE trnsdiscA Using MIP From line 158


---- sqrtx  

sqrtx(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos2(seattle,new-york)
       -0.225   defobjdisc

sqrtx(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos2(seattle,chicago)
       -0.153   defobjdisc

sqrtx(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos2(seattle,topeka)
       -0.162   defobjdisc

REMAINING 3 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 15
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Model Statistics    SOLVE trnsdiscA Using MIP From line 158


MODEL STATISTICS

BLOCKS OF EQUATIONS           6     SINGLE EQUATIONS           24
BLOCKS OF VARIABLES           4     SINGLE VARIABLES           61
NON ZERO ELEMENTS           163


GENERATION TIME      =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.004 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 16
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE trnsdiscA Using MIP From line 158


               S O L V E      S U M M A R Y

     MODEL   trnsdiscA           OBJECTIVE  z
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  158

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/convert.opt"
>>  ampl trnspwl-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/convert.opt"
Ampl      : trnspwl-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 17
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE trnsdiscA Using MIP From line 173


---- supply  =L=  observe supply limit at plant i

supply(seattle)..  x(seattle,new-york) + x(seattle,chicago) + x(seattle,topeka) =L= 350 ; (LHS = 300)
     
supply(san-diego)..  x(san-diego,new-york) + x(san-diego,chicago) + x(san-diego,topeka) =L= 600 ; (LHS = 600)
     

---- demand  =G=  satisfy demand at market j

demand(new-york)..  x(seattle,new-york) + x(san-diego,new-york) =G= 325 ; (LHS = 325)
     
demand(chicago)..  x(seattle,chicago) + x(san-diego,chicago) =G= 300 ; (LHS = 300)
     
demand(topeka)..  x(seattle,topeka) + x(san-diego,topeka) =G= 275 ; (LHS = 275)
     

---- defsos1  =E=  

defsos1(seattle,new-york)..  x(seattle,new-york) - 50*xs(seattle,new-york,s1) - 120*xs(seattle,new-york,s2) - 190*xs(seattle,new-york,s3) - 260*xs(seattle,new-york,s4) - 330*xs(seattle,new-york,s5) - 400*xs(seattle,new-york,s6)
     
      - 600*xs(seattle,new-york,slopeN) =E= 0 ; (LHS = 0)
     
defsos1(seattle,chicago)..  x(seattle,chicago) - 50*xs(seattle,chicago,s1) - 120*xs(seattle,chicago,s2) - 190*xs(seattle,chicago,s3) - 260*xs(seattle,chicago,s4) - 330*xs(seattle,chicago,s5) - 400*xs(seattle,chicago,s6) - 600*xs(seattle,chicago,slopeN)
      =E= 0 ; (LHS = 25, INFES = 25 ****)
     
defsos1(seattle,topeka)..  x(seattle,topeka) - 50*xs(seattle,topeka,s1) - 120*xs(seattle,topeka,s2) - 190*xs(seattle,topeka,s3) - 260*xs(seattle,topeka,s4) - 330*xs(seattle,topeka,s5) - 400*xs(seattle,topeka,s6) - 600*xs(seattle,topeka,slopeN) =E= 0 ;
     
      (LHS = 275, INFES = 275 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- defsos2  =E=  

defsos2(seattle,new-york)..  - 7.07106781186548*xs(seattle,new-york,s1) - 10.9544511501033*xs(seattle,new-york,s2) - 13.7840487520902*xs(seattle,new-york,s3) - 16.1245154965971*xs(seattle,new-york,s4) - 18.1659021245849*xs(seattle,new-york,s5)
     
      - 20*xs(seattle,new-york,s6) - 24.4948974278318*xs(seattle,new-york,slopeN) + sqrtx(seattle,new-york) =E= 0 ; (LHS = 0)
     
defsos2(seattle,chicago)..  - 7.07106781186548*xs(seattle,chicago,s1) - 10.9544511501033*xs(seattle,chicago,s2) - 13.7840487520902*xs(seattle,chicago,s3) - 16.1245154965971*xs(seattle,chicago,s4) - 18.1659021245849*xs(seattle,chicago,s5)
     
      - 20*xs(seattle,chicago,s6) - 24.4948974278318*xs(seattle,chicago,slopeN) + sqrtx(seattle,chicago) =E= 0 ; (LHS = 0)
     
defsos2(seattle,topeka)..  - 7.07106781186548*xs(seattle,topeka,s1) - 10.9544511501033*xs(seattle,topeka,s2) - 13.7840487520902*xs(seattle,topeka,s3) - 16.1245154965971*xs(seattle,topeka,s4) - 18.1659021245849*xs(seattle,topeka,s5)
     
      - 20*xs(seattle,topeka,s6) - 24.4948974278318*xs(seattle,topeka,slopeN) + sqrtx(seattle,topeka) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 18
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE trnsdiscA Using MIP From line 173


---- defsos3  =E=  

defsos3(seattle,new-york)..  xs(seattle,new-york,slope0) + xs(seattle,new-york,s1) + xs(seattle,new-york,s2) + xs(seattle,new-york,s3) + xs(seattle,new-york,s4) + xs(seattle,new-york,s5) + xs(seattle,new-york,s6) + xs(seattle,new-york,slopeN) =E= 1 ;
     
      (LHS = 0, INFES = 1 ****)
     
defsos3(seattle,chicago)..  xs(seattle,chicago,slope0) + xs(seattle,chicago,s1) + xs(seattle,chicago,s2) + xs(seattle,chicago,s3) + xs(seattle,chicago,s4) + xs(seattle,chicago,s5) + xs(seattle,chicago,s6) + xs(seattle,chicago,slopeN) =E= 1 ;
     
      (LHS = 0, INFES = 1 ****)
     
defsos3(seattle,topeka)..  xs(seattle,topeka,slope0) + xs(seattle,topeka,s1) + xs(seattle,topeka,s2) + xs(seattle,topeka,s3) + xs(seattle,topeka,s4) + xs(seattle,topeka,s5) + xs(seattle,topeka,s6) + xs(seattle,topeka,slopeN) =E= 1 ;
     
      (LHS = 0, INFES = 1 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- defobjdisc  =E=  

defobjdisc..  z - 0.225*sqrtx(seattle,new-york) - 0.153*sqrtx(seattle,chicago) - 0.162*sqrtx(seattle,topeka) - 0.225*sqrtx(san-diego,new-york) - 0.162*sqrtx(san-diego,chicago) - 0.126*sqrtx(san-diego,topeka) =E= 0 ;
     
      (LHS = 10.1941773452727, INFES = 10.1941773452727 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 19
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE trnsdiscA Using MIP From line 173


---- x  shipment quantities in cases

x(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 2249999999.98334)
        1       supply(seattle)
        1       demand(new-york)
        1       defsos1(seattle,new-york)

x(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 25, +INF, 0)
        1       supply(seattle)
        1       demand(chicago)
        1       defsos1(seattle,chicago)

x(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 275, +INF, 0)
        1       supply(seattle)
        1       demand(topeka)
        1       defsos1(seattle,topeka)

REMAINING 3 ENTRIES SKIPPED

---- z  total transportation costs in thousands of dollars

z
                (.LO, .L, .UP, .M = -INF, 10.1941773452727, +INF, 0)
        1       defobjdisc


---- xs  

xs(seattle,new-york,slope0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos3(seattle,new-york)

xs(seattle,new-york,s1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -50       defsos1(seattle,new-york)
       -7.0711  defsos2(seattle,new-york)
        1       defsos3(seattle,new-york)

xs(seattle,new-york,s2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -120       defsos1(seattle,new-york)
      -10.9545  defsos2(seattle,new-york)
        1       defsos3(seattle,new-york)

REMAINING 45 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 20
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE trnsdiscA Using MIP From line 173


---- sqrtx  

sqrtx(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos2(seattle,new-york)
       -0.225   defobjdisc

sqrtx(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos2(seattle,chicago)
       -0.153   defobjdisc

sqrtx(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsos2(seattle,topeka)
       -0.162   defobjdisc

REMAINING 3 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 21
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Model Statistics    SOLVE trnsdiscA Using MIP From line 173


MODEL STATISTICS

BLOCKS OF EQUATIONS           6     SINGLE EQUATIONS           24
BLOCKS OF VARIABLES           4     SINGLE VARIABLES           61
NON ZERO ELEMENTS           163


GENERATION TIME      =        0.004 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.004 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 22
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE trnsdiscA Using MIP From line 173


               S O L V E      S U M M A R Y

     MODEL   trnsdiscA           OBJECTIVE  z
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  173

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/convert.opt"
>>  ampl trnspwl-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/convert.opt"
Ampl      : trnspwl-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 23
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE trnsdiscB Using MIP From line 206


---- supply  =L=  observe supply limit at plant i

supply(seattle)..  x(seattle,new-york) + x(seattle,chicago) + x(seattle,topeka) =L= 350 ; (LHS = 300)
     
supply(san-diego)..  x(san-diego,new-york) + x(san-diego,chicago) + x(san-diego,topeka) =L= 600 ; (LHS = 600)
     

---- demand  =G=  satisfy demand at market j

demand(new-york)..  x(seattle,new-york) + x(san-diego,new-york) =G= 325 ; (LHS = 325)
     
demand(chicago)..  x(seattle,chicago) + x(san-diego,chicago) =G= 300 ; (LHS = 300)
     
demand(topeka)..  x(seattle,topeka) + x(san-diego,topeka) =G= 275 ; (LHS = 275)
     

---- defx  =E=  definition of x

defx(seattle,new-york)..  x(seattle,new-york) - 50*seg(seattle,new-york,slope0) - 70*seg(seattle,new-york,s1) - 70*seg(seattle,new-york,s2) - 70*seg(seattle,new-york,s3) - 70*seg(seattle,new-york,s4) - 70*seg(seattle,new-york,s5)
     
      - 200*seg(seattle,new-york,s6) - 50*gs(seattle,new-york,s1) - 120*gs(seattle,new-york,s2) - 190*gs(seattle,new-york,s3) - 260*gs(seattle,new-york,s4) - 330*gs(seattle,new-york,s5) - 400*gs(seattle,new-york,s6) =E= 0 ; (LHS = 0)
     
defx(seattle,chicago)..  x(seattle,chicago) - 50*seg(seattle,chicago,slope0) - 70*seg(seattle,chicago,s1) - 70*seg(seattle,chicago,s2) - 70*seg(seattle,chicago,s3) - 70*seg(seattle,chicago,s4) - 70*seg(seattle,chicago,s5) - 200*seg(seattle,chicago,s6)
     
      - 50*gs(seattle,chicago,s1) - 120*gs(seattle,chicago,s2) - 190*gs(seattle,chicago,s3) - 260*gs(seattle,chicago,s4) - 330*gs(seattle,chicago,s5) - 400*gs(seattle,chicago,s6) =E= 0 ; (LHS = 25, INFES = 25 ****)
     
defx(seattle,topeka)..  x(seattle,topeka) - 50*seg(seattle,topeka,slope0) - 70*seg(seattle,topeka,s1) - 70*seg(seattle,topeka,s2) - 70*seg(seattle,topeka,s3) - 70*seg(seattle,topeka,s4) - 70*seg(seattle,topeka,s5) - 200*seg(seattle,topeka,s6)
     
      - 50*gs(seattle,topeka,s1) - 120*gs(seattle,topeka,s2) - 190*gs(seattle,topeka,s3) - 260*gs(seattle,topeka,s4) - 330*gs(seattle,topeka,s5) - 400*gs(seattle,topeka,s6) =E= 0 ; (LHS = 275, INFES = 275 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- defsqrt  =E=  definition of sqrt

defsqrt(seattle,new-york)..  sqrtx(seattle,new-york) - 7.07106781186548*seg(seattle,new-york,slope0) - 3.88338333823785*seg(seattle,new-york,s1) - 2.8295976019869*seg(seattle,new-york,s2) - 2.34046674450688*seg(seattle,new-york,s3)
     
      - 2.04138662798785*seg(seattle,new-york,s4) - 1.83409787541505*seg(seattle,new-york,s5) - 4.49489742783178*seg(seattle,new-york,s6) - 7.07106781186548*gs(seattle,new-york,s1) - 10.9544511501033*gs(seattle,new-york,s2)
     
      - 13.7840487520902*gs(seattle,new-york,s3) - 16.1245154965971*gs(seattle,new-york,s4) - 18.1659021245849*gs(seattle,new-york,s5) - 20*gs(seattle,new-york,s6) =E= 0 ; (LHS = 0)
     
defsqrt(seattle,chicago)..  sqrtx(seattle,chicago) - 7.07106781186548*seg(seattle,chicago,slope0) - 3.88338333823785*seg(seattle,chicago,s1) - 2.8295976019869*seg(seattle,chicago,s2) - 2.34046674450688*seg(seattle,chicago,s3)
     
      - 2.04138662798785*seg(seattle,chicago,s4) - 1.83409787541505*seg(seattle,chicago,s5) - 4.49489742783178*seg(seattle,chicago,s6) - 7.07106781186548*gs(seattle,chicago,s1) - 10.9544511501033*gs(seattle,chicago,s2)
     
      - 13.7840487520902*gs(seattle,chicago,s3) - 16.1245154965971*gs(seattle,chicago,s4) - 18.1659021245849*gs(seattle,chicago,s5) - 20*gs(seattle,chicago,s6) =E= 0 ; (LHS = 0)
     
defsqrt(seattle,topeka)..  sqrtx(seattle,topeka) - 7.07106781186548*seg(seattle,topeka,slope0) - 3.88338333823785*seg(seattle,topeka,s1) - 2.8295976019869*seg(seattle,topeka,s2) - 2.34046674450688*seg(seattle,topeka,s3)
     
      - 2.04138662798785*seg(seattle,topeka,s4) - 1.83409787541505*seg(seattle,topeka,s5) - 4.49489742783178*seg(seattle,topeka,s6) - 7.07106781186548*gs(seattle,topeka,s1) - 10.9544511501033*gs(seattle,topeka,s2) - 13.7840487520902*gs(seattle,topeka,s3)
     
      - 16.1245154965971*gs(seattle,topeka,s4) - 18.1659021245849*gs(seattle,topeka,s5) - 20*gs(seattle,topeka,s6) =E= 0 ; (LHS = 0)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 24
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE trnsdiscB Using MIP From line 206


     defsqrt  =E=  definition of sqrt

REMAINING 3 ENTRIES SKIPPED


---- defseg  =L=  segment can only have shipment if indicator is on

defseg(seattle,new-york,slope0)..  seg(seattle,new-york,slope0) - gs(seattle,new-york,slope0) =L= 0 ; (LHS = 0)
     
defseg(seattle,new-york,s1)..  seg(seattle,new-york,s1) - gs(seattle,new-york,s1) =L= 0 ; (LHS = 0)
     
defseg(seattle,new-york,s2)..  seg(seattle,new-york,s2) - gs(seattle,new-york,s2) =L= 0 ; (LHS = 0)
     
REMAINING 39 ENTRIES SKIPPED


---- defgs  =L=  select at most one segment

defgs(seattle,new-york)..  gs(seattle,new-york,slope0) + gs(seattle,new-york,s1) + gs(seattle,new-york,s2) + gs(seattle,new-york,s3) + gs(seattle,new-york,s4) + gs(seattle,new-york,s5) + gs(seattle,new-york,s6) =L= 1 ; (LHS = 0)
     
defgs(seattle,chicago)..  gs(seattle,chicago,slope0) + gs(seattle,chicago,s1) + gs(seattle,chicago,s2) + gs(seattle,chicago,s3) + gs(seattle,chicago,s4) + gs(seattle,chicago,s5) + gs(seattle,chicago,s6) =L= 1 ; (LHS = 0)
     
defgs(seattle,topeka)..  gs(seattle,topeka,slope0) + gs(seattle,topeka,s1) + gs(seattle,topeka,s2) + gs(seattle,topeka,s3) + gs(seattle,topeka,s4) + gs(seattle,topeka,s5) + gs(seattle,topeka,s6) =L= 1 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- defobjdisc  =E=  

defobjdisc..  z - 0.225*sqrtx(seattle,new-york) - 0.153*sqrtx(seattle,chicago) - 0.162*sqrtx(seattle,topeka) - 0.225*sqrtx(san-diego,new-york) - 0.162*sqrtx(san-diego,chicago) - 0.126*sqrtx(san-diego,topeka) =E= 0 ;
     
      (LHS = 10.1941773452727, INFES = 10.1941773452727 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 25
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE trnsdiscB Using MIP From line 206


---- x  shipment quantities in cases

x(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 2249999999.98334)
        1       supply(seattle)
        1       demand(new-york)
        1       defx(seattle,new-york)

x(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 25, +INF, 0)
        1       supply(seattle)
        1       demand(chicago)
        1       defx(seattle,chicago)

x(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 275, +INF, 0)
        1       supply(seattle)
        1       demand(topeka)
        1       defx(seattle,topeka)

REMAINING 3 ENTRIES SKIPPED

---- z  total transportation costs in thousands of dollars

z
                (.LO, .L, .UP, .M = -INF, 10.1941773452727, +INF, 0)
        1       defobjdisc


---- sqrtx  

sqrtx(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsqrt(seattle,new-york)
       -0.225   defobjdisc

sqrtx(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsqrt(seattle,chicago)
       -0.153   defobjdisc

sqrtx(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       defsqrt(seattle,topeka)
       -0.162   defobjdisc

REMAINING 3 ENTRIES SKIPPED

---- seg  shipment in segment

seg(seattle,new-york,slope0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -50       defx(seattle,new-york)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 26
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE trnsdiscB Using MIP From line 206


     seg  shipment in segment

       -7.0711  defsqrt(seattle,new-york)
        1       defseg(seattle,new-york,slope0)

seg(seattle,new-york,s1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -70       defx(seattle,new-york)
       -3.8834  defsqrt(seattle,new-york)
        1       defseg(seattle,new-york,s1)

seg(seattle,new-york,s2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -70       defx(seattle,new-york)
       -2.8296  defsqrt(seattle,new-york)
        1       defseg(seattle,new-york,s2)

REMAINING 39 ENTRIES SKIPPED

---- gs  indicator for shipment in segment

gs(seattle,new-york,slope0)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
       -1       defseg(seattle,new-york,slope0)
        1       defgs(seattle,new-york)

gs(seattle,new-york,s1)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
      -50       defx(seattle,new-york)
       -7.0711  defsqrt(seattle,new-york)
       -1       defseg(seattle,new-york,s1)
        1       defgs(seattle,new-york)

gs(seattle,new-york,s2)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -120       defx(seattle,new-york)
      -10.9545  defsqrt(seattle,new-york)
       -1       defseg(seattle,new-york,s2)
        1       defgs(seattle,new-york)

REMAINING 39 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 27
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Model Statistics    SOLVE trnsdiscB Using MIP From line 206


MODEL STATISTICS

BLOCKS OF EQUATIONS           7     SINGLE EQUATIONS           66
BLOCKS OF VARIABLES           5     SINGLE VARIABLES           97
NON ZERO ELEMENTS           313     DISCRETE VARIABLES         42


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 28
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE trnsdiscB Using MIP From line 206


               S O L V E      S U M M A R Y

     MODEL   trnsdiscB           OBJECTIVE  z
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  206

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/convert.opt"
>>  ampl trnspwl-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/convert.opt"
Ampl      : trnspwl-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 29
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Equation Listing    SOLVE transport Using NLP From line 209


---- cost  =E=  define objective function with economies of scale

cost..  - (2250000000)*x(seattle,new-york) - (0.0153)*x(seattle,chicago) - (0.00488448378215977)*x(seattle,topeka) - (0.00624037720753383)*x(san-diego,new-york) - (0.00488448378215977)*x(san-diego,chicago) - (1260000000)*x(san-diego,topeka) + z =E= 0 ;
     
      (LHS = 0)
     

---- supply  =L=  observe supply limit at plant i

supply(seattle)..  x(seattle,new-york) + x(seattle,chicago) + x(seattle,topeka) =L= 350 ; (LHS = 300)
     
supply(san-diego)..  x(san-diego,new-york) + x(san-diego,chicago) + x(san-diego,topeka) =L= 600 ; (LHS = 600)
     

---- demand  =G=  satisfy demand at market j

demand(new-york)..  x(seattle,new-york) + x(san-diego,new-york) =G= 325 ; (LHS = 325)
     
demand(chicago)..  x(seattle,chicago) + x(san-diego,chicago) =G= 300 ; (LHS = 300)
     
demand(topeka)..  x(seattle,topeka) + x(san-diego,topeka) =G= 275 ; (LHS = 275)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 30
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Column Listing      SOLVE transport Using NLP From line 209


---- x  shipment quantities in cases

x(seattle,new-york)
                (.LO, .L, .UP, .M = 0, 0, +INF, 2249999999.98334)
 (-2.250000E+9) cost
        1       supply(seattle)
        1       demand(new-york)

x(seattle,chicago)
                (.LO, .L, .UP, .M = 0, 25, +INF, 0)
      (-0.0153) cost
        1       supply(seattle)
        1       demand(chicago)

x(seattle,topeka)
                (.LO, .L, .UP, .M = 0, 275, +INF, 0)
      (-0.0049) cost
        1       supply(seattle)
        1       demand(topeka)

REMAINING 3 ENTRIES SKIPPED

---- z  total transportation costs in thousands of dollars

z
                (.LO, .L, .UP, .M = -INF, 10.1941773452727, +INF, 0)
        1       cost

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 31
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Model Statistics    SOLVE transport Using NLP From line 209


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            6
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            7
NON ZERO ELEMENTS            19     NON LINEAR N-Z              6
DERIVATIVE POOL              20     CONSTANT POOL              20
CODE LENGTH                  21


GENERATION TIME      =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 32
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE transport Using NLP From line 209


               S O L V E      S U M M A R Y

     MODEL   transport           OBJECTIVE  z
     TYPE    NLP                 DIRECTION  MINIMIZE
     SOLVER  CONOPT              FROM LINE  209

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE               10.1942

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         4    2000000000
 EVALUATION ERRORS              0             0
CONOPT 3         24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      
*** Error Cannot open parameter file "/home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/conopt.opt"
*** Error Error code = 2; No such file or directory
 
 
    C O N O P T 3   version 3.17A
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 7 variables and 6 constraints
    with 19 Jacobian elements, 6 of which are nonlinear.
    The Hessian of the Lagrangian has 6 elements on the diagonal,
    0 elements below the diagonal, and 6 nonlinear variables.
 
                   Pre-triangular equations:   0
                   Post-triangular equations:  1
 
 
 ** Optimal solution. There are no superbasic variables.
 
 
 CONOPT time Total                            0.001 seconds
   of which: Function evaluations             0.000 =  0.0%
             1st Derivative evaluations       0.000 =  0.0%
 

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU cost                .              .              .             1.0000      

  cost  define objective function with economies of scale
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 33
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
Solution Report     SOLVE transport Using NLP From line 209


---- EQU supply  observe supply limit at plant i

                 LOWER          LEVEL          UPPER         MARGINAL

seattle          -INF          300.0000       350.0000          .          
san-diego        -INF          600.0000       600.0000        -0.0104      

---- EQU demand  satisfy demand at market j

                LOWER          LEVEL          UPPER         MARGINAL

new-york       325.0000       325.0000        +INF            0.0167      
chicago        300.0000       300.0000        +INF            0.0153      
topeka         275.0000       275.0000        +INF            0.0049      

---- VAR x  shipment quantities in cases

                          LOWER          LEVEL          UPPER         MARGINAL

seattle  .new-york          .              .            +INF      2.2500000E+9      
seattle  .chicago           .            25.0000        +INF             .          
seattle  .topeka            .           275.0000        +INF             .          
san-diego.new-york          .           325.0000        +INF             .          
san-diego.chicago           .           275.0000        +INF             .          
san-diego.topeka            .              .            +INF      1.2600000E+9      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF           10.1942        +INF             .          

  z  total transportation costs in thousands of dollars


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 11:30:34 Page 34
A Transportation Problem with discretized economies of scale (TRNSPWL,SEQ=351)
E x e c u t i o n


EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/trnspwl.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/trnspwl/trnspwl-scalar.mod.lst
