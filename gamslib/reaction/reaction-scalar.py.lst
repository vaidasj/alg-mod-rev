GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
   2  option MIP=convert;
   3  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 2
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
C o m p i l a t i o n


   5   
       
          Given a set of possible chemical reactions, we must verify
          whether a chemical can be synthesized from a given set of
          raw materials and catalysts.
       
       
      Morari, M, and Grossmann, I E, Eds, Chemical Engineering Optimization
      Models with GAMS. Computer Aids for Chemical Engineering Corporation,
      1991.
       
      Raman, R, and Grossmann, I E, Relation between MINLP Modeling and
      Logical Inverence for Chemical Process Synthesis. Computers and
      Chemical Engineering 15, 2 (1991), 73-84.
       
  22   
  23   
  24  Sets v system variables (chemicals)  /
  25   
  26         y01           ch3co2c2h5
  27         y02           naoc2h5
  28         y03           c2h5oh
  29         y04           ch3coch2co2c2h5
  30         y05           h3o-hydronium ion
  31         y06           ch3coch3
  32         y07           co2
  33         y08           ch3cn
  34         y09           ch3mgi
  35         y10           c2h5oc2h5
  36         y11           ch3c(nmgi)ch3
  37         y12           h2o
  38         y13           hcl
  39         y14           ch3cho
  40         y15           ch3ch(oh)ch3
  41         y16           cro3
  42         y17           h2so4
  43         y18           ch2=c(ch3)2
  44         y19           o3
  45         y20           hco2h
  46         y21           ch3i
  47         y22           mg
  48         y23           ch3co2ch3
  49         y24           hoc(ch3)3
  50         y25           ch4
  51         y26           i2
  52         y27           hi
  53         y28           o2
  54         y29           cr2o3
  55         y30           ch3cl
  56         y31           nacn
  57         y32           nacl
  58         y33           cl2
  59         y34           ch3cooh  /
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 3
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
C o m p i l a t i o n


  60   
  61       rx logical conditions / rxn01 * rxn22 /
  62   
  63  Alias (v,vv)
  64   
  65  Set  logic(rx,v,vv) mathematical representation of chemical reactions /
  66   
  67        rxn01.y04.(y01,y02,y03)
  68        rxn02.y06.(y04,y05)
  69        rxn03.y07.(y04,y05)
  70        rxn04.y03.(y04,y05)
  71        rxn05.y11.(y08,y09,y10)
  72        rxn06.y06.(y11,y12,y13)
  73        rxn07.y15.(y14,y09,y10,y05)
  74        rxn08.y06.(y15,y16,y17)
  75        rxn09.y06.(y18,y19,y12)
  76        rxn10.y20.(y18,y19,y12)
  77        rxn11.y09.(y21,y22)
  78        rxn12.y24.(y09,y23)
  79        rxn13.y18.(y24,y17)
  80        rxn14.y21.(y25,y26)
  81        rxn15.y27.(y25,y26)
  82        rxn16.y14.(y03,y28,y29)
  83        rxn17.y32.(y30,y31,y12)
  84        rxn18.y08.(y30,y31,y12)
  85        rxn19.y30.(y25,y33)
  86        rxn20.y13.(y25,y33)
  87        rxn21.y01.(y34,y03)
  88        rxn22.y34.(y14,y28)                 /
  89   
  90      rxv(rx,v) rx to v mapping;
  91   
  92  rxv(rx,v) = sum(vv, logic(rx,v,vv));
  93   
  94  Binary Variable  y(v); variable  totsum
  95   
  96  Equations  obj       minimize y06 to determine if acetone can be produced
  97             leq(rx,v) logic constraints ;
  98   
  99   
 100  obj..    totsum =e= y('y06') ;
 101   
 102  leq(rxv(rx,v))..  sum(logic(rxv,vv), 1 - y(vv)) =g= 1 - y(v);
 103   
 104   
 105  Sets yavail(v) available raw materials and catalysts /
 106                 y02,y03,y05,y10,y12,y13,y17,y22,y25,y26,y28,y31,y33 /
 107       ynotavail(v)  raw materials and catalysts not available /
 108                 y16,y19 /;
 109   
 110  y.fx(yavail)    = 1;
 111  y.fx(ynotavail) = 0;
 112   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 4
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
C o m p i l a t i o n


 113  Model rulebase / all /;
 114   
 115  Solve rulebase minimizing totsum using mip;
 116   


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 5
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Equation Listing    SOLVE rulebase Using MIP From line 115


---- obj  =E=  minimize y06 to determine if acetone can be produced

obj..  - y(y06) + totsum =E= 0 ; (LHS = 0)
     

---- leq  =G=  logic constraints

leq(rxn01,y04)..  - y(y01) - y(y02) - y(y03) + y(y04) =G= -2 ; (LHS = -2)
     
leq(rxn02,y06)..  - y(y04) - y(y05) + y(y06) =G= -1 ; (LHS = -1)
     
leq(rxn03,y07)..  - y(y04) - y(y05) + y(y07) =G= -1 ; (LHS = -1)
     
REMAINING 19 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 6
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Column Listing      SOLVE rulebase Using MIP From line 115


---- y  

y(y01)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
       -1       leq(rxn01,y04)
        1       leq(rxn21,y01)

y(y02)
                (.LO, .L, .UP, .M = 1, 1, 1, 0)
       -1       leq(rxn01,y04)

y(y03)
                (.LO, .L, .UP, .M = 1, 1, 1, 0)
       -1       leq(rxn01,y04)
        1       leq(rxn04,y03)
       -1       leq(rxn16,y14)
       -1       leq(rxn21,y01)

REMAINING 31 ENTRIES SKIPPED

---- totsum  

totsum
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 7
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Model Statistics    SOLVE rulebase Using MIP From line 115


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS           23
BLOCKS OF VARIABLES           2     SINGLE VARIABLES           35
NON ZERO ELEMENTS            79     DISCRETE VARIABLES         19


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 8
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Solution Report     SOLVE rulebase Using MIP From line 115


               S O L V E      S U M M A R Y

     MODEL   rulebase            OBJECTIVE  totsum
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  115

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/reaction/convert.opt"
>>  pyomo reaction-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/reaction/convert.opt"
Pyomo     : reaction-scalar.py


No solution returned


EXECUTION TIME       =        0.001 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/reaction/reaction.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/reaction/reaction-scalar.py.lst
