GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 2
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
C o m p i l a t i o n


   3   
       
          Given a set of possible chemical reactions, we must verify
          whether a chemical can be synthesized from a given set of
          raw materials and catalysts.
       
       
      Morari, M, and Grossmann, I E, Eds, Chemical Engineering Optimization
      Models with GAMS. Computer Aids for Chemical Engineering Corporation,
      1991.
       
      Raman, R, and Grossmann, I E, Relation between MINLP Modeling and
      Logical Inverence for Chemical Process Synthesis. Computers and
      Chemical Engineering 15, 2 (1991), 73-84.
       
  20   
  21   
  22  Sets v system variables (chemicals)  /
  23   
  24         y01           ch3co2c2h5
  25         y02           naoc2h5
  26         y03           c2h5oh
  27         y04           ch3coch2co2c2h5
  28         y05           h3o-hydronium ion
  29         y06           ch3coch3
  30         y07           co2
  31         y08           ch3cn
  32         y09           ch3mgi
  33         y10           c2h5oc2h5
  34         y11           ch3c(nmgi)ch3
  35         y12           h2o
  36         y13           hcl
  37         y14           ch3cho
  38         y15           ch3ch(oh)ch3
  39         y16           cro3
  40         y17           h2so4
  41         y18           ch2=c(ch3)2
  42         y19           o3
  43         y20           hco2h
  44         y21           ch3i
  45         y22           mg
  46         y23           ch3co2ch3
  47         y24           hoc(ch3)3
  48         y25           ch4
  49         y26           i2
  50         y27           hi
  51         y28           o2
  52         y29           cr2o3
  53         y30           ch3cl
  54         y31           nacn
  55         y32           nacl
  56         y33           cl2
  57         y34           ch3cooh  /
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 3
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
C o m p i l a t i o n


  58   
  59       rx logical conditions / rxn01 * rxn22 /
  60   
  61  Alias (v,vv)
  62   
  63  Set  logic(rx,v,vv) mathematical representation of chemical reactions /
  64   
  65        rxn01.y04.(y01,y02,y03)
  66        rxn02.y06.(y04,y05)
  67        rxn03.y07.(y04,y05)
  68        rxn04.y03.(y04,y05)
  69        rxn05.y11.(y08,y09,y10)
  70        rxn06.y06.(y11,y12,y13)
  71        rxn07.y15.(y14,y09,y10,y05)
  72        rxn08.y06.(y15,y16,y17)
  73        rxn09.y06.(y18,y19,y12)
  74        rxn10.y20.(y18,y19,y12)
  75        rxn11.y09.(y21,y22)
  76        rxn12.y24.(y09,y23)
  77        rxn13.y18.(y24,y17)
  78        rxn14.y21.(y25,y26)
  79        rxn15.y27.(y25,y26)
  80        rxn16.y14.(y03,y28,y29)
  81        rxn17.y32.(y30,y31,y12)
  82        rxn18.y08.(y30,y31,y12)
  83        rxn19.y30.(y25,y33)
  84        rxn20.y13.(y25,y33)
  85        rxn21.y01.(y34,y03)
  86        rxn22.y34.(y14,y28)                 /
  87   
  88      rxv(rx,v) rx to v mapping;
  89   
  90  rxv(rx,v) = sum(vv, logic(rx,v,vv));
  91   
  92  Binary Variable  y(v); variable  totsum
  93   
  94  Equations  obj       minimize y06 to determine if acetone can be produced
  95             leq(rx,v) logic constraints ;
  96   
  97   
  98  obj..    totsum =e= y('y06') ;
  99   
 100  leq(rxv(rx,v))..  sum(logic(rxv,vv), 1 - y(vv)) =g= 1 - y(v);
 101   
 102   
 103  Sets yavail(v) available raw materials and catalysts /
 104                 y02,y03,y05,y10,y12,y13,y17,y22,y25,y26,y28,y31,y33 /
 105       ynotavail(v)  raw materials and catalysts not available /
 106                 y16,y19 /;
 107   
 108  y.fx(yavail)    = 1;
 109  y.fx(ynotavail) = 0;
 110   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 4
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
C o m p i l a t i o n


 111  Model rulebase / all /;
 112   
 113  Solve rulebase minimizing totsum using mip;
 114   


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 5
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Equation Listing    SOLVE rulebase Using MIP From line 113


---- obj  =E=  minimize y06 to determine if acetone can be produced

obj..  - y(y06) + totsum =E= 0 ; (LHS = 0)
     

---- leq  =G=  logic constraints

leq(rxn01,y04)..  - y(y01) - y(y02) - y(y03) + y(y04) =G= -2 ; (LHS = -2)
     
leq(rxn02,y06)..  - y(y04) - y(y05) + y(y06) =G= -1 ; (LHS = -1)
     
leq(rxn03,y07)..  - y(y04) - y(y05) + y(y07) =G= -1 ; (LHS = -1)
     
REMAINING 19 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 6
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Column Listing      SOLVE rulebase Using MIP From line 113


---- y  

y(y01)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
       -1       leq(rxn01,y04)
        1       leq(rxn21,y01)

y(y02)
                (.LO, .L, .UP, .M = 1, 1, 1, 0)
       -1       leq(rxn01,y04)

y(y03)
                (.LO, .L, .UP, .M = 1, 1, 1, 0)
       -1       leq(rxn01,y04)
        1       leq(rxn04,y03)
       -1       leq(rxn16,y14)
       -1       leq(rxn21,y01)

REMAINING 31 ENTRIES SKIPPED

---- totsum  

totsum
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 7
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Model Statistics    SOLVE rulebase Using MIP From line 113


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS           23
BLOCKS OF VARIABLES           2     SINGLE VARIABLES           35
NON ZERO ELEMENTS            79     DISCRETE VARIABLES         19


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:30:47 Page 8
Logical Inference for Reaction Path Synthesis (REACTION,SEQ=121)
Solution Report     SOLVE rulebase Using MIP From line 113


               S O L V E      S U M M A R Y

     MODEL   rulebase            OBJECTIVE  totsum
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  113

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/reaction/convert.opt"
>>  ampl reaction-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/reaction/convert.opt"
Ampl      : reaction-scalar.mod


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/reaction/reaction.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/reaction/reaction-scalar.mod.lst
