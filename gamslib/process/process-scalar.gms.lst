GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
   2  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 2
Alkylation Process Optimization  (PROCESS,SEQ=20)
C o m p i l a t i o n


       
      Optimization of a alkylation process.
       
       
      Bracken, J, and McCormick, G P, Chapter 4. In Selected Applications
      of Nonlinear Programming. John Wiley and Sons, New York, 1968.
       
  13   
  14   Positive
  15   Variables  olefin     olefin feed (bpd)
  16              isor       isobutane recycle (bpd)
  17              acid       acid addition rate (1000lb per day)
  18              alkylate   alkylate yield (bpd)
  19              isom       isobutane makeup (bpd)
  20              strength   acid strength (weight pct)
  21              octane     motor octane number
  22              ratio      isobutane makeup to olefin ratio
  23              dilute     acid dilution factor
  24              f4         f-4 performance number
  25   
  26   Variables  profit, rangey, rangem, ranged, rangef
  27   
  28   Equations  yield      alkylate yield definition
  29              rngyield   ranged alkylate yield definition
  30              makeup     isobutane makeup definition
  31              sdef       acid strength definition
  32              motor      motor octane number
  33              rngmotor   ranged motor octane number
  34              drat       isobutane to olefin ratio
  35              ddil       dilution definition
  36              rngddil    ranged dilution definition
  37              df4        f-4 definition
  38              rngdf4     ranged f-4 definition
  39              dprofit    profit definition;
  40   
  41   yield..  alkylate =e= olefin*(1.12+.13167*ratio-.00667*sqr(ratio)) ;
  42   
  43   makeup.. alkylate =e= olefin + isom -.22*alkylate ;
  44   
  45   sdef..   acid =e= alkylate*dilute*strength/(98-strength)/1000 ;
  46   
  47   motor..  octane =e= 86.35 + 1.098*ratio - .038*sqr(ratio) - .325*(89-strength);
  48   
  49   drat..   ratio =e= (isor+isom)/olefin ;
  50   
  51   ddil..   dilute =e= 35.82 - .222*f4 ;
  52   
  53   df4..    f4 =e= -133 + 3*octane ;
  54   
  55   dprofit.. profit =e= .063*alkylate*octane - 5.04*olefin - .035*isor - 10*acid - 3.36*isom;
  56   
  57   rngyield.. rangey*alkylate =e= olefin*(1.12+.13167*ratio-.00667*sqr(ratio)) ;
  58   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 3
Alkylation Process Optimization  (PROCESS,SEQ=20)
C o m p i l a t i o n


  59   rngmotor.. rangem*octane =e= 86.35 + 1.098*ratio - .038*sqr(ratio) - .325*(89-strength);
  60   
  61   rngddil..  ranged*dilute =e= 35.82 - .222*f4 ;
  62   
  63   rngdf4..   rangef*f4 =e= -133 + 3*octane ;
  64   
  65   Models process process model with equalities / yield, makeup, sdef, motor, drat, ddil, df4, dprofit /
  66          rproc   ranged process  model        / rngyield, makeup, sdef, rngmotor, drat, rngddil, rngdf4, dprofit / ;
  67   
  68   rangey.lo = .9; rangey.up = 1.1; rangey.l = 1;
  69   rangem.lo = .9; rangem.up = 1.1; rangem.l = 1;
  70   ranged.lo = .9; ranged.up = 1.1; ranged.l = 1;
  71   rangef.lo = .9; rangef.up = 1.1; rangef.l = 1;
  72   
  73   strength.lo = 85;   strength.up = 93;  octane.lo = 90;   octane.up = 95;
  74   ratio.lo = 3;       ratio.up = 12;     dilute.lo = 1.2;  dilute.up = 4;
  75   f4.lo = 145; f4.up = 162;
  76   olefin.lo = 10; olefin.up = 2000; isor.up = 16000; acid.up = 120; alkylate.up = 5000; isom.up = 2000;
  77   
  78   olefin.l = 1745; isor.l = 12000; acid.l = 110; alkylate.l = 3048; isom.l = 1974; strength.l = 89.2; octane.l = 92.8;
  79   ratio.l = 8; dilute.l = 3.6; f4.l = 145; profit.l = 872;
  80   
  81   Solve process maximizing profit using nlp;
  82   
  83   Solve rproc maximizing profit using nlp;


COMPILATION TIME     =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 4
Alkylation Process Optimization  (PROCESS,SEQ=20)
Equation Listing    SOLVE process Using NLP From line 81


---- yield  =E=  alkylate yield definition

yield..  - (1.74648)*olefin + alkylate - (43.53775)*ratio =E= 0 ; (LHS = 0.392399999999725, INFES = 0.392399999999725 ****)
     

---- makeup  =E=  isobutane makeup definition

makeup..  - olefin + 1.22*alkylate - isom =E= 0 ; (LHS = -0.440000000000055, INFES = 0.440000000000055 ****)
     

---- sdef  =E=  acid strength definition

sdef..  acid - (0.0364909090909091)*alkylate - (13.8860330578513)*strength - (30.8956363636364)*dilute =E= 0 ; (LHS = -1.22429090909095, INFES = 1.22429090909095 ****)
     

---- motor  =E=  motor octane number

motor..  - 0.325*strength + octane - (0.49)*ratio =E= 57.425 ; (LHS = 57.458, INFES = 0.0330000000000013 ****)
     

---- drat  =E=  isobutane to olefin ratio

drat..  (0.00458912488403215)*olefin - (0.000573065902578797)*isor - (0.000573065902578797)*isom + ratio =E= 0 ; (LHS = -0.00802292263610305, INFES = 0.00802292263610305 ****)
     

---- ddil  =E=  dilution definition

ddil..  dilute + 0.222*f4 =E= 35.82 ; (LHS = 35.79, INFES = 0.0300000000000025 ****)
     

---- df4  =E=  f-4 definition

df4..  - 3*octane + f4 =E= -133 ; (LHS = -133.4, INFES = 0.399999999999977 ****)
     

---- dprofit  =E=  profit definition

dprofit..  5.04*olefin + 0.035*isor + 10*acid - (5.8464)*alkylate + 3.36*isom - (192.024)*octane + profit =E= 0 ; (LHS = -0.38720000000103, INFES = 0.38720000000103 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 5
Alkylation Process Optimization  (PROCESS,SEQ=20)
Column Listing      SOLVE process Using NLP From line 81


---- olefin  olefin feed (bpd)

olefin
                (.LO, .L, .UP, .M = 10, 1745, 2000, 0)
      (-1.7465) yield
       -1       makeup
       (0.0046) drat
        5.04    dprofit


---- isor  isobutane recycle (bpd)

isor
                (.LO, .L, .UP, .M = 0, 12000, 16000, 0)
      (-0.0006) drat
        0.035   dprofit


---- acid  acid addition rate (1000lb per day)

acid
                (.LO, .L, .UP, .M = 0, 110, 120, 0)
        1       sdef
       10       dprofit


---- alkylate  alkylate yield (bpd)

alkylate
                (.LO, .L, .UP, .M = 0, 3048, 5000, 0)
        1       yield
        1.22    makeup
      (-0.0365) sdef
      (-5.8464) dprofit


---- isom  isobutane makeup (bpd)

isom
                (.LO, .L, .UP, .M = 0, 1974, 2000, 0)
       -1       makeup
      (-0.0006) drat
        3.36    dprofit


---- strength  acid strength (weight pct)

strength
                (.LO, .L, .UP, .M = 85, 89.2, 93, 0)
     (-13.886)  sdef
       -0.325   motor

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 6
Alkylation Process Optimization  (PROCESS,SEQ=20)
Column Listing      SOLVE process Using NLP From line 81


---- octane  motor octane number

octane
                (.LO, .L, .UP, .M = 90, 92.8, 95, 0)
        1       motor
       -3       df4
    (-192.024)  dprofit


---- ratio  isobutane makeup to olefin ratio

ratio
                (.LO, .L, .UP, .M = 3, 8, 12, 0)
     (-43.5378) yield
      (-0.49)   motor
        1       drat


---- dilute  acid dilution factor

dilute
                (.LO, .L, .UP, .M = 1.2, 3.6, 4, 0)
     (-30.8956) sdef
        1       ddil


---- f4  f-4 performance number

f4
                (.LO, .L, .UP, .M = 145, 145, 162, 0)
        0.222   ddil
        1       df4


---- profit  

profit
                (.LO, .L, .UP, .M = -INF, 872, +INF, 0)
        1       dprofit

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 7
Alkylation Process Optimization  (PROCESS,SEQ=20)
Model Statistics    SOLVE process Using NLP From line 81


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS            8
BLOCKS OF VARIABLES          11     SINGLE VARIABLES           11
NON ZERO ELEMENTS            28     NON LINEAR N-Z             11
DERIVATIVE POOL              20     CONSTANT POOL              24
CODE LENGTH                  44


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 8
Alkylation Process Optimization  (PROCESS,SEQ=20)
Solution Report     SOLVE process Using NLP From line 81


               S O L V E      S U M M A R Y

     MODEL   process             OBJECTIVE  profit
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  81

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/process/convert.opt"
>>  gams process-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/process/convert.opt"
Gams      : process-scalar.gms


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:30 Page 9
Alkylation Process Optimization  (PROCESS,SEQ=20)
Equation Listing    SOLVE rproc Using NLP From line 83


---- rngyield  =E=  ranged alkylate yield definition

rngyield..  - (1.74648)*olefin + (1)*alkylate - (43.53775)*ratio + (3048)*rangey =E= 0 ; (LHS = 0.392399999999725, INFES = 0.392399999999725 ****)
     

---- makeup  =E=  isobutane makeup definition

makeup..  - olefin + 1.22*alkylate - isom =E= 0 ; (LHS = -0.440000000000055, INFES = 0.440000000000055 ****)
     

---- sdef  =E=  acid strength definition

sdef..  acid - (0.0364909090909091)*alkylate - (13.8860330578513)*strength - (30.8956363636364)*dilute =E= 0 ; (LHS = -1.22429090909095, INFES = 1.22429090909095 ****)
     

---- rngmotor  =E=  ranged motor octane number

rngmotor..  - 0.325*strength + (1)*octane - (0.49)*ratio + (92.8)*rangem =E= 57.425 ; (LHS = 57.458, INFES = 0.0330000000000013 ****)
     

---- drat  =E=  isobutane to olefin ratio

drat..  (0.00458912488403215)*olefin - (0.000573065902578797)*isor - (0.000573065902578797)*isom + ratio =E= 0 ; (LHS = -0.00802292263610305, INFES = 0.00802292263610305 ****)
     

---- rngddil  =E=  ranged dilution definition

rngddil..  (1)*dilute + 0.222*f4 + (3.6)*ranged =E= 35.82 ; (LHS = 35.79, INFES = 0.0300000000000025 ****)
     

---- rngdf4  =E=  ranged f-4 definition

rngdf4..  - 3*octane + (1)*f4 + (145)*rangef =E= -133 ; (LHS = -133.4, INFES = 0.399999999999977 ****)
     

---- dprofit  =E=  profit definition

dprofit..  5.04*olefin + 0.035*isor + 10*acid - (5.8464)*alkylate + 3.36*isom - (192.024)*octane + profit =E= 0 ; (LHS = -0.38720000000103, INFES = 0.38720000000103 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:30 Page 10
Alkylation Process Optimization  (PROCESS,SEQ=20)
Column Listing      SOLVE rproc Using NLP From line 83


---- olefin  olefin feed (bpd)

olefin
                (.LO, .L, .UP, .M = 10, 1745, 2000, 0)
      (-1.7465) rngyield
       -1       makeup
       (0.0046) drat
        5.04    dprofit


---- isor  isobutane recycle (bpd)

isor
                (.LO, .L, .UP, .M = 0, 12000, 16000, 0)
      (-0.0006) drat
        0.035   dprofit


---- acid  acid addition rate (1000lb per day)

acid
                (.LO, .L, .UP, .M = 0, 110, 120, 0)
        1       sdef
       10       dprofit


---- alkylate  alkylate yield (bpd)

alkylate
                (.LO, .L, .UP, .M = 0, 3048, 5000, 0)
       (1)      rngyield
        1.22    makeup
      (-0.0365) sdef
      (-5.8464) dprofit


---- isom  isobutane makeup (bpd)

isom
                (.LO, .L, .UP, .M = 0, 1974, 2000, 0)
       -1       makeup
      (-0.0006) drat
        3.36    dprofit


---- strength  acid strength (weight pct)

strength
                (.LO, .L, .UP, .M = 85, 89.2, 93, 0)
     (-13.886)  sdef
       -0.325   rngmotor

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:30 Page 11
Alkylation Process Optimization  (PROCESS,SEQ=20)
Column Listing      SOLVE rproc Using NLP From line 83


---- octane  motor octane number

octane
                (.LO, .L, .UP, .M = 90, 92.8, 95, 0)
       (1)      rngmotor
       -3       rngdf4
    (-192.024)  dprofit


---- ratio  isobutane makeup to olefin ratio

ratio
                (.LO, .L, .UP, .M = 3, 8, 12, 0)
     (-43.5378) rngyield
      (-0.49)   rngmotor
        1       drat


---- dilute  acid dilution factor

dilute
                (.LO, .L, .UP, .M = 1.2, 3.6, 4, 0)
     (-30.8956) sdef
       (1)      rngddil


---- f4  f-4 performance number

f4
                (.LO, .L, .UP, .M = 145, 145, 162, 0)
        0.222   rngddil
       (1)      rngdf4


---- profit  

profit
                (.LO, .L, .UP, .M = -INF, 872, +INF, 0)
        1       dprofit


---- rangey  

rangey
                (.LO, .L, .UP, .M = 0.9, 1, 1.1, 0)
    (3048)      rngyield


---- rangem  

rangem
                (.LO, .L, .UP, .M = 0.9, 1, 1.1, 0)
      (92.8)    rngmotor
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:30 Page 12
Alkylation Process Optimization  (PROCESS,SEQ=20)
Column Listing      SOLVE rproc Using NLP From line 83


     rangem  



---- ranged  

ranged
                (.LO, .L, .UP, .M = 0.9, 1, 1.1, 0)
       (3.6)    rngddil


---- rangef  

rangef
                (.LO, .L, .UP, .M = 0.9, 1, 1.1, 0)
     (145)      rngdf4

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:30 Page 13
Alkylation Process Optimization  (PROCESS,SEQ=20)
Model Statistics    SOLVE rproc Using NLP From line 83


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS            8
BLOCKS OF VARIABLES          15     SINGLE VARIABLES           15
NON ZERO ELEMENTS            32     NON LINEAR N-Z             19
DERIVATIVE POOL              20     CONSTANT POOL              24
CODE LENGTH                  56


GENERATION TIME      =        0.002 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      2 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:30 Page 14
Alkylation Process Optimization  (PROCESS,SEQ=20)
Solution Report     SOLVE rproc Using NLP From line 83


               S O L V E      S U M M A R Y

     MODEL   rproc               OBJECTIVE  profit
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  83

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/process/convert.opt"
>>  gams process-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/process/convert.opt"
Gams      : process-scalar.gms


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/process/process.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/process/process-scalar.gms.lst
