GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option NLP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 2
An International Gas Trade Model (GTM,SEQ=53)
C o m p i l a t i o n


   3   
       
         The Gas Trade Model (GTM) models interrelated gas markets.
         Prices may be free to move as to equilibrate supplies and
         demand. Disequilibria can be introduced with controls over
         prices and/or quantities traded.
       
       
      Manne, A S, and Beltramo, M A, GTM: An International Gas Trade Model ,
      International Energy Program Report. Stanford University, 1984.
       
  16   
  17   Sets i   supply regions  / mexico, alberta-bc, atlantic, appalacia, us-gulf, mid-cont, permian-b, rockies, pacific
  18                              alaska  /
  19        j   demand regions  / mexico, west-can, ont-quebec, atlantic, new-engl, ny-nj, mid-atl, south-atl, midwest
  20                              south-west, central, n-central, west, n-west /
  21   
  22        jfx(j) regions with fixed demand  / mexico, west-can, ont-quebec, atlantic /
  23   
  24        ij(i,j)  feasible links
  25   
  26   
  27   Table  sdat(i,*)  supply data
  28   
  29               ref-p1   ref-q1   ref-p2   ref-q2   limit
  30  *           ($/mcf)   (tcf)   ($/mcf)   (tcf)    (tcf)
  31   mexico                2.0                .5     2.5
  32   alberta-bc            3.0               1.6     3.75
  33   atlantic               .25                .03     .3
  34   appalacia    3.5       .58      7.0      .65     .72
  35   us-gulf      3.5      7.88      7.0     8.82    9.75
  36   mid-cont     3.5      2.07      7.0     2.31    2.55
  37   permian-b    3.5      1.39      7.0     1.55    1.72
  38   rockies      3.5      1.16      7.0     1.30    1.44
  39   pacific      3.5       .42      7.0      .47     .52
  40   alaska       2.0       .80      2.0      .1       inf
  41   
  42   
  43   Table ddat(j,*)  demand data
  44   
  45               ref-p   ref-q   elas   tax     ex-dem
  46  *           ($/mcf)  (tcf)         ($/mcf)  (tcf)
  47   mexico      1.0     2.2    -.5
  48   west-can    3.0     1.47   -.5
  49   ont-quebec  3.5     1.38   -.5
  50   atlantic    3.5      .20   -.5
  51   new-engl    9.37     .76   -.60
  52   ny-nj       8.33    1.18   -.66
  53   mid-atl     8.26     .89   -.65
  54   south-atl   8.07    1.62   -.89
  55   midwest     8.01    2.96   -.65
  56   south-west  7.29    6.04   -.84
  57   central     7.79    1.17   -.67
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 3
An International Gas Trade Model (GTM,SEQ=53)
C o m p i l a t i o n


  58   n-central   8.06    1.51   -.54
  59   west        8.18    2.10   -.43
  60   n-west      9.39     .36   -.57
  61   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 4
An International Gas Trade Model (GTM,SEQ=53)
C o m p i l a t i o n


  63   
  64   Parameters  supa(i)  supply constant a
  65               supb(i)  supply constant b
  66               supc(i)  supply capacity
  67               dema(j)  demand constant a
  68               demb(j)  demand constant b ;
  69   
  70    supc(i)  =  sdat(i,"limit");
  71    supb(i)  =  ((sdat(i,"ref-p1")-sdat(i,"ref-p2"))/(1/(supc(i)-sdat(i,"ref-q1"))-1/(supc(i)-sdat(i,"ref-q2"))))
  72               $(supc(i) ne inf);
  73    supa(i)  =  sdat(i,"ref-p1") - supb(i)/(supc(i)-sdat(i,"ref-q1"));
  74  *                                     we rely on supa(i) evaluating to exactly zero in some cases
  75    supa(i)  =  round(supa(i),4);
  76    supc(i)$(supc(i) eq inf) = 100;
  77    sdat(i,"sup-a") = supa(i); sdat(i,"sup-b") = supb(i); display sdat;
  78   
  79    demb(j) = 1/ddat(j,"elas") + 1;
  80    dema(j) = ddat(j,"ref-p")/demb(j)/ddat(j,"ref-q")**(demb(j)-1);
  81    ddat(j,"dem-a") = dema(j); ddat(j,"dem-b") = demb(j); display ddat;
  82   
  83   
  84   Table  utc(i,j)  unit transport cost  ($ per mcf)
  85   
  86               mexico  west-can  ont-quebec  atlantic  new-engl  ny-nj  mid-atl  south-atl  midwest  south-west
  87   mexico       .25                                               2.29   2.22      2.03       1.96     1.25
  88   alberta-bc            .40        .90                  1.15     1.10   1.10      1.55        .80     1.25
  89   atlantic                                              1.50
  90   appalacia                                                              .72                  .46
  91   us-gulf                                               2.12     1.08   1.01       .82        .75      .04
  92   mid-cont                                                                                    .86      .14
  93   permian-b                                                                        .83        .77      .05
  94   rockies                                                                                     .53
  95   alaska                                                                                     6.0
  96   
  97   +           central  n-central  west  n-west
  98   mexico                          2.13
  99   alberta-bc    .80      .65       .70    .65
 100   us-gulf       .54
 101   mid-cont      .64
 102   permian-b     .55                .94
 103   rockies       .31      .58       .70   1.91
 104   pacific                          .43
 105   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 5
An International Gas Trade Model (GTM,SEQ=53)
C o m p i l a t i o n


 107   
 108   Table  pc(i,j)   pipeline capacities (tcf)
 109   
 110               mexico  west-can  ont-quebec  atlantic  new-engl  ny-nj  mid-atl  south-atl  midwest  south-west
 111   mexico        inf                                              .067   .067     .067       .067
 112   alberta-bc            inf       inf                   .30      .150   .10                  inf
 113   atlantic                                    inf        inf
 114   appalacia                                                             .34                 .35
 115   us-gulf                                                inf    1.390  1.060    2.0        2.62       3.73
 116   mid-cont                                                                                  .62       2.30
 117   permian-b                                                                                 .12       1.45
 118   rockies                                                                                   .48
 119   alaska                                                                                    .80
 120   
 121   +           central  n-central  west  n-west
 122   mexico                          .033
 123   alberta-bc    inf       inf      inf    inf
 124   mid-cont    1.03
 125   permian-b                      1.46
 126   rockies      .14        inf     .10     inf
 127   pacific                         .48
 128   
 129   Sets  check1(i,j)  supply links with zero cost and non-zero capacity
 130         check2(i,j)  supply links with nonzero cost but zero capacity ;
 131   
 132    check1(i,j) = yes$(utc(i,j) eq 0 and pc(i,j) ne 0);
 133    check2(i,j) = yes$(utc(i,j) ne 0 and pc(i,j) eq 0);
 134   
 135    ij(i,j) = yes$pc(i,j);
 136   
 137    Display check1, check2;
 138   
 139   Variables  x(i,j)  shipment of natural gas (tcf)
 140              s(i)    regional supply         (tcf)
 141              d(j)    regional demand         (tcf)
 142              benefit consumers benefits minus cost
 143   
 144   Positive Variables x, s, d;
 145   
 146   Equations sb(i)    supply balance          (tcf)
 147             db(j)    demand balance          (tcf)
 148             bdef     benefit definition ;
 149   
 150   sb(i)..   sum(j$ij(i,j), x(i,j)) =l= s(i) ;
 151   
 152   db(j)..   sum(i$ij(i,j), x(i,j)) =g= d(j) ;
 153   
 154   bdef..    benefit =e= sum(j, dema(j)*d(j)**demb(j)) - sum(i, supa(i)*s(i) - supb(i)*log((supc(i)-s(i))/supc(i)))
 155                       - sum((i,j)$ij(i,j), utc(i,j)*x(i,j));
 156   
 157   x.up(i,j) = pc(i,j); d.lo(j) = .2; d.fx(jfx) = ddat(jfx,"ref-q"); s.up(i) = 0.99*supc(i);
 158   
 159   Model gtm gas transport model / all /;  solve gtm maximizing benefit using nlp;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 6
An International Gas Trade Model (GTM,SEQ=53)
C o m p i l a t i o n


 160   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 7
An International Gas Trade Model (GTM,SEQ=53)
C o m p i l a t i o n


 162   
 163   Parameter report1(i,*) supply summary report
 164             report2(j,*) demand summary report ;
 165   
 166   report1(i,"supply") = s.l(i); report1(i,"capacity") = s.up(i); report1(i,"price") = sb.m(i);
 167   report2(j,"demand") = d.l(j); report2(j,"price") = -db.m(j);
 168   
 169   Display report1, report2, x.l;


COMPILATION TIME     =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 8
An International Gas Trade Model (GTM,SEQ=53)
E x e c u t i o n


----     77 PARAMETER sdat  supply data

                ref-p1      ref-q1      ref-p2      ref-q2       limit       sup-a       sup-b

mexico                       2.000                   0.500       2.500
alberta-bc                   3.000                   1.600       3.750
atlantic                     0.250                   0.030       0.300
appalacia        3.500       0.580       7.000       0.650       0.720                   0.490
us-gulf          3.500       7.880       7.000       8.820       9.750       0.037       6.475
mid-cont         3.500       2.070       7.000       2.310       2.550                   1.680
permian-b        3.500       1.390       7.000       1.550       1.720      -0.219       1.227
rockies          3.500       1.160       7.000       1.300       1.440                   0.980
pacific          3.500       0.420       7.000       0.470       0.520                   0.350
alaska           2.000       0.800       2.000       0.100        +INF       2.000


----     81 PARAMETER ddat  demand data

                 ref-p       ref-q        elas       dem-a       dem-b

mexico           1.000       2.200      -0.500      -4.840      -1.000
atlantic         3.500       0.200      -0.500      -0.140      -1.000
west-can         3.000       1.470      -0.500      -6.483      -1.000
ont-quebec       3.500       1.380      -0.500      -6.665      -1.000
new-engl         9.370       0.760      -0.600      -8.896      -0.667
ny-nj            8.330       1.180      -0.660     -20.779      -0.515
mid-atl          8.260       0.890      -0.650     -12.822      -0.538
south-atl        8.070       1.620      -0.890    -112.274      -0.124
midwest          8.010       2.960      -0.650     -78.985      -0.538
south-west       7.290       6.040      -0.840    -325.606      -0.190
central          7.790       1.170      -0.670     -19.993      -0.493
n-central        8.060       1.510      -0.540     -20.296      -0.852
west             8.180       2.100      -0.430     -34.649      -1.326
n-west           9.390       0.360      -0.570      -2.073      -0.754


----    137 SET check1  supply links with zero cost and non-zero capacity

            atlantic

atlantic         YES


----    137 SET check2  supply links with nonzero cost but zero capacity

             south-atl  south-west     central

mexico                         YES
alberta-bc         YES         YES
us-gulf                                    YES
permian-b          YES                     YES

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:38 Page 9
An International Gas Trade Model (GTM,SEQ=53)
Equation Listing    SOLVE gtm Using NLP From line 159


---- sb  =L=  supply balance          (tcf)

sb(mexico)..  x(mexico,mexico) + x(mexico,ny-nj) + x(mexico,mid-atl) + x(mexico,south-atl) + x(mexico,midwest) + x(mexico,west) - s(mexico) =L= 0 ; (LHS = 0)
     
sb(alberta-bc)..  x(alberta-bc,west-can) + x(alberta-bc,ont-quebec) + x(alberta-bc,new-engl) + x(alberta-bc,ny-nj) + x(alberta-bc,mid-atl) + x(alberta-bc,midwest) + x(alberta-bc,central) + x(alberta-bc,n-central) + x(alberta-bc,west)
     
      + x(alberta-bc,n-west) - s(alberta-bc) =L= 0 ; (LHS = 0)
     
sb(atlantic)..  x(atlantic,atlantic) + x(atlantic,new-engl) - s(atlantic) =L= 0 ; (LHS = 0)
     
REMAINING 7 ENTRIES SKIPPED


---- db  =G=  demand balance          (tcf)

db(mexico)..  x(mexico,mexico) - d(mexico) =G= 0 ; (LHS = -2.2, INFES = 2.2 ****)
     
db(atlantic)..  x(atlantic,atlantic) - d(atlantic) =G= 0 ; (LHS = -0.2, INFES = 0.2 ****)
     
db(west-can)..  x(alberta-bc,west-can) - d(west-can) =G= 0 ; (LHS = -1.47, INFES = 1.47 ****)
     
REMAINING 11 ENTRIES SKIPPED


---- bdef  =E=  benefit definition

bdef..  0.25*x(mexico,mexico) + 2.29*x(mexico,ny-nj) + 2.22*x(mexico,mid-atl) + 2.03*x(mexico,south-atl) + 1.96*x(mexico,midwest) + 2.13*x(mexico,west) + 0.4*x(alberta-bc,west-can) + 0.9*x(alberta-bc,ont-quebec) + 1.15*x(alberta-bc,new-engl)
     
      + 1.1*x(alberta-bc,ny-nj) + 1.1*x(alberta-bc,mid-atl) + 0.8*x(alberta-bc,midwest) + 0.8*x(alberta-bc,central) + 0.65*x(alberta-bc,n-central) + 0.7*x(alberta-bc,west) + 0.65*x(alberta-bc,n-west) + 1.5*x(atlantic,new-engl) + 0.72*x(appalacia,mid-atl)
     
      + 0.46*x(appalacia,midwest) + 2.12*x(us-gulf,new-engl) + 1.08*x(us-gulf,ny-nj) + 1.01*x(us-gulf,mid-atl) + 0.82*x(us-gulf,south-atl) + 0.75*x(us-gulf,midwest) + 0.04*x(us-gulf,south-west) + 0.86*x(mid-cont,midwest) + 0.14*x(mid-cont,south-west)
     
      + 0.64*x(mid-cont,central) + 0.77*x(permian-b,midwest) + 0.05*x(permian-b,south-west) + 0.94*x(permian-b,west) + 0.53*x(rockies,midwest) + 0.31*x(rockies,central) + 0.58*x(rockies,n-central) + 0.7*x(rockies,west) + 1.91*x(rockies,n-west)
     
      + 0.43*x(pacific,west) + 6*x(alaska,midwest) + (0.680555555555555)*s(appalacia) + (0.701340752864157)*s(us-gulf) + (0.658823529411764)*s(mid-cont) + (0.494781104651162)*s(permian-b) + (0.680555555555555)*s(rockies) + (0.673076923076924)*s(pacific)
     
      + 2*s(alaska) - (1)*d(mexico) - (3.5)*d(atlantic) - (3)*d(west-can) - (3.5)*d(ont-quebec) - (86.7052880246952)*d(new-engl) - (122.631656523028)*d(ny-nj) - (82.1215215304926)*d(mid-atl) - (84.6531686584925)*d(south-atl)
     
      - (505.865609019639)*d(midwest) - (421.347630201176)*d(south-west) - (108.779288287036)*d(central) - (340.53576444342)*d(n-central) - (1939.15327802614)*d(west) - (26.3337126595196)*d(n-west) + benefit =E= 0 ;
     
      (LHS = 1307.23433177483, INFES = 1307.23433177483 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:38 Page 10
An International Gas Trade Model (GTM,SEQ=53)
Column Listing      SOLVE gtm Using NLP From line 159


---- x  shipment of natural gas (tcf)

x(mexico,mexico)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       sb(mexico)
        1       db(mexico)
        0.25    bdef

x(mexico,ny-nj)
                (.LO, .L, .UP, .M = 0, 0, 0.067, 0)
        1       sb(mexico)
        1       db(ny-nj)
        2.29    bdef

x(mexico,mid-atl)
                (.LO, .L, .UP, .M = 0, 0, 0.067, 0)
        1       sb(mexico)
        1       db(mid-atl)
        2.22    bdef

REMAINING 36 ENTRIES SKIPPED

---- s  regional supply         (tcf)

s(mexico)
                (.LO, .L, .UP, .M = 0, 0, 2.475, 0)
       -1       sb(mexico)

s(alberta-bc)
                (.LO, .L, .UP, .M = 0, 0, 3.7125, 0)
       -1       sb(alberta-bc)

s(atlantic)
                (.LO, .L, .UP, .M = 0, 0, 0.297, 0)
       -1       sb(atlantic)

REMAINING 7 ENTRIES SKIPPED

---- d  regional demand         (tcf)

d(mexico)
                (.LO, .L, .UP, .M = 2.2, 2.2, 2.2, 0)
       -1       db(mexico)
      (-1)      bdef

d(atlantic)
                (.LO, .L, .UP, .M = 0.2, 0.2, 0.2, 0)
       -1       db(atlantic)
      (-3.5)    bdef

d(west-can)
                (.LO, .L, .UP, .M = 1.47, 1.47, 1.47, 0)
       -1       db(west-can)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:38 Page 11
An International Gas Trade Model (GTM,SEQ=53)
Column Listing      SOLVE gtm Using NLP From line 159


     d  regional demand         (tcf)

      (-3)      bdef

REMAINING 11 ENTRIES SKIPPED

---- benefit  consumers benefits minus cost

benefit
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       bdef

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:38 Page 12
An International Gas Trade Model (GTM,SEQ=53)
Model Statistics    SOLVE gtm Using NLP From line 159


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS           25
BLOCKS OF VARIABLES           4     SINGLE VARIABLES           64  10 projected
NON ZERO ELEMENTS           162     NON LINEAR N-Z             20
DERIVATIVE POOL              20     CONSTANT POOL              58
CODE LENGTH                 103


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:38 Page 13
An International Gas Trade Model (GTM,SEQ=53)
Solution Report     SOLVE gtm Using NLP From line 159


               S O L V E      S U M M A R Y

     MODEL   gtm                 OBJECTIVE  benefit
     TYPE    NLP                 DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  159

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/gtm/convert.opt"
>>  ampl gtm-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/gtm/convert.opt"
Ampl      : gtm-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:38 Page 14
An International Gas Trade Model (GTM,SEQ=53)
E x e c u t i o n


----    169 PARAMETER report1  supply summary report

              capacity

mexico           2.475
alberta-bc       3.713
atlantic         0.297
appalacia        0.713
us-gulf          9.653
mid-cont         2.524
permian-b        1.703
rockies          1.426
pacific          0.515
alaska          99.000


----    169 PARAMETER report2  demand summary report

                demand

mexico           2.200
atlantic         0.200
west-can         1.470
ont-quebec       1.380


----    169 VARIABLE x.L  shipment of natural gas (tcf)

                      ( ALL       0.000 )



EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/gtm/gtm.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/gtm/gtm-scalar.mod.lst
