GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 2
Vertically Integrated Company  (PAPERCO,SEQ=102)
C o m p i l a t i o n


   4   
       
         This is an alternative formulation of the model PAPERCO found in
         Computational Economics, Chapter 9. This version introduces
         several sets to partition the equation and variable space into
         four groups. This example further shows how to implement the
         suggested scenarios by using a LOOP statement.
       
       
      Thompson, G, and Thor, S, Computational Economics: Economic Modeling
      with Optimization Software. The Scientific Press, San Francisco, 1991.
       
  18   
  19  Sets  l  log suppliers  / company, farmer /
  20        w  wood products  / ground, chips /
  21        p  pulp types     / pulp-1, pulp-2 /
  22        q  paper types    / kraft, newsprint, printing /
  23   
  24   
  25  Table ap(w,p) pulp manufacturing input requirements
  26   
  27             pulp-1   pulp-2
  28  ground      .6        .3
  29  chips       .4        .7
  30   
  31  Table aq(p,q) paper manufacturing input requirements
  32   
  33              kraft  newsprint  printing
  34  pulp-1       .68      .45        .25
  35  pulp-2       .32      .55        .75
  36   
  37   
  38  Table cw(w,p) wood shipment cost
  39   
  40              pulp-1   pulp-2
  41  (ground
  42   chips )     40        55
  43   
  44  Table cp(p,q) pulp shipment cost
  45   
  46              kraft  newsprint  printing
  47  pulp-1        40      60         70
  48  pulp-2        55      50         45
  49   
  50  Table sdat(q,*) sales data
  51   
  52               lower     upper
  53  kraft         18        25
  54  newsprint     12        15
  55  printing       0         7
  56   
  57  Parameter pq(q) sales price / kraft 265, newsprint 275, printing 310 /
  58            pp(p) price of pulp
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 3
Vertically Integrated Company  (PAPERCO,SEQ=102)
C o m p i l a t i o n


  59            pc(w) / ground 18, chips 16 /
  60   
  61  Scalar plog / 65 /
  62   
  63  Positive Variables
  64   
  65     logs(l)         purchases of logs (tons)
  66     xw(w,p)         shipments of wood products (tons)
  67     pulp(p)         production of pulp (tons)
  68     xp(p,q)         shipments of pulp (tons)
  69     paper(q)        production and sales of paper products (tons)
  70     sales(p)        sales of pulp (tons)
  71     purchase(p)     purchase of pulp (tons)
  72  Variables
  73     profit          net operating income
  74   
  75  Equations
  76     logbal
  77     wbal(w,p)
  78     pbal(p)
  79     qbal(p,q)
  80     obj;
  81   
  82  logbal..     .97*sum(l, logs(l)) =e= sum((w,p), xw(w,p));
  83   
  84  wbal(w,p)..   xw(w,p) =e= ap(w,p)*pulp(p);
  85   
  86  pbal(p)..     sum(q, xp(p,q)) =e= purchase(p) - sales(p) + pulp(p);
  87   
  88  qbal(p,q)..   xp(p,q) =e= aq(p,q)*paper(q);
  89   
  90  obj..  profit =e= sum(p, pp(p)*sales(p))              { sales of pulp }
  91                  + sum(q, pq(q)*paper(q))              { sales of paper }
  92                  - sum(l, plog*logs(l))                { cost of logs }
  93                  - sum((p,q), cp(p,q)*xp(p,q))         { transport cost of pulp }
  94                  - sum((w,p), (cw(w,p)+pc(w))*xw(w,p)) { transport cost of wood }
  95                  - sum(p, pp(p)*purchase(p));
  96   
  97  Model wood / all /;
  98   
  99  paper.lo(q) = sdat(q,'lower');
 100  paper.up(q) = sdat(q,'upper');
 101   
 102  Set scenario scenario identifier  / scenario-1*scenario-3 /
 103   
 104  Table  psdat(scenario,p,*) bounds on pulp trade (tons)
 105   
 106                 pulp-1.s pulp-1.p   pulp-2.s pulp-2.p
 107  scenario-1
 108  scenario-2        3        5          3        5
 109  scenario-3        6        6         10       10
 110   
 111  Table  ppdat(scenario,p) price data for pulp trade ($ per tons)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 4
Vertically Integrated Company  (PAPERCO,SEQ=102)
C o m p i l a t i o n


 112   
 113                 pulp-1  pulp-2
 114  scenario-1       120     140
 115  scenario-2       120     140
 116  scenario-3       120     150
 117   
 118  Loop(scenario,
 119     purchase.up(p) = psdat(scenario,p,'p');
 120     sales.up(p)    = psdat(scenario,p,'s');
 121     pp(p)          = ppdat(scenario,p);
 122     Solve wood maximizing profit using lp;
 123     Option limcol=0, limrow=0 ;              );
 124   


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 5
Vertically Integrated Company  (PAPERCO,SEQ=102)
Equation Listing    SOLVE wood Using LP From line 122


---- logbal  =E=  

logbal..  0.97*logs(company) + 0.97*logs(farmer) - xw(ground,pulp-1) - xw(ground,pulp-2) - xw(chips,pulp-1) - xw(chips,pulp-2) =E= 0 ; (LHS = 0)
     

---- wbal  =E=  

wbal(ground,pulp-1)..  xw(ground,pulp-1) - 0.6*pulp(pulp-1) =E= 0 ; (LHS = 0)
     
wbal(ground,pulp-2)..  xw(ground,pulp-2) - 0.3*pulp(pulp-2) =E= 0 ; (LHS = 0)
     
wbal(chips,pulp-1)..  xw(chips,pulp-1) - 0.4*pulp(pulp-1) =E= 0 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED


---- pbal  =E=  

pbal(pulp-1)..  - pulp(pulp-1) + xp(pulp-1,kraft) + xp(pulp-1,newsprint) + xp(pulp-1,printing) + sales(pulp-1) - purchase(pulp-1) =E= 0 ; (LHS = 0)
     
pbal(pulp-2)..  - pulp(pulp-2) + xp(pulp-2,kraft) + xp(pulp-2,newsprint) + xp(pulp-2,printing) + sales(pulp-2) - purchase(pulp-2) =E= 0 ; (LHS = 0)
     

---- qbal  =E=  

qbal(pulp-1,kraft)..  xp(pulp-1,kraft) - 0.68*paper(kraft) =E= 0 ; (LHS = -12.24, INFES = 12.24 ****)
     
qbal(pulp-1,newsprint)..  xp(pulp-1,newsprint) - 0.45*paper(newsprint) =E= 0 ; (LHS = -5.4, INFES = 5.4 ****)
     
qbal(pulp-1,printing)..  xp(pulp-1,printing) - 0.25*paper(printing) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- obj  =E=  

obj..  65*logs(company) + 65*logs(farmer) + 58*xw(ground,pulp-1) + 73*xw(ground,pulp-2) + 56*xw(chips,pulp-1) + 71*xw(chips,pulp-2) + 40*xp(pulp-1,kraft) + 60*xp(pulp-1,newsprint) + 70*xp(pulp-1,printing) + 55*xp(pulp-2,kraft) + 50*xp(pulp-2,newsprint)
     
      + 45*xp(pulp-2,printing) - 265*paper(kraft) - 275*paper(newsprint) - 310*paper(printing) - 120*sales(pulp-1) - 140*sales(pulp-2) + 120*purchase(pulp-1) + 140*purchase(pulp-2) + profit =E= 0 ; (LHS = -8070, INFES = 8070 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 6
Vertically Integrated Company  (PAPERCO,SEQ=102)
Column Listing      SOLVE wood Using LP From line 122


---- logs  purchases of logs (tons)

logs(company)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        0.97    logbal
       65       obj

logs(farmer)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        0.97    logbal
       65       obj


---- xw  shipments of wood products (tons)

xw(ground,pulp-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       logbal
        1       wbal(ground,pulp-1)
       58       obj

xw(ground,pulp-2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       logbal
        1       wbal(ground,pulp-2)
       73       obj

xw(chips,pulp-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       logbal
        1       wbal(chips,pulp-1)
       56       obj

REMAINING ENTRY SKIPPED

---- pulp  production of pulp (tons)

pulp(pulp-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -0.6     wbal(ground,pulp-1)
       -0.4     wbal(chips,pulp-1)
       -1       pbal(pulp-1)

pulp(pulp-2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -0.3     wbal(ground,pulp-2)
       -0.7     wbal(chips,pulp-2)
       -1       pbal(pulp-2)

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 7
Vertically Integrated Company  (PAPERCO,SEQ=102)
Column Listing      SOLVE wood Using LP From line 122


---- xp  shipments of pulp (tons)

xp(pulp-1,kraft)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       pbal(pulp-1)
        1       qbal(pulp-1,kraft)
       40       obj

xp(pulp-1,newsprint)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       pbal(pulp-1)
        1       qbal(pulp-1,newsprint)
       60       obj

xp(pulp-1,printing)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       pbal(pulp-1)
        1       qbal(pulp-1,printing)
       70       obj

REMAINING 3 ENTRIES SKIPPED

---- paper  production and sales of paper products (tons)

paper(kraft)
                (.LO, .L, .UP, .M = 18, 18, 25, 0)
       -0.68    qbal(pulp-1,kraft)
       -0.32    qbal(pulp-2,kraft)
     -265       obj
        0       (OLD LEVEL ****)

paper(newsprint)
                (.LO, .L, .UP, .M = 12, 12, 15, 0)
       -0.45    qbal(pulp-1,newsprint)
       -0.55    qbal(pulp-2,newsprint)
     -275       obj
        0       (OLD LEVEL ****)

paper(printing)
                (.LO, .L, .UP, .M = 0, 0, 7, 0)
       -0.25    qbal(pulp-1,printing)
       -0.75    qbal(pulp-2,printing)
     -310       obj


---- sales  sales of pulp (tons)

sales(pulp-1)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       pbal(pulp-1)
     -120       obj

sales(pulp-2)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 8
Vertically Integrated Company  (PAPERCO,SEQ=102)
Column Listing      SOLVE wood Using LP From line 122


     sales  sales of pulp (tons)

                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       pbal(pulp-2)
     -140       obj


---- purchase  purchase of pulp (tons)

purchase(pulp-1)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
       -1       pbal(pulp-1)
      120       obj

purchase(pulp-2)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
       -1       pbal(pulp-2)
      140       obj


---- profit  net operating income

profit
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:47 Page 9
Vertically Integrated Company  (PAPERCO,SEQ=102)
Model Statistics    SOLVE wood Using LP From line 122


LOOPS                             scenario   scenario-1


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS           14
BLOCKS OF VARIABLES           8     SINGLE VARIABLES           22  2 projected
NON ZERO ELEMENTS            58


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
               L O O P S           scenario scenario-1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:47 Page 10
Vertically Integrated Company  (PAPERCO,SEQ=102)
Solution Report     SOLVE wood Using LP From line 122


               S O L V E      S U M M A R Y

     MODEL   wood                OBJECTIVE  profit
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  122

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/paperco/convert.opt"
>>  ampl paperco-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/paperco/convert.opt"
Ampl      : paperco-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:47 Page 11
Vertically Integrated Company  (PAPERCO,SEQ=102)
Model Statistics    SOLVE wood Using LP From line 122


LOOPS                             scenario   scenario-2


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS           14
BLOCKS OF VARIABLES           8     SINGLE VARIABLES           22  2 projected
NON ZERO ELEMENTS            58


GENERATION TIME      =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
               L O O P S           scenario scenario-2

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:47 Page 12
Vertically Integrated Company  (PAPERCO,SEQ=102)
Solution Report     SOLVE wood Using LP From line 122


               S O L V E      S U M M A R Y

     MODEL   wood                OBJECTIVE  profit
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  122

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/paperco/convert.opt"
>>  ampl paperco-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/paperco/convert.opt"
Ampl      : paperco-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:47 Page 13
Vertically Integrated Company  (PAPERCO,SEQ=102)
Model Statistics    SOLVE wood Using LP From line 122


LOOPS                             scenario   scenario-3


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS           14
BLOCKS OF VARIABLES           8     SINGLE VARIABLES           22  2 projected
NON ZERO ELEMENTS            58


GENERATION TIME      =        0.002 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
               L O O P S           scenario scenario-3

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:47 Page 14
Vertically Integrated Company  (PAPERCO,SEQ=102)
Solution Report     SOLVE wood Using LP From line 122


               S O L V E      S U M M A R Y

     MODEL   wood                OBJECTIVE  profit
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  122

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/paperco/convert.opt"
>>  ampl paperco-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/paperco/convert.opt"
Ampl      : paperco-scalar.mod


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:47 Page 15
Vertically Integrated Company  (PAPERCO,SEQ=102)
E x e c u t i o n


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/paperco/paperco.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/paperco/paperco-scalar.mod.lst
