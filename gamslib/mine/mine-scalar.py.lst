GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
   3  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 2
Opencast Mining   (MINE,SEQ=39)
C o m p i l a t i o n


   5   
       
      This model finds an optimal extraction schedule for an opencast mine
      with a side angle of 45 degrees and square plots. The extraction blocks
      are identified by level, row and column number, with the surface blocks
      having level number one.
       
       
      Williams, H P, Model Building in Mathematical Programming. John Wiley
      and Sons, 1978.
       
  18   
  19   
  20   Set l identifiers for level row and column labels  / 1*4 /;
  21   Alias(l,i,j);
  22   
  23   
  24   Table conc(l,i,j)  estimated ore concentration (percent metal)
  25   
  26                      1    2    3    4
  27   
  28            1.1     1.5  1.5  1.5  .75
  29            1.2     1.5  2.0  1.5  .75
  30            1.3     1.0  1.0  .75  .50
  31            1.4     .75  .75  .50  .25
  32   
  33            2.1       4    4    2
  34            2.2       3    3    1
  35            2.3       2    2   .5
  36   
  37            3.1      12    6
  38            3.2       5    4
  39   
  40            4.1       6
  41   
  42   Sets  k         location of four neighboring blocks / nw, "ne", se, sw /
  43         c(l,i,j)  neighboring blocks related to extraction feasibility
  44         d(l,i,j)  complete set of block identifiers
  45   
  46   Parameters li(k)   lead for i  / (se,sw)  = 1 /
  47              lj(k)   lead for j  / ("ne",se) = 1 /
  48              cost(l) block extraction cost  / 1=3000, 2=6000, 3=8000, 4=10000 /
  49   
  50   Scalar value  extracted block value if 100 percent metal / 200000 / ;
  51   
  52   c(l,i,j) = yes$((ord(l) + ord(i)) le card(l) and (ord(l) + ord(j)) le card(l)); display c;
  53   d(l,i,j) = yes$(ord(l) + ord(i) le card(l) + 1 and ord(l) + ord(j) le card(l) + 1); display d;
  54   
  55   Variables x(l,i,j)   extraction of blocks
  56             profit
  57   
  58   Positive Variable x
  59   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 3
Opencast Mining   (MINE,SEQ=39)
C o m p i l a t i o n


  60   Equations pr(k,l,i,j)  precedence relationships
  61             def          profit definition ;
  62   
  63   def.. profit =e= sum((l,i,j)$d(l,i,j), (conc(l,i,j)*value/100 - cost(l))*x(l,i,j)) ;
  64   
  65   pr(k,l+1,i,j)$c(l,i,j).. x(l,i+li(k),j+lj(k)) =g= x(l+1,i,j);
  66   
  67   x.up(l,i,j) = 1;
  68   
  69   Model mine /all/ ;
  70   Solve mine maximizing profit using lp;
  71   
  72   Parameter rep(i,j,l) extraction decision table;
  73   rep(i,j,l) = x.l(l,i,j);
  74   Display rep;


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 4
Opencast Mining   (MINE,SEQ=39)
E x e c u t i o n


----     52 SET c  neighboring blocks related to extraction feasibility

              1           2           3

1.1         YES         YES         YES
1.2         YES         YES         YES
1.3         YES         YES         YES
2.1         YES         YES
2.2         YES         YES
3.1         YES


----     53 SET d  complete set of block identifiers

              1           2           3           4

1.1         YES         YES         YES         YES
1.2         YES         YES         YES         YES
1.3         YES         YES         YES         YES
1.4         YES         YES         YES         YES
2.1         YES         YES         YES
2.2         YES         YES         YES
2.3         YES         YES         YES
3.1         YES         YES
3.2         YES         YES
4.1         YES

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 5
Opencast Mining   (MINE,SEQ=39)
Equation Listing    SOLVE mine Using LP From line 70


---- pr  =G=  precedence relationships

pr(nw,2,1,1)..  x(1,1,1) - x(2,1,1) =G= 0 ; (LHS = 0)
     
pr(nw,2,1,2)..  x(1,1,2) - x(2,1,2) =G= 0 ; (LHS = 0)
     
pr(nw,2,1,3)..  x(1,1,3) - x(2,1,3) =G= 0 ; (LHS = 0)
     
REMAINING 53 ENTRIES SKIPPED


---- def  =E=  profit definition

def..  1500*x(1,1,4) - 1000*x(1,2,2) + 1500*x(1,2,4) + 1000*x(1,3,1) + 1000*x(1,3,2) + 1500*x(1,3,3) + 2000*x(1,3,4) + 1500*x(1,4,1) + 1500*x(1,4,2) + 2000*x(1,4,3) + 2500*x(1,4,4) - 2000*x(2,1,1) - 2000*x(2,1,2) + 2000*x(2,1,3) + 4000*x(2,2,3)
     
      + 2000*x(2,3,1) + 2000*x(2,3,2) + 5000*x(2,3,3) - 16000*x(3,1,1) - 4000*x(3,1,2) - 2000*x(3,2,1) - 2000*x(4,1,1) + profit =E= 0 ; (LHS = 0)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 6
Opencast Mining   (MINE,SEQ=39)
Column Listing      SOLVE mine Using LP From line 70


---- x  extraction of blocks

x(1,1,1)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       pr(nw,2,1,1)

x(1,1,2)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       pr(nw,2,1,2)
        1       pr(ne,2,1,1)

x(1,1,3)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       pr(nw,2,1,3)
        1       pr(ne,2,1,2)

REMAINING 27 ENTRIES SKIPPED

---- profit  

profit
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       def

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 7
Opencast Mining   (MINE,SEQ=39)
Model Statistics    SOLVE mine Using LP From line 70


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS           57
BLOCKS OF VARIABLES           2     SINGLE VARIABLES           31
NON ZERO ELEMENTS           135


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 8
Opencast Mining   (MINE,SEQ=39)
Solution Report     SOLVE mine Using LP From line 70


               S O L V E      S U M M A R Y

     MODEL   mine                OBJECTIVE  profit
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  70

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/mine/convert.opt"
>>  pyomo mine-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/mine/convert.opt"
Pyomo     : mine-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:36 Page 9
Opencast Mining   (MINE,SEQ=39)
E x e c u t i o n


----     74 PARAMETER rep  extraction decision table

                      ( ALL       0.000 )



EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/mine/mine.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/mine/mine-scalar.py.lst
