GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 2
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
C o m p i l a t i o n


   3   
       
      This example of a typical two echelon production, distribution and inventory
      problem (pdi) is taken from the arcnet user guide.
       
       
      ARCNET, ARCNET User Guide, Analysis, Research and Computation,
      Austin, Texas, 1982.
       
  14   
  15   
  16   Sets  p   production facilities   / one, two, three /
  17         d   distribution centers    / east, south, west, north /
  18         c   customer zones          / 1, 2, 3, 4, 5 /
  19         m   month                   / january, february, march, april /
  20   
  21   Table pfd(p,*)  production facility data (table 12.1)
  22   
  23            min-prod  max-prod  over-prod "prod-cost" over-cost
  24  *         (units)   (units)   (units)    ($/unit)   ($/unit)
  25   one                 5000       1000       35         45
  26   two        1200     3000        500       40         43
  27   three       700     1500                  38
  28   
  29    Table fdec(p,d) first distribution echelon cost ($ per unit)
  30   
  31             east  south  west  north
  32   one        10    12
  33   two               8      4     5
  34   three                    6     8
  35   
  36    Table sdec(d,c) second distribution echelon cost ($ per unit)
  37   
  38              1   2   3   4   5
  39   east      15  19
  40   south         20  22  18
  41   west          16      18  19
  42   north                 15  21
  43   
  44   Set pd(p,d), dc(d,c); pd(p,d) = yes$fdec(p,d); dc(d,c) = yes$sdec(d,c);
  45   
  46   Display pd,dc,sdec;
  47   
  48   
  49   Table dcd(d,*)  distribution center data (table 12.3)
  50   
  51           max-invent  hold-cost
  52  *         (units)     ($/unit)
  53   east      3000          2
  54   south     2500          2
  55   west      4000          1
  56   north     2500          3
  57   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 3
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
C o m p i l a t i o n


  58   Table czd(c,*)  customer zone data (table 12.5)
  59   
  60           min-demand  max-demand  revenue
  61  *         (units)     (units)     ($/unit)
  62   1      2000         2500        70
  63   2                   2500        68
  64   3      2000         3000        65
  65   4      1500         2000        72
  66   5      1500         3000        71
  67   
  68   
  69   Parameter pc(p,m)   production cost normal shift
  70             pco(p,m)  production cost overtime
  71             revfac(m) revenue factor / (january,february) = 1,  (march,april) = 1.1 /;
  72   
  73      pc(p,m) = pfd(p,"prod-cost") + floor(2**(ord(m)-1)/2);
  74      pco(p,m)= pfd(p,"over-cost") + ord(m) - (ord(m) lt card(m));
  75   
  76   Display pc, pco, revfac;
  77   
  78   Variables  x(p,d,m)  shipments from production to distribution
  79              y(d,c,m)  shipments from distribution centers to markets
  80              pn(p,m)   production
  81              po(p,m)   production: overtime
  82              s(d,m)    storage level
  83              dm(c)     demand level
  84              h(d,m)    handling
  85              profit, revenue, transport, production, holding
  86   
  87   Positive Variables x, y, pn, po, s, h;
  88   
  89   Equations  ib(d,m) inventory balance
  90              pb(p,m) production balance
  91              hb(d,m) handling balance
  92              db(c,m) demand balance
  93              ar      revenue balance
  94              at      transport balance
  95              ap      production cost balance
  96              ah      inventory holding cost definition
  97              apr     profit definition ;
  98   
  99   ib(d,m)..  h(d,m) =e= s(d,m-1) + sum(p$pd(p,d), x(p,d,m));
 100   
 101   pb(p,m)..  pn(p,m) + po(p,m) =e= sum(d$pd(p,d), x(p,d,m));
 102   
 103   hb(d,m)..  s(d,m) =e= h(d,m) - sum(c$dc(d,c), y(d,c,m)) ;
 104   
 105   db(c,m)..  sum(d$dc(d,c), y(d,c,m)) =e= dm(c);
 106   
 107   ar.. revenue    =e= sum((d,c,m)$dc(d,c), revfac(m)*czd(c,"revenue")*y(d,c,m));
 108   
 109   at.. transport  =e= sum((d,m), sum(p$pd(p,d), fdec(p,d)*x(p,d,m)) + sum(c$dc(d,c), sdec(d,c)*y(d,c,m)));
 110   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 4
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
C o m p i l a t i o n


 111   ap.. production =e= sum((p,m), pc(p,m)*pn(p,m) + pco(p,m)*po(p,m));
 112   
 113   ah.. holding    =e= sum((d,m), dcd(d,"hold-cost")*s(d,m));
 114   
 115   apr..profit     =e= revenue - transport - production - holding + 10 ;
 116   
 117   Model pdi / all /;
 118   
 119   s.lo(d,"april") = 200; h.up(d,m) = dcd(d,"max-invent");
 120   pn.lo(p,m) = pfd(p,"min-prod"); pn.up(p,m) = pfd(p,"max-prod");
 121   po.up(p,m) = pfd(p,"over-prod"); dm.lo(c) = czd(c,"min-demand"); dm.up(c) = czd(c,"max-demand");
 122   
 123   Display h.up, pn.lo;
 124   
 125   Solve pdi maximizing profit using lp;


COMPILATION TIME     =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 5
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
E x e c u t i o n


----     46 SET pd  

             east       south        west       north

one           YES         YES
two                       YES         YES         YES
three                                 YES         YES


----     46 SET dc  

                1           2           3           4           5

east          YES         YES
south                     YES         YES         YES
west                      YES                     YES         YES
north                                             YES         YES


----     46 PARAMETER sdec  second distribution echelon cost ($ per unit)

                1           2           3           4           5

east       15.000      19.000
south                  20.000      22.000      18.000
west                   16.000                  18.000      19.000
north                                          15.000      21.000


----     76 PARAMETER pc  production cost normal shift

          january    february       march       april

one        35.000      36.000      37.000      38.000
two        40.000      41.000      42.000      43.000
three      38.000      39.000      40.000      41.000


----     76 PARAMETER pco  production cost overtime

          january    february       march       april

one        45.000      46.000      47.000      49.000
two        43.000      44.000      45.000      47.000
three                   1.000       2.000       4.000


----     76 PARAMETER revfac  revenue factor

january  1.000,    february 1.000,    march    1.100,    april    1.100

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 6
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
E x e c u t i o n


----    123 VARIABLE h.Up (+INF) handling

          january    february       march       april

east     3000.000    3000.000    3000.000    3000.000
south    2500.000    2500.000    2500.000    2500.000
west     4000.000    4000.000    4000.000    4000.000
north    2500.000    2500.000    2500.000    2500.000


----    123 VARIABLE pn.Lo  production

          january    february       march       april

two      1200.000    1200.000    1200.000    1200.000
three     700.000     700.000     700.000     700.000

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 7
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Equation Listing    SOLVE pdi Using LP From line 125


---- ib  =E=  inventory balance

ib(east,january)..  - x(one,east,january) + h(east,january) =E= 0 ; (LHS = 0)
     
ib(east,february)..  - x(one,east,february) - s(east,january) + h(east,february) =E= 0 ; (LHS = 0)
     
ib(east,march)..  - x(one,east,march) - s(east,february) + h(east,march) =E= 0 ; (LHS = 0)
     
REMAINING 13 ENTRIES SKIPPED


---- pb  =E=  production balance

pb(one,january)..  - x(one,east,january) - x(one,south,january) + pn(one,january) + po(one,january) =E= 0 ; (LHS = 0)
     
pb(one,february)..  - x(one,east,february) - x(one,south,february) + pn(one,february) + po(one,february) =E= 0 ; (LHS = 0)
     
pb(one,march)..  - x(one,east,march) - x(one,south,march) + pn(one,march) + po(one,march) =E= 0 ; (LHS = 0)
     
REMAINING 9 ENTRIES SKIPPED


---- hb  =E=  handling balance

hb(east,january)..  y(east,1,january) + y(east,2,january) + s(east,january) - h(east,january) =E= 0 ; (LHS = 0)
     
hb(east,february)..  y(east,1,february) + y(east,2,february) + s(east,february) - h(east,february) =E= 0 ; (LHS = 0)
     
hb(east,march)..  y(east,1,march) + y(east,2,march) + s(east,march) - h(east,march) =E= 0 ; (LHS = 0)
     
REMAINING 13 ENTRIES SKIPPED


---- db  =E=  demand balance

db(1,january)..  y(east,1,january) - dm(1) =E= 0 ; (LHS = -2000, INFES = 2000 ****)
     
db(1,february)..  y(east,1,february) - dm(1) =E= 0 ; (LHS = -2000, INFES = 2000 ****)
     
db(1,march)..  y(east,1,march) - dm(1) =E= 0 ; (LHS = -2000, INFES = 2000 ****)
     
REMAINING 17 ENTRIES SKIPPED


---- ar  =E=  revenue balance

ar..  - 70*y(east,1,january) - 70*y(east,1,february) - 77*y(east,1,march) - 77*y(east,1,april) - 68*y(east,2,january) - 68*y(east,2,february) - 74.8*y(east,2,march) - 74.8*y(east,2,april) - 68*y(south,2,january) - 68*y(south,2,february)
     
      - 74.8*y(south,2,march) - 74.8*y(south,2,april) - 65*y(south,3,january) - 65*y(south,3,february) - 71.5*y(south,3,march) - 71.5*y(south,3,april) - 72*y(south,4,january) - 72*y(south,4,february) - 79.2*y(south,4,march) - 79.2*y(south,4,april)
     
      - 68*y(west,2,january) - 68*y(west,2,february) - 74.8*y(west,2,march) - 74.8*y(west,2,april) - 72*y(west,4,january) - 72*y(west,4,february) - 79.2*y(west,4,march) - 79.2*y(west,4,april) - 71*y(west,5,january) - 71*y(west,5,february)
     
      - 78.1*y(west,5,march) - 78.1*y(west,5,april) - 72*y(north,4,january) - 72*y(north,4,february) - 79.2*y(north,4,march) - 79.2*y(north,4,april) - 71*y(north,5,january) - 71*y(north,5,february) - 78.1*y(north,5,march) - 78.1*y(north,5,april) + revenue
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 8
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Equation Listing    SOLVE pdi Using LP From line 125


     ar  =E=  revenue balance     
     
      =E= 0 ; (LHS = 0)
     

---- at  =E=  transport balance

at..  - 10*x(one,east,january) - 10*x(one,east,february) - 10*x(one,east,march) - 10*x(one,east,april) - 12*x(one,south,january) - 12*x(one,south,february) - 12*x(one,south,march) - 12*x(one,south,april) - 8*x(two,south,january) - 8*x(two,south,february)
     
      - 8*x(two,south,march) - 8*x(two,south,april) - 4*x(two,west,january) - 4*x(two,west,february) - 4*x(two,west,march) - 4*x(two,west,april) - 5*x(two,north,january) - 5*x(two,north,february) - 5*x(two,north,march) - 5*x(two,north,april)
     
      - 6*x(three,west,january) - 6*x(three,west,february) - 6*x(three,west,march) - 6*x(three,west,april) - 8*x(three,north,january) - 8*x(three,north,february) - 8*x(three,north,march) - 8*x(three,north,april) - 15*y(east,1,january)
     
      - 15*y(east,1,february) - 15*y(east,1,march) - 15*y(east,1,april) - 19*y(east,2,january) - 19*y(east,2,february) - 19*y(east,2,march) - 19*y(east,2,april) - 20*y(south,2,january) - 20*y(south,2,february) - 20*y(south,2,march) - 20*y(south,2,april)
     
      - 22*y(south,3,january) - 22*y(south,3,february) - 22*y(south,3,march) - 22*y(south,3,april) - 18*y(south,4,january) - 18*y(south,4,february) - 18*y(south,4,march) - 18*y(south,4,april) - 16*y(west,2,january) - 16*y(west,2,february)
     
      - 16*y(west,2,march) - 16*y(west,2,april) - 18*y(west,4,january) - 18*y(west,4,february) - 18*y(west,4,march) - 18*y(west,4,april) - 19*y(west,5,january) - 19*y(west,5,february) - 19*y(west,5,march) - 19*y(west,5,april) - 15*y(north,4,january)
     
      - 15*y(north,4,february) - 15*y(north,4,march) - 15*y(north,4,april) - 21*y(north,5,january) - 21*y(north,5,february) - 21*y(north,5,march) - 21*y(north,5,april) + transport =E= 0 ; (LHS = 0)
     

---- ap  =E=  production cost balance

ap..  - 35*pn(one,january) - 36*pn(one,february) - 37*pn(one,march) - 38*pn(one,april) - 40*pn(two,january) - 41*pn(two,february) - 42*pn(two,march) - 43*pn(two,april) - 38*pn(three,january) - 39*pn(three,february) - 40*pn(three,march)
     
      - 41*pn(three,april) - 45*po(one,january) - 46*po(one,february) - 47*po(one,march) - 49*po(one,april) - 43*po(two,january) - 44*po(two,february) - 45*po(two,march) - 47*po(two,april) - po(three,february) - 2*po(three,march) - 4*po(three,april)
     
      + production =E= 0 ; (LHS = -309800, INFES = 309800 ****)
     

---- ah  =E=  inventory holding cost definition

ah..  - 2*s(east,january) - 2*s(east,february) - 2*s(east,march) - 2*s(east,april) - 2*s(south,january) - 2*s(south,february) - 2*s(south,march) - 2*s(south,april) - s(west,january) - s(west,february) - s(west,march) - s(west,april) - 3*s(north,january)
     
      - 3*s(north,february) - 3*s(north,march) - 3*s(north,april) + holding =E= 0 ; (LHS = -1600, INFES = 1600 ****)
     

---- apr  =E=  profit definition

apr..  profit - revenue + transport + production + holding =E= 10 ; (LHS = 0, INFES = 10 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:24:29 Page 9
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Column Listing      SOLVE pdi Using LP From line 125


---- x  shipments from production to distribution

x(one,east,january)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ib(east,january)
       -1       pb(one,january)
      -10       at

x(one,east,february)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ib(east,february)
       -1       pb(one,february)
      -10       at

x(one,east,march)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ib(east,march)
       -1       pb(one,march)
      -10       at

REMAINING 25 ENTRIES SKIPPED

---- y  shipments from distribution centers to markets

y(east,1,january)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       hb(east,january)
        1       db(1,january)
      -70       ar
      -15       at

y(east,1,february)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       hb(east,february)
        1       db(1,february)
      -70       ar
      -15       at

y(east,1,march)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       hb(east,march)
        1       db(1,march)
      -77       ar
      -15       at

REMAINING 37 ENTRIES SKIPPED

---- pn  production

pn(one,january)
                (.LO, .L, .UP, .M = 0, 0, 5000, 0)
        1       pb(one,january)
      -35       ap
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:29 Page 10
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Column Listing      SOLVE pdi Using LP From line 125


     pn  production


pn(one,february)
                (.LO, .L, .UP, .M = 0, 0, 5000, 0)
        1       pb(one,february)
      -36       ap

pn(one,march)
                (.LO, .L, .UP, .M = 0, 0, 5000, 0)
        1       pb(one,march)
      -37       ap

REMAINING 9 ENTRIES SKIPPED

---- po  production: overtime

po(one,january)
                (.LO, .L, .UP, .M = 0, 0, 1000, 0)
        1       pb(one,january)
      -45       ap

po(one,february)
                (.LO, .L, .UP, .M = 0, 0, 1000, 0)
        1       pb(one,february)
      -46       ap

po(one,march)
                (.LO, .L, .UP, .M = 0, 0, 1000, 0)
        1       pb(one,march)
      -47       ap

REMAINING 9 ENTRIES SKIPPED

---- s  storage level

s(east,january)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ib(east,february)
        1       hb(east,january)
       -2       ah

s(east,february)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ib(east,march)
        1       hb(east,february)
       -2       ah

s(east,march)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       ib(east,april)
        1       hb(east,march)
       -2       ah
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:29 Page 11
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Column Listing      SOLVE pdi Using LP From line 125


     s  storage level


REMAINING 13 ENTRIES SKIPPED

---- dm  demand level

dm(1)
                (.LO, .L, .UP, .M = 2000, 2000, 2500, 0)
       -1       db(1,january)
       -1       db(1,february)
       -1       db(1,march)
       -1       db(1,april)
        0       (OLD LEVEL ****)

dm(2)
                (.LO, .L, .UP, .M = 0, 0, 2500, 0)
       -1       db(2,january)
       -1       db(2,february)
       -1       db(2,march)
       -1       db(2,april)

dm(3)
                (.LO, .L, .UP, .M = 2000, 2000, 3000, 0)
       -1       db(3,january)
       -1       db(3,february)
       -1       db(3,march)
       -1       db(3,april)
        0       (OLD LEVEL ****)

REMAINING 2 ENTRIES SKIPPED

---- h  handling

h(east,january)
                (.LO, .L, .UP, .M = 0, 0, 3000, 0)
        1       ib(east,january)
       -1       hb(east,january)

h(east,february)
                (.LO, .L, .UP, .M = 0, 0, 3000, 0)
        1       ib(east,february)
       -1       hb(east,february)

h(east,march)
                (.LO, .L, .UP, .M = 0, 0, 3000, 0)
        1       ib(east,march)
       -1       hb(east,march)

REMAINING 13 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:29 Page 12
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Column Listing      SOLVE pdi Using LP From line 125


---- profit  

profit
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       apr


---- revenue  

revenue
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       ar
       -1       apr


---- transport  

transport
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       at
        1       apr


---- production  

production
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       ap
        1       apr


---- holding  

holding
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       ah
        1       apr

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:29 Page 13
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Model Statistics    SOLVE pdi Using LP From line 125


MODEL STATISTICS

BLOCKS OF EQUATIONS           9     SINGLE EQUATIONS           69
BLOCKS OF VARIABLES          12     SINGLE VARIABLES          134  16 projected
NON ZERO ELEMENTS           396


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.004 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:24:29 Page 14
ARCNET - Production Distribution and Inventory  (PDI,SEQ=10)
Solution Report     SOLVE pdi Using LP From line 125


               S O L V E      S U M M A R Y

     MODEL   pdi                 OBJECTIVE  profit
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CONVERT             FROM LINE  125

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/pdi/convert.opt"
>>  ampl pdi-scalar.mod
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/pdi/convert.opt"
Ampl      : pdi-scalar.mod


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/pdi/pdi.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/pdi/pdi-scalar.mod.lst
