GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
   3  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 2
Optimal Investment (LANDS,SEQ=188)
C o m p i l a t i o n


      The following two-stage problem consists of determining the optimal
      capacity investment in various types of power plants so as to meet
      next period demands for electricity. Four power plants are considered
      and they can operate in three different modes. The next period demand
      for each of the three modes are to be met. There is a budget
      constraint and also a constraint on the minimum total capacity.
       
       
      Louveaux, F V, and Smeers, Y, Optimal Investments for Electricity
      Generation: A Stochastic Model and a Test Problem. In
      Ermoliev, Y, and Wets, R J, Eds, Numerical Techniques for
      Stochastic Optimization Problems. Springer Verlag, 1988,
      pp. 445-452.
       
      This problem will be solved in two steps, we solve each scenario
      separately and then all three scenarios together.
  23   
  24  sets i  power plant type / plant-1*plant-4 /
  25       j  operating mode   / mode-1*mode-3 /
  26   
  27  parameter c(i) investment cost / plant-1 10, plant-2 7, plant-3 16, plant-4 6 /
  28            d(j) energy demand   / mode-1 na, mode-2 3, mode-3 2 /
  29   
  30  table f(i,j) operating cost
  31           mode-1 mode-2 mode-3
  32  plant-1    40     24     4
  33  plant-2    45     27     4.5
  34  plant-3    32     19.2   3.2
  35  plant-4    55     33     5.5
  36   
  37  scalar m min installed capacity / 12 /
  38         b budget limit           /120 /;
  39   
  40  Variables x(i)    capacity installed
  41            y(i,j)  operating level
  42            cost    total cost
  43  Positive Variables x,y;
  44   
  45  Equations defcost    definition of total cost
  46            mincap     minimum installed capacity
  47            bbal       budget constraint
  48            powbal(i)  power balance
  49            dembal(j)  demand balance;
  50   
  51  defcost.. cost =e= sum(i, c(i)*x(i)) + sum((i,j), f(i,j)*y(i,j));
  52   
  53  mincap..  sum(i, x(i)) =g= m;
  54   
  55  bbal..   sum(i, c(i)*x(I)) =l= b;
  56   
  57  powbal(i).. sum(j, y(i,j)) =l= x(i);
  58   
  59  dembal(j).. sum(i, y(i,j)) =g= d(j);
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 3
Optimal Investment (LANDS,SEQ=188)
C o m p i l a t i o n


  60   
  61  model det / all /;
  62   
  63   
  64   
  65  set s nodes     / s-1*s-3 /
  66  parameter dvar(s) / s-1 3,  s-2 5,  s-3 7 /
  67            prob(s) / s-1 .3, s-2 .4, s-3 .3 /
  68   
  69  Parameter repdet Scenario report;
  70   
  71  loop(s,
  72     d('mode-1') = dvar(s);
  73     solve det minimizing cost using lp;
  74     repdet('cost',s) = cost.l;
  75     repdet(i,s)      = x.l(i);
  76     repdet('prob',s) = prob(s);
  77     det.solprint=2 );
  78   
  79  *** make model stochastic
  80   
  81  parameter ds(j,s) stochastic demand;
  82   
  83  Positive Variable ys(i,j,s)  operating level
  84   
  85  Equations defcosts    definition of total cost
  86            powbals(i,s)  power balance
  87            dembals(j,s)  demand balance;
  88   
  89  defcosts.. cost =e= sum(i, c(i)*x(i))
  90                    + sum((i,j,s), prob(s)*f(i,j)*ys(i,j,s));
  91   
  92  powbals(i,s).. sum(j, ys(i,j,s)) =l= x(i);
  93   
  94  dembals(j,s).. sum(i, ys(i,j,s)) =g= ds(j,s);
  95   
  96  model stoc / defcosts,mincap,bbal,powbals,dembals /;
  97   
  98  ds(j,s)        = d(j);
  99  ds('mode-1',s) = dvar(s);
 100   
 101  solve stoc minimizing cost using lp;
 102  repdet('cost','hedge') = cost.l;
 103  repdet(i,'hedge')      = x.l(i);
 104   
 105  display repdet;
 106   


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 4
Optimal Investment (LANDS,SEQ=188)
Equation Listing    SOLVE det Using LP From line 73


---- defcost  =E=  definition of total cost

defcost..  - 10*x(plant-1) - 7*x(plant-2) - 16*x(plant-3) - 6*x(plant-4) - 40*y(plant-1,mode-1) - 24*y(plant-1,mode-2) - 4*y(plant-1,mode-3) - 45*y(plant-2,mode-1) - 27*y(plant-2,mode-2) - 4.5*y(plant-2,mode-3) - 32*y(plant-3,mode-1)
     
      - 19.2*y(plant-3,mode-2) - 3.2*y(plant-3,mode-3) - 55*y(plant-4,mode-1) - 33*y(plant-4,mode-2) - 5.5*y(plant-4,mode-3) + cost =E= 0 ; (LHS = 0)
     

---- mincap  =G=  minimum installed capacity

mincap..  x(plant-1) + x(plant-2) + x(plant-3) + x(plant-4) =G= 12 ; (LHS = 0, INFES = 12 ****)
     

---- bbal  =L=  budget constraint

bbal..  10*x(plant-1) + 7*x(plant-2) + 16*x(plant-3) + 6*x(plant-4) =L= 120 ; (LHS = 0)
     

---- powbal  =L=  power balance

powbal(plant-1)..  - x(plant-1) + y(plant-1,mode-1) + y(plant-1,mode-2) + y(plant-1,mode-3) =L= 0 ; (LHS = 0)
     
powbal(plant-2)..  - x(plant-2) + y(plant-2,mode-1) + y(plant-2,mode-2) + y(plant-2,mode-3) =L= 0 ; (LHS = 0)
     
powbal(plant-3)..  - x(plant-3) + y(plant-3,mode-1) + y(plant-3,mode-2) + y(plant-3,mode-3) =L= 0 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED


---- dembal  =G=  demand balance

dembal(mode-1)..  y(plant-1,mode-1) + y(plant-2,mode-1) + y(plant-3,mode-1) + y(plant-4,mode-1) =G= 3 ; (LHS = 0, INFES = 3 ****)
     
dembal(mode-2)..  y(plant-1,mode-2) + y(plant-2,mode-2) + y(plant-3,mode-2) + y(plant-4,mode-2) =G= 3 ; (LHS = 0, INFES = 3 ****)
     
dembal(mode-3)..  y(plant-1,mode-3) + y(plant-2,mode-3) + y(plant-3,mode-3) + y(plant-4,mode-3) =G= 2 ; (LHS = 0, INFES = 2 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 5
Optimal Investment (LANDS,SEQ=188)
Column Listing      SOLVE det Using LP From line 73


---- x  capacity installed

x(plant-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -10       defcost
        1       mincap
       10       bbal
       -1       powbal(plant-1)

x(plant-2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -7       defcost
        1       mincap
        7       bbal
       -1       powbal(plant-2)

x(plant-3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -16       defcost
        1       mincap
       16       bbal
       -1       powbal(plant-3)

REMAINING ENTRY SKIPPED

---- y  operating level

y(plant-1,mode-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -40       defcost
        1       powbal(plant-1)
        1       dembal(mode-1)

y(plant-1,mode-2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -24       defcost
        1       powbal(plant-1)
        1       dembal(mode-2)

y(plant-1,mode-3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -4       defcost
        1       powbal(plant-1)
        1       dembal(mode-3)

REMAINING 9 ENTRIES SKIPPED

---- cost  total cost

cost
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       defcost

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 6
Optimal Investment (LANDS,SEQ=188)
Model Statistics    SOLVE det Using LP From line 73


LOOPS                                    s   s-1


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS           10
BLOCKS OF VARIABLES           3     SINGLE VARIABLES           17
NON ZERO ELEMENTS            53


GENERATION TIME      =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.003 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
               L O O P S                  s s-1

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 7
Optimal Investment (LANDS,SEQ=188)
Solution Report     SOLVE det Using LP From line 73


               S O L V E      S U M M A R Y

     MODEL   det                 OBJECTIVE  cost
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  73

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/lands/convert.opt"
>>  pyomo lands-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/lands/convert.opt"
Pyomo     : lands-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:32:16 Page 9
Optimal Investment (LANDS,SEQ=188)
Model Analysis      SOLVE det Using LP From line 73



No solution returned

No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:16 Page 11
Optimal Investment (LANDS,SEQ=188)
Equation Listing    SOLVE stoc Using LP From line 101


---- defcosts  =E=  definition of total cost

defcosts..  - 10*x(plant-1) - 7*x(plant-2) - 16*x(plant-3) - 6*x(plant-4) + cost - 12*ys(plant-1,mode-1,s-1) - 16*ys(plant-1,mode-1,s-2) - 12*ys(plant-1,mode-1,s-3) - 7.2*ys(plant-1,mode-2,s-1) - 9.6*ys(plant-1,mode-2,s-2) - 7.2*ys(plant-1,mode-2,s-3)
     
      - 1.2*ys(plant-1,mode-3,s-1) - 1.6*ys(plant-1,mode-3,s-2) - 1.2*ys(plant-1,mode-3,s-3) - 13.5*ys(plant-2,mode-1,s-1) - 18*ys(plant-2,mode-1,s-2) - 13.5*ys(plant-2,mode-1,s-3) - 8.1*ys(plant-2,mode-2,s-1) - 10.8*ys(plant-2,mode-2,s-2)
     
      - 8.1*ys(plant-2,mode-2,s-3) - 1.35*ys(plant-2,mode-3,s-1) - 1.8*ys(plant-2,mode-3,s-2) - 1.35*ys(plant-2,mode-3,s-3) - 9.6*ys(plant-3,mode-1,s-1) - 12.8*ys(plant-3,mode-1,s-2) - 9.6*ys(plant-3,mode-1,s-3) - 5.76*ys(plant-3,mode-2,s-1)
     
      - 7.68*ys(plant-3,mode-2,s-2) - 5.76*ys(plant-3,mode-2,s-3) - 0.96*ys(plant-3,mode-3,s-1) - 1.28*ys(plant-3,mode-3,s-2) - 0.96*ys(plant-3,mode-3,s-3) - 16.5*ys(plant-4,mode-1,s-1) - 22*ys(plant-4,mode-1,s-2) - 16.5*ys(plant-4,mode-1,s-3)
     
      - 9.9*ys(plant-4,mode-2,s-1) - 13.2*ys(plant-4,mode-2,s-2) - 9.9*ys(plant-4,mode-2,s-3) - 1.65*ys(plant-4,mode-3,s-1) - 2.2*ys(plant-4,mode-3,s-2) - 1.65*ys(plant-4,mode-3,s-3) =E= 0 ; (LHS = 0)
     

---- mincap  =G=  minimum installed capacity

mincap..  x(plant-1) + x(plant-2) + x(plant-3) + x(plant-4) =G= 12 ; (LHS = 0, INFES = 12 ****)
     

---- bbal  =L=  budget constraint

bbal..  10*x(plant-1) + 7*x(plant-2) + 16*x(plant-3) + 6*x(plant-4) =L= 120 ; (LHS = 0)
     

---- powbals  =L=  power balance

powbals(plant-1,s-1)..  - x(plant-1) + ys(plant-1,mode-1,s-1) + ys(plant-1,mode-2,s-1) + ys(plant-1,mode-3,s-1) =L= 0 ; (LHS = 0)
     
powbals(plant-1,s-2)..  - x(plant-1) + ys(plant-1,mode-1,s-2) + ys(plant-1,mode-2,s-2) + ys(plant-1,mode-3,s-2) =L= 0 ; (LHS = 0)
     
powbals(plant-1,s-3)..  - x(plant-1) + ys(plant-1,mode-1,s-3) + ys(plant-1,mode-2,s-3) + ys(plant-1,mode-3,s-3) =L= 0 ; (LHS = 0)
     
REMAINING 9 ENTRIES SKIPPED


---- dembals  =G=  demand balance

dembals(mode-1,s-1)..  ys(plant-1,mode-1,s-1) + ys(plant-2,mode-1,s-1) + ys(plant-3,mode-1,s-1) + ys(plant-4,mode-1,s-1) =G= 3 ; (LHS = 0, INFES = 3 ****)
     
dembals(mode-1,s-2)..  ys(plant-1,mode-1,s-2) + ys(plant-2,mode-1,s-2) + ys(plant-3,mode-1,s-2) + ys(plant-4,mode-1,s-2) =G= 5 ; (LHS = 0, INFES = 5 ****)
     
dembals(mode-1,s-3)..  ys(plant-1,mode-1,s-3) + ys(plant-2,mode-1,s-3) + ys(plant-3,mode-1,s-3) + ys(plant-4,mode-1,s-3) =G= 7 ; (LHS = 0, INFES = 7 ****)
     
REMAINING 6 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:16 Page 12
Optimal Investment (LANDS,SEQ=188)
Column Listing      SOLVE stoc Using LP From line 101


---- x  capacity installed

x(plant-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -10       defcosts
        1       mincap
       10       bbal
       -1       powbals(plant-1,s-1)
       -1       powbals(plant-1,s-2)
       -1       powbals(plant-1,s-3)

x(plant-2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -7       defcosts
        1       mincap
        7       bbal
       -1       powbals(plant-2,s-1)
       -1       powbals(plant-2,s-2)
       -1       powbals(plant-2,s-3)

x(plant-3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -16       defcosts
        1       mincap
       16       bbal
       -1       powbals(plant-3,s-1)
       -1       powbals(plant-3,s-2)
       -1       powbals(plant-3,s-3)

REMAINING ENTRY SKIPPED

---- cost  total cost

cost
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       defcosts


---- ys  operating level

ys(plant-1,mode-1,s-1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -12       defcosts
        1       powbals(plant-1,s-1)
        1       dembals(mode-1,s-1)

ys(plant-1,mode-1,s-2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -16       defcosts
        1       powbals(plant-1,s-2)
        1       dembals(mode-1,s-2)

ys(plant-1,mode-1,s-3)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:16 Page 13
Optimal Investment (LANDS,SEQ=188)
Column Listing      SOLVE stoc Using LP From line 101


     ys  operating level

                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
      -12       defcosts
        1       powbals(plant-1,s-3)
        1       dembals(mode-1,s-3)

REMAINING 33 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:16 Page 14
Optimal Investment (LANDS,SEQ=188)
Model Statistics    SOLVE stoc Using LP From line 101


MODEL STATISTICS

BLOCKS OF EQUATIONS           5     SINGLE EQUATIONS           24
BLOCKS OF VARIABLES           3     SINGLE VARIABLES           41
NON ZERO ELEMENTS           133


GENERATION TIME      =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:16 Page 15
Optimal Investment (LANDS,SEQ=188)
Solution Report     SOLVE stoc Using LP From line 101


               S O L V E      S U M M A R Y

     MODEL   stoc                OBJECTIVE  cost
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  101

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/lands/convert.opt"
>>  pyomo lands-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/lands/convert.opt"
Pyomo     : lands-scalar.py


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:32:16 Page 16
Optimal Investment (LANDS,SEQ=188)
E x e c u t i o n


----    105 PARAMETER repdet  Scenario report

             s-1         s-2         s-3

prob       0.300       0.400       0.300



EXECUTION TIME       =        0.000 SECONDS      3 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/lands/lands.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/lands/lands-scalar.py.lst
