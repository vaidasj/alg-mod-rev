GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 2
Standard QP Model- linear approximation (QP5,SEQ=175)
C o m p i l a t i o n


       Linear approximation of qp4 operate directly on the data.
       Additional information can be found at:
       
       http://www.gams.com/modlib/adddocs/qp5doc.htm
       
       
      Kalvelagen, E, Model Building with GAMS. forthcoming
       
      de Wetering, A V, private communication.
       
  16   
INCLUDE    /home/renigijus/gams/opt-mod-lib/gamslib/qp5/qpdata.inc
  18  * From StockMaster at MIT
  19   
  20  sets       days    100 days from 95-11-27 to 96-04-29
  21             stocks  170 selected stocks
  22             upper(stocks,stocks)
  23             lower(stocks,stocks);
  24  alias (stocks,sstocks);
  25   
  26  parameters val(stocks,days)    closing value
  27             return(stocks,days) daily returns - derived;
  28   
  29  set days days /
  30    951127
  31    951128
 133   
 134  set stocks /
 135    GAB
 136    GAP
 137    GDW
 298   
 299  parameter val(stocks,days) closing value /
 300    GAB  .951127                9.25
 301    GAB  .951128                9.25
 302    GAB  .951129                9.25
 303   
16304  return(stocks,days-1) = val(stocks,days)-val(stocks,days-1);
16305   
16306  upper(stocks,sstocks) = ord(stocks) <= ord(sstocks);
16307  lower(stocks,sstocks) = not upper(stocks,sstocks);
16308   
16309  set d(days)   selected days
16310      s(stocks) selected stocks
16311  alias(s,t);
16312   
16313  * select subset of stocks and periods
16314  d(days)   = ord(days) >1 and ord(days) < 31;
16315  s(stocks) = ord(stocks) < 51;
16316   
16317  parameter mean(stocks)           mean of daily return
16318            dev(stocks,days)       deviations
16319            totmean                total mean return;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 3
Standard QP Model- linear approximation (QP5,SEQ=175)
C o m p i l a t i o n


16320   
16321  mean(s)  = sum(d, return(s,d))/card(d);
16322  dev(s,d) = return(s,d)-mean(s);
16323  totmean  = sum(s, mean(s))/(card(s));
16324   
16325  variables z          objective variable
16326            x(stocks)   investments
16327            wplus(days) intermediate variables
16328            wmin(days)  intermediate variables
16329            ;
16330  positive variables x,wplus,wmin;
16331   
16332  equations obj    objective
16333            budget
16334            retcon return constraint
16335            wdef(days)
16336            ;
16337   
16338   
16339  obj..      z =e= sum(d, wplus(d)+wmin(d));
16340  wdef(d)..  wplus(d)-wmin(d) =e= sum(s, x(s)*dev(s,d));
16341  budget.. sum(s, x(s)) =e= 1.0;
16342  retcon.. sum(s, mean(s)*x(s)) =g= totmean*1.25;
16343   
16344  model qp5 / all /;
16345   
16346  solve qp5 using lp minimizing z;
16347  display x.l;
16348   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 4
Standard QP Model- linear approximation (QP5,SEQ=175)
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/renigijus/gams/opt-mod-lib/gamslib/qp5/qp5.gms
     2       17 INCLUDE        1      17  ./home/renigijus/gams/opt-mod-lib/gamslib/qp5/qpdata.inc


COMPILATION TIME     =        0.019 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 5
Standard QP Model- linear approximation (QP5,SEQ=175)
Equation Listing    SOLVE qp5 Using LP From line 16346


---- obj  =E=  objective

obj..  z - wplus(951128) - wplus(951129) - wplus(951130) - wplus(951201) - wplus(951204) - wplus(951205) - wplus(951206) - wplus(951207) - wplus(951208) - wplus(951211) - wplus(951212) - wplus(951213) - wplus(951214) - wplus(951215) - wplus(951218)
     
      - wplus(951219) - wplus(951220) - wplus(951221) - wplus(951222) - wplus(951226) - wplus(951227) - wplus(951228) - wplus(951229) - wplus(960102) - wplus(960103) - wplus(960104) - wplus(960105) - wplus(960108) - wplus(960109) - wmin(951128)
     
      - wmin(951129) - wmin(951130) - wmin(951201) - wmin(951204) - wmin(951205) - wmin(951206) - wmin(951207) - wmin(951208) - wmin(951211) - wmin(951212) - wmin(951213) - wmin(951214) - wmin(951215) - wmin(951218) - wmin(951219) - wmin(951220)
     
      - wmin(951221) - wmin(951222) - wmin(951226) - wmin(951227) - wmin(951228) - wmin(951229) - wmin(960102) - wmin(960103) - wmin(960104) - wmin(960105) - wmin(960108) - wmin(960109) =E= 0 ; (LHS = 0)
     

---- budget  =E=  

budget..  x(GAB) + x(GAP) + x(GDW) + x(GE) + x(GEN) + x(GENZ) + x(GGUY) + x(GIS) + x(GM) + x(GME) + x(GNE) + x(GNTX) + x(GPS) + x(GPTA) + x(GSTRF) + x(GT) + x(GTE) + x(GTR) + x(GWF) + x(GYMB) + x(AA) + x(AAA) + x(AALR) + x(AAPL) + x(ABF) + x(ABX)
     
      + x(ACAD) + x(ACN) + x(ACTL) + x(ADAC) + x(ADBE) + x(ADCT) + x(ADDR) + x(ADPT) + x(ADV) + x(AET) + x(AGN) + x(AHP) + x(AKLM) + x(ALD) + x(ALEX) + x(ALRT) + x(ALSC) + x(ALTR) + x(ALU) + x(AM) + x(AMA) + x(AMAT) + x(AMD) + x(AMER) =E= 1 ;
     
      (LHS = 0, INFES = 1 ****)
     

---- retcon  =G=  return constraint

retcon..  - 0.0517241379310345*x(GAP) + 0.0558620689655172*x(GDW) + 0.116551724137931*x(GE) - 0.0172413793103448*x(GENZ) - 0.0496551724137931*x(GGUY) - 0.0644827586206896*x(GIS) + 0.00862068965517241*x(GME) + 0.0689655172413793*x(GNE)
     
      - 0.0172413793103448*x(GNTX) - 0.0948275862068965*x(GPS) - 0.0475862068965517*x(GPTA) + 0.344827586206897*x(GSTRF) + 0.0299999999999999*x(GT) + 0.0131034482758622*x(GTE) + 0.0562068965517241*x(GTR) - 0.0644827586206897*x(GWF)
     
      - 0.301724137931034*x(GYMB) - 0.241379310344828*x(AA) - 0.00206896551724138*x(AAA) - 0.0258620689655172*x(AALR) - 0.198275862068966*x(AAPL) - 0.0389655172413793*x(ABF) + 0.0775862068965517*x(ABX) - 0.206896551724138*x(ACAD)
     
      + 0.0562068965517242*x(ACN) - 0.0775862068965517*x(ACTL) + 0.0689655172413793*x(ADAC) - 1.04310344827586*x(ADBE) - 0.327586206896552*x(ADCT) - 0.0217241379310345*x(ADDR) - 0.155172413793103*x(ADPT) - 0.0172413793103448*x(ADV)
     
      - 0.28448275862069*x(AET) + 0.0558620689655173*x(AGN) + 0.163793103448276*x(AHP) - 0.370689655172414*x(AKLM) + 0.0172413793103448*x(ALD) - 0.03*x(ALEX) + 0.0475862068965517*x(ALRT) - 0.517241379310345*x(ALSC) - 0.21551724137931*x(ALTR)
     
      + 0.00655172413793105*x(ALU) - 0.0537931034482758*x(AM) - 0.0148275862068966*x(AMA) - 0.417931034482759*x(AMAT) - 0.103448275862069*x(AMD) - 0.124827586206896*x(AMER) =G= -0.100241379310345 ; (LHS = 0)
     

---- wdef  =E=  

wdef(951128)..  - 0.431724137931033*x(GAP) + 0.68586206896552*x(GDW) - 0.513448275862065*x(GE) - 2.01724137931034*x(GENZ) - 0.0496551724137931*x(GGUY) - 0.56448275862069*x(GIS) - 0.75*x(GM) + 0.12862068965517*x(GME) + 0.0689655172413793*x(GNE)
     
      - 0.0172413793103448*x(GNTX) + 1.1551724137931*x(GPS) - 0.167586206896552*x(GPTA) - 2.6551724137931*x(GSTRF) + 0.53*x(GT) - 0.236896551724138*x(GTE) - 0.823793103448276*x(GTR) + 0.555517241379311*x(GWF) - 1.43172413793103*x(GYMB)
     
      - 1.12137931034483*x(AA) - 0.132068965517241*x(AAA) + 0.224137931034483*x(AALR) + 0.551724137931034*x(AAPL) - 0.40896551724138*x(ABF) + 0.577586206896552*x(ABX) - 0.956896551724138*x(ACAD) - 0.573793103448277*x(ACN) - 0.697586206896551*x(ACTL)
     
      - 0.181034482758621*x(ADAC) - 0.673103448275858*x(ADBE) - 2.57758620689655*x(ADCT) - 0.391724137931034*x(ADDR) - 1.6551724137931*x(ADPT) + 0.112758620689656*x(ADV) + 3.59551724137931*x(AET) - 0.444137931034483*x(AGN) + 0.53379310344828*x(AHP)
     
      - 0.370689655172414*x(AKLM) + 0.517241379310345*x(ALD) - 0.03*x(ALEX) - 0.952413793103448*x(ALRT) + 0.982758620689655*x(ALSC) - 4.52551724137931*x(ALTR) + 0.00655172413793105*x(ALU) + 0.00620689655172376*x(AM) + 0.0451724137931035*x(AMA)
     
      - 2.29793103448276*x(AMAT) - 0.603448275862069*x(AMD) - 2.5048275862069*x(AMER) + wplus(951128) - wmin(951128) =E= 0 ; (LHS = 0)
     
wdef(951129)..  - 0.25*x(GAB) - 0.0517241379310345*x(GAP) + 0.175862068965515*x(GDW) + 0.616551724137931*x(GE) - 0.380000000000001*x(GEN) - 1.76724137931034*x(GENZ) - 0.299655172413793*x(GGUY) + 0.305517241379308*x(GIS) + 0.630000000000003*x(GM)
     
      + 0.388620689655175*x(GME) - 0.181034482758621*x(GNE) - 0.0172413793103448*x(GNTX) + 1.46517241379311*x(GPS) + 0.452413793103448*x(GPTA) - 1.4051724137931*x(GSTRF) - 0.72*x(GT) + 0.88310344827586*x(GTE) + 0.436206896551724*x(GTR)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 6
Standard QP Model- linear approximation (QP5,SEQ=175)
Equation Listing    SOLVE qp5 Using LP From line 16346


     wdef  =E=       
     
      - 0.184482758620691*x(GWF) + 0.948275862068966*x(GYMB) - 0.361379310344825*x(AA) + 0.0679310344827585*x(AAA) - 0.145862068965517*x(AALR) + 0.921724137931032*x(AAPL) + 0.331034482758622*x(ABF) + 0.0775862068965517*x(ABX) + 0.543103448275862*x(ACAD)
     
      - 0.063793103448275*x(ACN) - 0.827586206896552*x(ACTL) - 0.181034482758621*x(ADAC) - 0.293103448275862*x(ADBE) - 4.32758620689655*x(ADCT) + 0.288275862068966*x(ADDR) - 2.03517241379311*x(ADPT) - 0.0172413793103448*x(ADV) - 1.66448275862069*x(AET)
     
      - 0.314137931034484*x(AGN) - 0.456206896551729*x(AHP) + 0.0693103448275875*x(AKLM) - 0.482758620689655*x(ALD) - 0.28*x(ALEX) - 0.082413793103449*x(ALRT) + 0.232758620689655*x(ALSC) - 0.405517241379308*x(ALTR) + 0.12655172413793*x(ALU)
     
      - 0.0537931034482758*x(AM) + 0.175172413793103*x(AMA) - 0.917931034482758*x(AMAT) + 0.52655172413793*x(AMD) - 1.1248275862069*x(AMER) + wplus(951129) - wmin(951129) =E= 0 ; (LHS = 0)
     
wdef(951130)..  0.0782758620689645*x(GAP) - 1.06413793103448*x(GDW) - 1.38344827586207*x(GE) + 0.25*x(GEN) - 1.39724137931034*x(GENZ) + 0.140344827586208*x(GGUY) - 0.934482758620687*x(GIS) - 0.880000000000003*x(GM) - 0.37137931034483*x(GME)
     
      + 0.318965517241379*x(GNE) - 0.0172413793103448*x(GNTX) + 1.0351724137931*x(GPS) - 0.0475862068965517*x(GPTA) + 0.0948275862068966*x(GSTRF) - 0.47*x(GT) + 0.0131034482758622*x(GTE) + 0.0562068965517241*x(GTR) - 0.694482758620689*x(GWF)
     
      - 0.231724137931034*x(GYMB) + 0.87862068965517*x(AA) + 0.0579310344827587*x(AAA) - 0.335862068965517*x(AALR) + 0.301724137931034*x(AAPL) - 0.788965517241379*x(ABF) + 0.327586206896552*x(ABX) - 0.456896551724138*x(ACAD) - 0.0737931034482766*x(ACN)
     
      + 0.922413793103448*x(ACTL) + 0.318965517241379*x(ADAC) - 0.413103448275867*x(ADBE) + 2.04241379310345*x(ADCT) - 0.211724137931036*x(ADDR) + 0.164827586206897*x(ADPT) - 0.147241379310346*x(ADV) + 0.345517241379306*x(AET) + 0.305862068965517*x(AGN)
     
      - 0.336206896551724*x(AHP) + 0.689310344827585*x(AKLM) - 0.352758620689653*x(ALD) + 0.22*x(ALEX) + 0.177586206896553*x(ALRT) + 2.35275862068966*x(ALSC) + 0.974482758620687*x(ALTR) + 0.00655172413793105*x(ALU) - 0.0537931034482758*x(AM)
     
      + 0.0451724137931035*x(AMA) + 1.21206896551724*x(AMAT) + 0.896551724137931*x(AMD) + 0.755172413793106*x(AMER) + wplus(951130) - wmin(951130) =E= 0 ; (LHS = 0)
     
REMAINING 26 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 7
Standard QP Model- linear approximation (QP5,SEQ=175)
Column Listing      SOLVE qp5 Using LP From line 16346


---- z  objective variable

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- x  investments

x(GAB)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       budget
       -0.25    wdef(951129)
       -0.13    wdef(951201)
        0.13    wdef(951205)
        0.12    wdef(951206)
       -0.12    wdef(951207)
       -0.13    wdef(951208)
        0.13    wdef(951211)
        0.31    wdef(951212)
        0.06    wdef(951213)
        0.38    wdef(951215)
       -0.25    wdef(951218)
       -0.25    wdef(951220)
       -0.38    wdef(951221)
        0.13    wdef(951226)
        0.12    wdef(951227)
        0.13    wdef(951229)
       -0.13    wdef(960102)
        0.13    wdef(960104)
       -0.13    wdef(960108)
        0.13    wdef(960109)

x(GAP)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       budget
       -0.0517  retcon
       -0.4317  wdef(951128)
       -0.0517  wdef(951129)
        0.0783  wdef(951130)
        0.1983  wdef(951201)
       -0.4317  wdef(951204)
       -0.1717  wdef(951205)
        0.4483  wdef(951206)
       -0.5517  wdef(951207)
       -0.5517  wdef(951208)
        0.0683  wdef(951211)
        0.0783  wdef(951212)
       -0.3017  wdef(951213)
       -0.5517  wdef(951214)
        0.1983  wdef(951215)
       -0.6817  wdef(951218)
       -0.3017  wdef(951219)
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 8
Standard QP Model- linear approximation (QP5,SEQ=175)
Column Listing      SOLVE qp5 Using LP From line 16346


     x  investments

       -0.3017  wdef(951220)
       -0.0517  wdef(951221)
        0.1983  wdef(951222)
        0.3283  wdef(951226)
        0.0683  wdef(951227)
        0.0783  wdef(951228)
       -0.0517  wdef(951229)
       -0.0517  wdef(960102)
       -0.0517  wdef(960103)
        0.6983  wdef(960104)
        0.1983  wdef(960105)
        0.6983  wdef(960108)
        1.1983  wdef(960109)

x(GDW)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       budget
        0.0559  retcon
        0.6859  wdef(951128)
        0.1759  wdef(951129)
       -1.0641  wdef(951130)
       -1.1941  wdef(951201)
        0.3059  wdef(951204)
       -0.9441  wdef(951205)
        0.8059  wdef(951206)
        0.1759  wdef(951207)
       -0.1941  wdef(951208)
        0.1859  wdef(951211)
       -0.1941  wdef(951212)
       -0.3241  wdef(951213)
        0.0559  wdef(951214)
       -0.0641  wdef(951215)
       -0.4441  wdef(951218)
        0.5559  wdef(951219)
       -0.8241  wdef(951220)
       -0.0641  wdef(951221)
       -0.0741  wdef(951222)
       -0.1941  wdef(951226)
       -0.1941  wdef(951227)
        0.6859  wdef(951228)
       -0.3241  wdef(951229)
       -0.0641  wdef(960102)
        0.0559  wdef(960103)
        0.9259  wdef(960104)
        0.0559  wdef(960105)
        0.4359  wdef(960108)
        1.0559  wdef(960109)

REMAINING 47 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:11 Page 9
Standard QP Model- linear approximation (QP5,SEQ=175)
Column Listing      SOLVE qp5 Using LP From line 16346


---- wplus  intermediate variables

wplus(951128)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       obj
        1       wdef(951128)

wplus(951129)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       obj
        1       wdef(951129)

wplus(951130)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       obj
        1       wdef(951130)

REMAINING 26 ENTRIES SKIPPED

---- wmin  intermediate variables

wmin(951128)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       obj
       -1       wdef(951128)

wmin(951129)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       obj
       -1       wdef(951129)

wmin(951130)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       obj
       -1       wdef(951130)

REMAINING 26 ENTRIES SKIPPED
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:31:11 Page 10
Standard QP Model- linear approximation (QP5,SEQ=175)
Model Statistics    SOLVE qp5 Using LP From line 16346


MODEL STATISTICS

BLOCKS OF EQUATIONS           4     SINGLE EQUATIONS           32
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          109
NON ZERO ELEMENTS         1,639


GENERATION TIME      =        0.003 SECONDS      6 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.040 SECONDS      6 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:31:11 Page 11
Standard QP Model- linear approximation (QP5,SEQ=175)
Solution Report     SOLVE qp5 Using LP From line 16346


               S O L V E      S U M M A R Y

     MODEL   qp5                 OBJECTIVE  z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  16346

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/qp5/convert.opt"
>>  gams qp5-scalar.gms
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/qp5/convert.opt"
Gams      : qp5-scalar.gms


No solution returned
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                     12/13/18 10:31:11 Page 12
Standard QP Model- linear approximation (QP5,SEQ=175)
E x e c u t i o n


----  16347 VARIABLE x.L  investments

                      ( ALL       0.000 )



EXECUTION TIME       =        0.001 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/qp5/qp5.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/qp5/qp5-scalar.gms.lst
