GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 2
Grid Transportation Problem (TRNSGRID,SEQ=315)
C o m p i l a t i o n


       
      This problem finds a least cost shipping schedule that meets
      requirements at markets and supplies at factories.
       
      The model demonstrates how to run multiple scenarios with different
      demands in a parallel fashion using the GAMS Grid Facility.
       
       
      Dantzig, G B, Chapter 3.3. In Linear Programming and Extensions.
      Princeton University Press, Princeton, New Jersey, 1963.
       
  17   
  18    Sets
  19         i   canning plants   / seattle, san-diego /
  20         j   markets          / new-york, chicago, topeka / ;
  21   
  22    Parameters
  23   
  24         a(i)  capacity of plant i in cases
  25           /    seattle     350
  26                san-diego   600  /
  27   
  28         b(j)  demand at market j in cases
  29           /    new-york    325
  30                chicago     300
  31                topeka      275  / ;
  32   
  33    Table d(i,j)  distance in thousands of miles
  34                      new-york       chicago      topeka
  35        seattle          2.5           1.7          1.8
  36        san-diego        2.5           1.8          1.4  ;
  37   
  38    Scalar f  freight in dollars per case per thousand miles  /90/ ;
  39   
  40    Parameter c(i,j)  transport cost in thousands of dollars per case ;
  41   
  42              c(i,j) = f * d(i,j) / 1000 ;
  43   
  44    Variables
  45         x(i,j)  shipment quantities in cases
  46         z       total transportation costs in thousands of dollars ;
  47   
  48    Positive Variable x ;
  49   
  50    Equations
  51         cost        define objective function
  52         supply(i)   observe supply limit at plant i
  53         demand(j)   satisfy demand at market j ;
  54   
  55    cost ..        z  =e=  sum((i,j), c(i,j)*x(i,j)) ;
  56   
  57    supply(i) ..   sum(j, x(i,j))  =l=  a(i) ;
  58   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 3
Grid Transportation Problem (TRNSGRID,SEQ=315)
C o m p i l a t i o n


  59    demand(j) ..   sum(i, x(i,j))  =g=  b(j) ;
  60   
  61    Model transport /all/ ;
  62   
  64   
  65  transport.solvelink = 3;  // turn on grid option
  66  transport.limcol    = 0;
  67  transport.limrow    = 0;
  68  transport.solprint  = 2;
  69   
  70  set s scenarios / 1*5 /;
  71   
  72  parameter dem(s,j)  random demand
  73            h(s) store the instance handle;
  74   
  75  dem(s,j)= b(j)*uniform(.95,1.15); // create some random demands
  76   
  77  loop(s,
  78     b(j) = dem(s,j)
  79     Solve transport using lp minimizing z;
  80     h(s) = transport.handle );    // save instance handle
  81   
  82  parameter repx(s,i,j) solution report
  83            repy        summary report;
  84   
  85  repy(s,'solvestat') = na;
  86  repy(s,'modelstat') = na;
  87   
  88  * we use the handle parameter to indicate that the solution has been collected
  89  repeat
  90     loop(s$handlecollect(h(s)),
  91        repx(s,i,j) = x.l(i,j);
  92        repy(s,'solvestat') = transport.solvestat;
  93        repy(s,'modelstat') = transport.modelstat;
  94        repy(s,'resusd'   ) = transport.resusd;
  95        repy(s,'objval')    = transport.objval;
  96        display$handledelete(h(s)) 'trouble deleting handles' ;
  97        h(s) = 0 ) ;    // indicate that we have loaded the solution
  98     display$sleep(card(h)*0.2) 'was sleeping for some time';
  99  until card(h) = 0 or timeelapsed > 10;  // wait until all models are loaded
 100   
 101  display repx, repy;
 102   
 103  abort$sum(s$(repy(s,'solvestat')=na),1) 'Some jobs did not return';


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 4
Grid Transportation Problem (TRNSGRID,SEQ=315)
E x e c u t i o n


----     98 was sleeping for some time

----    101 PARAMETER repx  solution report

                      ( ALL       0.000 )


----    101 PARAMETER repy  summary report

    solvestat   modelstat

1       1.000      14.000
2       1.000      14.000
3       1.000      14.000
4       1.000      14.000
5       1.000      14.000



EXECUTION TIME       =        0.429 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/trnsgrid/trnsgrid.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/trnsgrid/trnsgrid-scalar.gms.lst
