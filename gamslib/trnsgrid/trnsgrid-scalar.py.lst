GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option LP=convert;
   2  option LP=convert;
   3  option LP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 2
Grid Transportation Problem (TRNSGRID,SEQ=315)
C o m p i l a t i o n


       
      This problem finds a least cost shipping schedule that meets
      requirements at markets and supplies at factories.
       
      The model demonstrates how to run multiple scenarios with different
      demands in a parallel fashion using the GAMS Grid Facility.
       
       
      Dantzig, G B, Chapter 3.3. In Linear Programming and Extensions.
      Princeton University Press, Princeton, New Jersey, 1963.
       
  18   
  19    Sets
  20         i   canning plants   / seattle, san-diego /
  21         j   markets          / new-york, chicago, topeka / ;
  22   
  23    Parameters
  24   
  25         a(i)  capacity of plant i in cases
  26           /    seattle     350
  27                san-diego   600  /
  28   
  29         b(j)  demand at market j in cases
  30           /    new-york    325
  31                chicago     300
  32                topeka      275  / ;
  33   
  34    Table d(i,j)  distance in thousands of miles
  35                      new-york       chicago      topeka
  36        seattle          2.5           1.7          1.8
  37        san-diego        2.5           1.8          1.4  ;
  38   
  39    Scalar f  freight in dollars per case per thousand miles  /90/ ;
  40   
  41    Parameter c(i,j)  transport cost in thousands of dollars per case ;
  42   
  43              c(i,j) = f * d(i,j) / 1000 ;
  44   
  45    Variables
  46         x(i,j)  shipment quantities in cases
  47         z       total transportation costs in thousands of dollars ;
  48   
  49    Positive Variable x ;
  50   
  51    Equations
  52         cost        define objective function
  53         supply(i)   observe supply limit at plant i
  54         demand(j)   satisfy demand at market j ;
  55   
  56    cost ..        z  =e=  sum((i,j), c(i,j)*x(i,j)) ;
  57   
  58    supply(i) ..   sum(j, x(i,j))  =l=  a(i) ;
  59   
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 3
Grid Transportation Problem (TRNSGRID,SEQ=315)
C o m p i l a t i o n


  60    demand(j) ..   sum(i, x(i,j))  =g=  b(j) ;
  61   
  62    Model transport /all/ ;
  63   
  65   
  66  transport.solvelink = 3;  // turn on grid option
  67  transport.limcol    = 0;
  68  transport.limrow    = 0;
  69  transport.solprint  = 2;
  70   
  71  set s scenarios / 1*5 /;
  72   
  73  parameter dem(s,j)  random demand
  74            h(s) store the instance handle;
  75   
  76  dem(s,j)= b(j)*uniform(.95,1.15); // create some random demands
  77   
  78  loop(s,
  79     b(j) = dem(s,j)
  80     Solve transport using lp minimizing z;
  81     h(s) = transport.handle );    // save instance handle
  82   
  83  parameter repx(s,i,j) solution report
  84            repy        summary report;
  85   
  86  repy(s,'solvestat') = na;
  87  repy(s,'modelstat') = na;
  88   
  89  * we use the handle parameter to indicate that the solution has been collected
  90  repeat
  91     loop(s$handlecollect(h(s)),
  92        repx(s,i,j) = x.l(i,j);
  93        repy(s,'solvestat') = transport.solvestat;
  94        repy(s,'modelstat') = transport.modelstat;
  95        repy(s,'resusd'   ) = transport.resusd;
  96        repy(s,'objval')    = transport.objval;
  97        display$handledelete(h(s)) 'trouble deleting handles' ;
  98        h(s) = 0 ) ;    // indicate that we have loaded the solution
  99     display$sleep(card(h)*0.2) 'was sleeping for some time';
 100  until card(h) = 0 or timeelapsed > 10;  // wait until all models are loaded
 101   
 102  display repx, repy;
 103   
 104  abort$sum(s$(repy(s,'solvestat')=na),1) 'Some jobs did not return';


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 11:24:25 Page 4
Grid Transportation Problem (TRNSGRID,SEQ=315)
E x e c u t i o n


----     99 was sleeping for some time

----    102 PARAMETER repx  solution report

                      ( ALL       0.000 )


----    102 PARAMETER repy  summary report

    solvestat   modelstat

1       1.000      14.000
2       1.000      14.000
3       1.000      14.000
4       1.000      14.000
5       1.000      14.000



EXECUTION TIME       =        0.432 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/trnsgrid/trnsgrid.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/trnsgrid/trnsgrid-scalar.py.lst
