GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  option MIP=convert;
   2  option MIP=convert;
   3  option MIP=convert;
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 2
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
C o m p i l a t i o n


      Alphametics are a type of mathematical puzzle. Given a set of
      words, written down as a long-hand addition, find the mapping
      between letters and digits (values). For example:
       
          G E O R G I A             8 4 6 5 8 0 2
            O R E G O N     ->        6 5 4 8 6 3
          V E R M O N T             1 4 5 9 6 3 7
          -------------           ---------------
        V I R G I N I A           1 0 5 8 0 3 0 2
       
      Additional information can be found at:
       
      http://www.gams.com/modlib/adddocs/alphametdoc.htm
       
       
      Brooke, A, Kendrick, D, and Meeraus, A, GAMS: A User's Guide. The
      Scientific Press, Redwood City, California, 1988.
       
  25   
  26   
  27   
  28  set i letters /g,e,o,r,i,a,n,v,m,t/;
  29  alias (i,j);
  30   
  31  abort$(card(i) <> 10) "set i should contain 10 letters";
  32   
  33  set k slices /1*8/
  34      lead(i)  /g,o,v/;
  35   
  36  parameter lhs(k,i) input count for each letter in slice /
  37    1.(a,n,t)    1
  38    2.(i,o,n)    1
  39    3.g          2 , 3.o          1
  40    4.(r,e,m)    1
  41    5.o          1 , 5.r          2
  42    6.e          2 , 6.o          1
  43    7.(g,v)      1
  44                                                     /;
  45   
  46  parameter rhs(i,k) result / (v.8,i.7,r.6,g.5,i.4,n.3,i.2,a.1) 1.0 /
  47   
  48   
  49  variables  z      sum of carries - some objective
  50             x(i,j) assignment of digits or values to letters
  51             y(i)   assigned value
  52             c(k)   carry;
  53   
  54  binary variables x; integer variables c;
  55   
  56  equations obj     some objective
  57            eq(k)   defines addition for each slice
  58            ydef(i) assigned value
  59            x1(i)   assignment constraint one
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 3
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
C o m p i l a t i o n


  60            x2(j)   assignment constraint two
  61            ld(i)   bound on lead letters;
  62   
  63  obj..   z =e= sum(k, c(k-1));
  64   
  65  eq(k)..   c(k-1) + sum(i, lhs(k,i)*y(i)) =e=
  66            sum(i, rhs(i,k)*y(i)) + 10*c(k)$(ord(k)<>card(k));
  67   
  68  ydef(i).. y(i) =e= sum(j, (ord(j) - 1)*x(i,j));
  69   
  70  x1(i).. sum(j, x(i,j)) =e= 1;
  71  x2(j).. sum(i, x(i,j)) =e= 1;
  72   
  73  ld(lead).. y(lead) =g= 1;
  74   
  75  model m /all/;
  76   
  77  option optcr=1,optca=100;
  78  solve m using mip minimizing z;


COMPILATION TIME     =        0.001 SECONDS      3 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 4
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
Equation Listing    SOLVE m Using MIP From line 78


---- obj  =E=  some objective

obj..  z - c(1) - c(2) - c(3) - c(4) - c(5) - c(6) - c(7) =E= 0 ; (LHS = 0)
     

---- eq  =E=  defines addition for each slice

eq(1)..  y(n) + y(t) - 10*c(1) =E= 0 ; (LHS = 0)
     
eq(2)..  y(o) + y(n) + c(1) - 10*c(2) =E= 0 ; (LHS = 0)
     
eq(3)..  2*y(g) + y(o) - y(n) + c(2) - 10*c(3) =E= 0 ; (LHS = 0)
     
REMAINING 5 ENTRIES SKIPPED


---- ydef  =E=  assigned value

ydef(g)..  - x(g,e) - 2*x(g,o) - 3*x(g,r) - 4*x(g,i) - 5*x(g,a) - 6*x(g,n) - 7*x(g,v) - 8*x(g,m) - 9*x(g,t) + y(g) =E= 0 ; (LHS = 0)
     
ydef(e)..  - x(e,e) - 2*x(e,o) - 3*x(e,r) - 4*x(e,i) - 5*x(e,a) - 6*x(e,n) - 7*x(e,v) - 8*x(e,m) - 9*x(e,t) + y(e) =E= 0 ; (LHS = 0)
     
ydef(o)..  - x(o,e) - 2*x(o,o) - 3*x(o,r) - 4*x(o,i) - 5*x(o,a) - 6*x(o,n) - 7*x(o,v) - 8*x(o,m) - 9*x(o,t) + y(o) =E= 0 ; (LHS = 0)
     
REMAINING 7 ENTRIES SKIPPED


---- x1  =E=  assignment constraint one

x1(g)..  x(g,g) + x(g,e) + x(g,o) + x(g,r) + x(g,i) + x(g,a) + x(g,n) + x(g,v) + x(g,m) + x(g,t) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
x1(e)..  x(e,g) + x(e,e) + x(e,o) + x(e,r) + x(e,i) + x(e,a) + x(e,n) + x(e,v) + x(e,m) + x(e,t) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
x1(o)..  x(o,g) + x(o,e) + x(o,o) + x(o,r) + x(o,i) + x(o,a) + x(o,n) + x(o,v) + x(o,m) + x(o,t) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
REMAINING 7 ENTRIES SKIPPED


---- x2  =E=  assignment constraint two

x2(g)..  x(g,g) + x(e,g) + x(o,g) + x(r,g) + x(i,g) + x(a,g) + x(n,g) + x(v,g) + x(m,g) + x(t,g) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
x2(e)..  x(g,e) + x(e,e) + x(o,e) + x(r,e) + x(i,e) + x(a,e) + x(n,e) + x(v,e) + x(m,e) + x(t,e) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
x2(o)..  x(g,o) + x(e,o) + x(o,o) + x(r,o) + x(i,o) + x(a,o) + x(n,o) + x(v,o) + x(m,o) + x(t,o) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
REMAINING 7 ENTRIES SKIPPED

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 5
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
Equation Listing    SOLVE m Using MIP From line 78


---- ld  =G=  bound on lead letters

ld(g)..  y(g) =G= 1 ; (LHS = 0, INFES = 1 ****)
     
ld(o)..  y(o) =G= 1 ; (LHS = 0, INFES = 1 ****)
     
ld(v)..  y(v) =G= 1 ; (LHS = 0, INFES = 1 ****)
     
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 6
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
Column Listing      SOLVE m Using MIP From line 78


---- z  sum of carries - some objective

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj


---- x  assignment of digits or values to letters

x(g,g)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       x1(g)
        1       x2(g)

x(g,e)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
       -1       ydef(g)
        1       x1(g)
        1       x2(e)

x(g,o)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
       -2       ydef(g)
        1       x1(g)
        1       x2(o)

REMAINING 97 ENTRIES SKIPPED

---- y  assigned value

y(g)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        2       eq(3)
       -1       eq(5)
        1       eq(7)
        1       ydef(g)
        1       ld(g)

y(e)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       eq(4)
        2       eq(6)
        1       ydef(e)

y(o)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       eq(2)
        1       eq(3)
        1       eq(5)
        1       eq(6)
        1       ydef(o)
        1       ld(o)

GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 7
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
Column Listing      SOLVE m Using MIP From line 78


     y  assigned value

REMAINING 7 ENTRIES SKIPPED

---- c  carry

c(1)
                (.LO, .L, .UP, .M = 0, 0, 100, 0)
       -1       obj
      -10       eq(1)
        1       eq(2)

c(2)
                (.LO, .L, .UP, .M = 0, 0, 100, 0)
       -1       obj
      -10       eq(2)
        1       eq(3)

c(3)
                (.LO, .L, .UP, .M = 0, 0, 100, 0)
       -1       obj
      -10       eq(3)
        1       eq(4)

REMAINING 4 ENTRIES SKIPPED

****
****  7 Integer +INF Bounds have been reset to 100 (see Option IntVarUp)
****
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 8
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
Model Statistics    SOLVE m Using MIP From line 78


MODEL STATISTICS

BLOCKS OF EQUATIONS           6     SINGLE EQUATIONS           42
BLOCKS OF VARIABLES           4     SINGLE VARIABLES          118
NON ZERO ELEMENTS           346     DISCRETE VARIABLES        107


GENERATION TIME      =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG


EXECUTION TIME       =        0.002 SECONDS      4 MB  24.7.4 r58773 LEX-LEG
GAMS 24.7.4  r58773 Released Sep 19, 2016 LEX-LEG x86 64bit/Linux                                                                                                                                                                      12/13/18 10:31:09 Page 9
Alphametics -  A Mathematical Puzzle (ALPHAMET,SEQ=170)
Solution Report     SOLVE m Using MIP From line 78


               S O L V E      S U M M A R Y

     MODEL   m                   OBJECTIVE  z
     TYPE    MIP                 DIRECTION  MINIMIZE
     SOLVER  CONVERT             FROM LINE  78

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      14 No Solution Returned     
**** OBJECTIVE VALUE                0.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

Convert 2.0      24.7.4 r58773 Released Sep 19, 2016 LEG x86 64bit/Linux      

--- Using Option File
Reading parameter(s) from "/home/renigijus/gams/opt-mod-lib/gamslib/alphamet/convert.opt"
>>  pyomo alphamet-scalar.py
Finished reading from "/home/renigijus/gams/opt-mod-lib/gamslib/alphamet/convert.opt"
Pyomo     : alphamet-scalar.py


No solution returned


EXECUTION TIME       =        0.000 SECONDS      2 MB  24.7.4 r58773 LEX-LEG


USER: Remigijus Paulavicius, Single User License     S170731:0859AO-LNX
      Imperial College London, Dept. of Chemical Engineering    DC13449
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/renigijus/gams/opt-mod-lib/gamslib/alphamet/alphamet.gms
Output     /home/renigijus/gams/opt-mod-lib/gamslib/alphamet/alphamet-scalar.py.lst
